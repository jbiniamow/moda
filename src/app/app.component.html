<mat-sidenav-container>
  <app-app-bar *ngIf="router.url != '/login'" [inputSideNav]="panel"></app-app-bar>
  <div id="content">
    <app-sidenav *ngIf="router.url != '/login'"></app-sidenav>
    <app-bottom-nav *ngIf="router.url != '/login'"></app-bottom-nav>
    <router-outlet></router-outlet>
  </div>
  <mat-sidenav #panel position="end">
    <div class="filterContent">
      <h1>
        <button mat-icon-button>
          <mat-icon (click)="panel.toggle()">
            chevron_right
          </mat-icon>
        </button>
        Filters
      </h1>
      <h2>Color</h2>
      <mat-chip-list multiple [(ngModel)]="selectedColors">
        <mat-chip *ngFor="let color of colors" selectable="true" [selected]="isSelected(color)" (click)="toggleColor(color)">
          <mat-icon>{{isSelected(color) ? "check" : ""}}</mat-icon>
          {{color.colorName}}
        </mat-chip>
      </mat-chip-list>
      <mat-divider class="divider"></mat-divider>
      <h2>Clothing type</h2>
      <mat-accordion>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Tops
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-chip-list multiple [(ngModel)]="selectedClothing">
            <mat-chip *ngFor="let top of tops" selectable="true" [selected]="isSelectedClothing(top)" (click)="toggleClothing(top)">
              <mat-icon>{{isSelectedClothing(top) ? "check" : ""}}</mat-icon>
              {{top.displayName}}
            </mat-chip>
          </mat-chip-list>
        </mat-expansion-panel>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Bottoms
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-chip-list multiple [(ngModel)]="selectedClothing">
            <mat-chip *ngFor="let bottom of bottoms" selectable="true" [selected]="isSelectedClothing(bottom)" (click)="toggleClothing(bottom)">
              <mat-icon>{{isSelectedClothing(bottom) ? "check" : ""}}</mat-icon>
              {{bottom.displayName}}
            </mat-chip>
          </mat-chip-list>
        </mat-expansion-panel>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Outerwear
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-chip-list multiple [(ngModel)]="selectedClothing">
            <mat-chip *ngFor="let out of outerwear" selectable="true" [selected]="isSelectedClothing(out)" (click)="toggleClothing(out)">
              <mat-icon>{{isSelectedClothing(out) ? "check" : ""}}</mat-icon>
              {{out.displayName}}
            </mat-chip>
          </mat-chip-list>
        </mat-expansion-panel>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Footwear
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-chip-list multiple [(ngModel)]="selectedClothing">
            <mat-chip *ngFor="let foot of footwear" selectable="true" [selected]="isSelectedClothing(foot)" (click)="toggleClothing(foot)">
              <mat-icon>{{isSelectedClothing(foot) ? "check" : ""}}</mat-icon>
              {{foot.displayName}}
            </mat-chip>
          </mat-chip-list>
        </mat-expansion-panel>
      </mat-accordion>
    </div>
  </mat-sidenav>
</mat-sidenav-container>
