(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"6nsN":function(t,e,n){"use strict";n.r(e);var r=n("zIRd");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.i(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.i(t)},e.prototype.g=function(t){this.h(2,t)},e.prototype.i=function(t){this.h(1,t)},e.prototype.h=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e(function(t,e){i=t,o=e});return this.Pa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=o(t),s=r.next();!s.done;s=r.next())i(s.value).Pa(e,n)})},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e(function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Pa(o(s.length-1),e),r=n.next()}while(!r.done)})},e});var s=s||{},a=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++v)}var y="closure_uid_"+(1e9*Math.random()>>>0),v=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var S=Date.now;function I(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function T(t){return t}function O(t,e,n){this.code=k+t,this.message=e||x[t]||"",this.a=n||null}function C(t){var e=t&&t.code;return e?new O(e.substring(k.length),t.message,t.serverResponse):null}I(O,Error),O.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},O.prototype.toJSON=function(){return this.w()};var A,k="auth/",x={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function j(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function R(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function P(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function L(t,e){throw new P("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function M(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function F(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function U(){this.b=this.a=null}A=j("__EID__")?"__EID__":void 0,I(D,Error),D.prototype.name="CustomError",I(P,D),P.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new M(function(){return new H},function(t){t.reset()});function q(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function H(){this.next=this.b=this.a=null}U.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},H.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},H.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},K=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function $(t,e){return 0<=z(t,e)}function J(t,e){var n;return(n=0<=(e=z(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Q(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function Y(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,st=/\x00/g,at=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var lt=a.navigator;if(lt){var ht=lt.userAgent;if(ht){Z=ht;break t}}Z=""}function ft(t){return ut(Z,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function mt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(m(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function bt(t,e){this.a=t===St&&e||"",this.b=Et}function wt(t){return t instanceof bt&&t.constructor===bt&&t.b===Et?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}bt.prototype.sa=!0,bt.prototype.ra=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t,Et={},St={};function It(){if(void 0===_t){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:T,createScript:T,createScriptURL:T})}catch(n){a.console&&a.console.error(n.message)}_t=t}else _t=t}return _t}function Tt(t,e){this.a=e===xt?t:""}function Ot(t){return t instanceof Tt&&t.constructor===Tt?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function Ct(t,e){var n=wt(t);if(!kt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=It();return new Tt(t=e?e.createScriptURL(t):t,xt)}(t=n.replace(At,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bt?wt(t):encodeURIComponent(String(t))}))}Tt.prototype.sa=!0,Tt.prototype.ra=function(){return this.a.toString()},Tt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var At=/%{(\w+)}/g,kt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,xt={};function Nt(t,e){this.a=e===Ft?t:""}function jt(t){return t instanceof Nt&&t.constructor===Nt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Nt.prototype.sa=!0,Nt.prototype.ra=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Rt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Dt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Pt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof Nt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Pt.test(t))t=new Nt(t,Ft);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Dt);t=e&&Rt.test(e[1])?new Nt(t,Ft):null}return t}function Mt(t){return t instanceof Nt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Pt.test(t)||(t="about:invalid#zClosurez"),new Nt(t,Ft))}var Ft={},Ut=new Nt("about:invalid#zClosurez",Ft);function Vt(t,e,n){this.a=n===qt?t:""}Vt.prototype.sa=!0,Vt.prototype.ra=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qt={};function Ht(t,e,n,r){return t=t instanceof Nt?t:Mt(t),e=e||a,n=n instanceof bt?wt(n):n||"",e.open(jt(t),n,r,void 0)}function zt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Bt(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Kt(t){return Kt[" "](t),t}Kt[" "]=h;var Gt,Wt,$t=ft("Opera"),Jt=ft("Trident")||ft("MSIE"),Qt=ft("Edge"),Yt=Qt||Jt,Xt=ft("Gecko")&&!(ut(Z.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),Zt=ut(Z.toLowerCase(),"webkit")&&!ft("Edge");function te(){var t=a.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Wt=Z,Xt?/rv:([^\);]+)(\)|;)/.exec(Wt):Qt?/Edge\/([\d\.]+)/.exec(Wt):Jt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wt):Zt?/WebKit\/(\S+)/.exec(Wt):$t?/(?:Version)[ \/]?(\S+)/.exec(Wt):void 0);if(ne&&(ee=ne?ne[1]:""),Jt){var re=te();if(null!=re&&re>parseFloat(ee)){Gt=String(re);break t}}Gt=ee}var ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tt(String(Gt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ct(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ct(0==s[2].length,0==a[2].length)||ct(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var se=a.document&&Jt&&(te()||parseInt(Gt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Wt){}var ae=!Jt||9<=Number(se);function ue(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ce(t,e){dt(e,function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:fe.hasOwnProperty(n)?t.setAttribute(fe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var le,he,fe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function de(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||m(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(m(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}B(s?X(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function me(t){a.setTimeout(function(){throw t},0)}function ge(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(be)}}else he=function(){var t=be;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!ft("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(le||(le=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=_(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),le(t)):a.setImmediate(t)}}(),ye||(he(),ye=!0),ve.add(t,e)}var ye=!1,ve=new U;function be(){for(var t;t=q();){try{t.a.call(t.b)}catch(e){me(e)}F(V,t)}ye=!1}function we(t,e){if(this.a=_e,this.h=void 0,this.f=this.b=this.c=null,this.g=this.i=!1,t!=h)try{var n=this;t.call(e,function(t){De(n,Ee,t)},function(t){if(!(t instanceof qe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}De(n,Se,t)})}catch(r){De(this,Se,r)}}var _e=0,Ee=2,Se=3;function Ie(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ie.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Te=new M(function(){return new Ie},function(t){t.reset()});function Oe(t,e,n){var r=Te.get();return r.g=t,r.b=e,r.f=n,r}function Ce(t){if(t instanceof we)return t;var e=new we(h);return De(e,Ee,t),e}function Ae(t){return new we(function(e,n){n(t)})}function ke(t,e,n){Pe(t,e,n,null)||ge(E(e,t))}function xe(t){return new we(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)ke(t[o],E(i,o,!0),E(i,o,!1));else e(r)})}function Ne(t,e){if(t.a==_e)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==_e&&1==r?Ne(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Me(n),Fe(n,i,Se,e)))}t.c=null}else De(t,Se,e)}function je(t,e){t.b||t.a!=Ee&&t.a!=Se||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Re(t,e,n,r){var i=Oe(null,null,null);return i.a=new we(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof qe?o(e):t(i)}catch(s){o(s)}}:o}),i.a.c=t,je(t,i),i.a}function De(t,e,n){t.a==_e&&(t===n&&(e=Se,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.Zc,t.$c,t)||(t.h=n,t.a=e,t.c=null,Le(t),e!=Se||n instanceof qe||function(t,e){t.g=!0,ge(function(){t.g&&Ve.call(null,e)})}(t,n)))}function Pe(t,e,n,r){if(t instanceof we)return je(t,Oe(e||h,n||null,r)),!0;if(R(t))return t.then(e,n,r),!0;if(m(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(i,t))},o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Le(t){t.i||(t.i=!0,ge(t.fc,t))}function Me(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Se&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ue(e,n,r);else try{e.c?e.g.call(e.f):Ue(e,n,r)}catch(i){Ve.call(null,i)}F(Te,e)}function Ue(t,e,n){e==Ee?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}we.prototype.then=function(t,e,n){return Re(this,p(t)?t:null,p(e)?e:null,n)},we.prototype.$goog_Thenable=!0,(t=we.prototype).na=function(t,e){return(t=Oe(t,t,e)).c=!0,je(this,t),this},t.o=function(t,e){return Re(this,null,t,e)},t.cancel=function(t){if(this.a==_e){var e=new qe(t);ge(function(){Ne(this,e)},this)}},t.Zc=function(t){this.a=_e,De(this,Ee,t)},t.$c=function(t){this.a=_e,De(this,Se,t)},t.fc=function(){for(var t;t=Me(this);)Fe(this,t,this.a,this.h);this.i=!1};var Ve=me;function qe(t){D.call(this,t)}function He(){0!=ze&&(Be[g(this)]=this),this.xa=this.xa,this.oa=this.oa}I(qe,D),qe.prototype.name="cancel";var ze=0,Be={};function Ke(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=ze)){var e=g(t);if(0!=ze&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Be[e]}}He.prototype.xa=!1,He.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Ge=Object.freeze||function(t){return t},We=!Jt||9<=Number(se),$e=Jt&&!oe("9"),Je=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ye(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{Kt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Ye,Qe);var Xe=Ge({2:"touch",3:"pen",4:"mouse"});Ye.prototype.preventDefault=function(){Ye.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$e)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ye.prototype.g=function(){return this.a};var Ze="closure_listenable_"+(1e6*Math.random()|0),tn=0;function en(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++tn,this.va=this.Oa=!1}function nn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function rn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&J(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function sn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}rn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=sn(t,e,r,i);return-1<s?(e=t[s],n||(e.Oa=!1)):((e=new en(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),un={};function cn(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=wn(n),t&&t[Ze]?En(t,e,n,m(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=m(i)?!!i.capture:!!i,a=vn(t);if(a||(t[an]=a=new rn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=yn,e=We?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Je||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=wn(n),t&&t[Ze]?Sn(t,e,n,m(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function fn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=wn(n),t&&t[Ze]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=sn(o=t.a[e],n,r,i))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sn(e,n,r,i)),(n=-1<t?e[t]:null)&&dn(n))}function dn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Ze])on(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vn(e))?(on(n,t),0==n.b&&(n.src=null,e[an]=null)):nn(t)}}}function pn(t){return t in un?un[t]:un[t]="on"+t}function mn(t,e,n,r){var i=!0;if((t=vn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&dn(t),n.call(r,e)}function yn(t,e){if(t.va)return!0;if(!We){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ye(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=mn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=mn(r[i],t,!1,e),n=n&&o}return n}return gn(t,new Ye(e,this))}function vn(t){return(t=t[an])instanceof rn?t:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(t){return p(t)?t:(t[bn]||(t[bn]=function(e){return t.handleEvent(e)}),t[bn])}function _n(){He.call(this),this.v=new rn(this),this.$b=this,this.fb=null}function En(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Sn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function In(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Ua||s.src;s.Oa&&on(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Tn(t,e,n){if(p(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function On(t){var e=null;return new we(function(n,r){-1==(e=Tn(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw a.clearTimeout(e),t})}function Cn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function kn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof kn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Nn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Nn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Nn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(_n,He),_n.prototype[Ze]=!0,_n.prototype.addEventListener=function(t,e,n,r){cn(this,t,e,n,r)},_n.prototype.removeEventListener=function(t,e,n,r){fn(this,t,e,n,r)},_n.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;yt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=In(s,r,!0,t)&&i}if(i=In(s=t.b=n,r,!0,t)&&i,i=In(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=In(s=t.b=e[o],r,!1,t)&&i;return i},_n.prototype.Da=function(){if(_n.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)nn(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=kn.prototype).V=function(){xn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return xn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Nn(this.b,t)?this.b[t]:e},t.set=function(t,e){Nn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var jn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rn(t,e){var n;this.a=this.l=this.f="",this.g=null,this.i=this.c="",this.h=!1,t instanceof Rn?(this.h=void 0!==e?e:t.h,Dn(this,t.f),this.l=t.l,this.a=t.a,Pn(this,t.g),this.c=t.c,Ln(this,er(t.b)),this.i=t.i):t&&(n=String(t).match(jn))?(this.h=!!e,Dn(this,n[1]||"",!0),this.l=qn(n[2]||""),this.a=qn(n[3]||"",!0),Pn(this,n[4]),this.c=qn(n[5]||"",!0),Ln(this,n[6]||"",!0),this.i=qn(n[7]||"")):(this.h=!!e,this.b=new Jn(null,this.h))}function Dn(t,e,n){t.f=n?qn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Ln(t,e,n){e instanceof Jn?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),tr(this,n,t))},t)),t.f=e}(t.b,t.h)):(n||(e=Hn(e,Wn)),t.b=new Jn(e,t.h))}function Mn(t,e,n){t.b.set(e,n)}function Fn(t,e){return t.b.get(e)}function Un(t){return t instanceof Rn?new Rn(t):new Rn(t,void 0)}function Vn(t,e,n,r){var i=new Rn(null,void 0);return t&&Dn(i,t),e&&(i.a=e),n&&Pn(i,n),r&&(i.c=r),i}function qn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Hn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,zn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Rn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Hn(e,Bn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Hn(e,Bn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Hn(n,"/"==n.charAt(0)?Gn:Kn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Hn(n,$n)),t.join("")},Rn.prototype.resolve=function(t){var e=new Rn(this),n=!!t.f;n?Dn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Pn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?Ln(e,er(t.b)):n=!!t.i,n&&(e.i=t.i),e};var Bn=/[#\/\?@]/g,Kn=/[#\?:]/g,Gn=/[#\?]/g,Wn=/[#\?@]/g,$n=/#/g;function Jn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new kn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Yn(t){var e=An(t);if(void 0===e)throw Error("Keys are undefined");var n=new Jn(null,void 0);t=Cn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Xn(t,e){Qn(t),e=nr(t,e),Nn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Nn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xn(t)))}function Zn(t,e){return Qn(t),e=nr(t,e),Nn(t.a.b,e)}function tr(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(nr(t,e),X(n)),t.b+=n.length)}function er(t){var e=new Jn;return e.c=t.c,t.a&&(e.a=new kn(t.a),e.b=t.b),e}function nr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rr(t){var e=[];return or(new ir,t,e),e.join("")}function ir(){}function or(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),or(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),ur(r,n),n.push(":"),or(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ur(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Jn.prototype).add=function(t,e){Qn(this),this.c=null,t=nr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach(function(n,r){B(n,function(n){t.call(e,n,r,this)},this)},this)},t.Y=function(){Qn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Qn(this);var e=[];if("string"==typeof t)Zn(this,t)&&(e=Y(e,this.a.get(nr(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=Y(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,Zn(this,t=nr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(t,e){e.push('"',t.replace(ar,function(t){var e=sr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),sr[t]=e),e}),'"')}function cr(){var t=kr();return Jt&&!!se&&11==se||/Edge\/\d+/.test(t)}function lr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function hr(t,e){e=e||a.window;var n="about:blank";t&&(n=jt(Lt(t)||Ut)),e.location.href=n}function fr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<fr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function dr(t){return!!((t=(t||kr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function pr(t){t=t||a.window;try{t.close()}catch(e){}}function mr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=kr().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),Or(kr())==Ir&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Nt?n:Lt(void 0!==n.href?n.href:String(n))||Ut,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof Nt?e:Mt(e),s.href=jt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Ht("",r,n,s),t=jt(e),s&&(Yt&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Bt(t)+'">',t=new Vt(t=(r=It())?r.createHTML(t):t,null,qt),r=s.document)&&(r.write(function(t){return t instanceof Vt&&t.constructor===Vt?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Ht(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function vr(){var t=null;return new we(function(e){"complete"==a.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw fn(window,"load",t),e})}function br(t){return t=t||kr(),!("file:"!==Dr()&&"ionic:"!==Dr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function wr(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function _r(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function Er(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":_r()?"Worker":"Browser"}function Sr(){var t=Er();return"ReactNative"===t||"Node"===t}var Ir="Firefox",Tr="Chrome";function Or(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?Ir:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Tr:"Safari"}var Cr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Ar(t,e){e=e||[];var n,r=[],i={};for(n in Cr)i[Cr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Er())?r=Or(i=kr()):"Worker"===r&&(r=Or(i=kr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function kr(){return a.navigator&&a.navigator.userAgent||""}function xr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Nr(){try{var t=a.localStorage,e=Ur();if(t)return t.setItem(e,"1"),t.removeItem(e),!cr()||!!a.indexedDB}catch(n){return _r()&&!!a.indexedDB}return!1}function jr(){return(Rr()||"chrome-extension:"===Dr()||br())&&!Sr()&&Nr()&&!_r()}function Rr(){return"http:"===Dr()||"https:"===Dr()}function Dr(){return a.location&&a.location.protocol||null}function Pr(t){return!dr(t=t||kr())&&Or(t)!=Ir}function Lr(t){return void 0===t?null:rr(t)}function Mr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Fr(t){if(null!==t)return JSON.parse(t)}function Ur(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return"Safari"!=Or(t=t||kr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function qr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Hr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=kr(),e=Er(),this.b=dr(t)||"ReactNative"===e}function zr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Kr(){return!(!xr("fireauth.oauthhelper",a)&&!xr("fireauth.iframe",a))}Hr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Rr()&&"chrome-extension:"!==Dr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Gr,Wr={};function $r(t){Wr[t]||(Wr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Jr={};Object.defineProperty(Jr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Jr,"abcd",{configurable:!0,enumerable:!0,value:2}),Gr=2==Jr.abcd}catch(Wt){Gr=!1}function Qr(t,e,n){Gr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Yr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Qr(t,n,e[n])}function Xr(t){var e={};return Yr(e,t),e}function Zr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Qr(e,n,Zr(t[n]));return e}function ti(t){var e=t&&(t[oi]?"phone":null);if(!(e&&t&&t[ii]))throw new O("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",t[ii]),Qr(this,"displayName",t[ni]||null);var n=null;t[ri]&&(n=new Date(t[ri]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",e)}function ei(t){try{var e=new si(t)}catch(n){e=null}return e}ti.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ni="displayName",ri="enrolledAt",ii="mfaEnrollmentId",oi="phoneInfo";function si(t){ti.call(this,t),Qr(this,"phoneNumber",t[oi])}function ai(t){var e={},n=t[hi],r=t[di],i=t[pi];if(t=ei(t[fi]),!i||i!=ci&&i!=li&&!n||i==li&&!r||i==ui&&!t)throw Error("Invalid checkActionCode response!");i==li?(e[gi]=n||null,e[vi]=n||null,e[mi]=r):(e[gi]=r||null,e[vi]=r||null,e[mi]=n||null),e[yi]=t||null,Qr(this,wi,i),Qr(this,bi,Zr(e))}I(si,ti),si.prototype.w=function(){var t=si.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ui="REVERT_SECOND_FACTOR_ADDITION",ci="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",hi="email",fi="mfaInfo",di="newEmail",pi="requestType",mi="email",gi="fromEmail",yi="multiFactorInfo",vi="previousEmail",bi="data",wi="operation";function _i(t){var e=Fn(t=Un(t),Ei)||null,n=Fn(t,Si)||null,r=Fn(t,Oi)||null;if(r=r&&Ai[r]||null,!e||!n||!r)throw new O("argument-error",Ei+", "+Si+"and "+Oi+" are required in a valid action code URL.");Yr(this,{apiKey:e,operation:r,code:n,continueUrl:Fn(t,Ii)||null,languageCode:Fn(t,Ti)||null,tenantId:Fn(t,Ci)||null})}var Ei="apiKey",Si="oobCode",Ii="continueUrl",Ti="languageCode",Oi="mode",Ci="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ui,signIn:ci,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function ki(t){try{return new _i(t)}catch(e){return null}}function xi(t){var e=t[Pi];if(void 0===e)throw new O("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new O("invalid-continue-uri");this.i=e,this.b=this.a=null,this.g=!1;var n=t[Ni];if(n&&"object"==typeof n){e=n[Fi];var r=n[Li];if(n=n[Mi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new O("argument-error",Li+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new O("argument-error",Mi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new O("argument-error",Fi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new O("missing-android-pkg-name")}}else if(void 0!==n)throw new O("argument-error",Ni+" property must be a non null object when specified.");if(this.f=null,(e=t[Di])&&"object"==typeof e){if("string"==typeof(e=e[Ui])&&e.length)this.f=e;else if(void 0!==e)throw new O("argument-error",Ui+" property must be a non empty string when specified.")}else if(void 0!==e)throw new O("argument-error",Di+" property must be a non null object when specified.");if(void 0!==(e=t[Ri])&&"boolean"!=typeof e)throw new O("argument-error",Ri+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[ji])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new O("argument-error",ji+" property must be a non empty string when specified.");this.h=t||null}var Ni="android",ji="dynamicLinkDomain",Ri="handleCodeInApp",Di="iOS",Pi="url",Li="installApp",Mi="minimumVersion",Fi="packageName",Ui="bundleId";function Vi(t){var e={};for(var n in e.continueUrl=t.i,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.h,e)null===e[n]&&delete e[n];return e}var qi=null;function Hi(t){var e=Bi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.i=t,this.a=e.exp,this.h=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function zi(t){try{return new Hi(t)}catch(e){return null}}function Bi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=qi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!qi){qi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===qi[o]&&(qi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t))}catch(r){}return null}Hi.prototype.S=function(){return this.f},Hi.prototype.l=function(){return this.c},Hi.prototype.toString=function(){return this.i};var Ki="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gi=["client_id","response_type","scope","redirect_uri","state"],Wi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Gi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Gi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Gi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Ki},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function $i(t){for(var e in Wi)if(Wi[e].fa==t)return Wi[e];return null}function Ji(t){var e={};e["facebook.com"]=to,e["google.com"]=no,e["github.com"]=eo,e["twitter.com"]=ro;var n=t&&t[Yi];try{if(n)return e[n]?new e[n](t):new Zi(t);if(void 0!==t[Qi])return new Xi(t)}catch(r){}return null}var Qi="idToken",Yi="providerId";function Xi(t){var e=t[Yi];if(!e&&t[Qi]){var n=zi(t[Qi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Qr(this,"providerId",e),Qr(this,"isNewUser",n)}function Zi(t){Xi.call(this,t),Qr(this,"profile",Zr((t=Fr(t.rawUserInfo||"{}"))||{}))}function to(t){if(Zi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Zi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function no(t){if(Zi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(Zi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",t.screenName||null)}function io(t){var e=Un(t),n=Fn(e,"link"),r=Fn(Un(n),"link");return e=Fn(e,"deep_link_id"),Fn(Un(e),"link")||e||r||n||t}function oo(t,e){if(!t&&!e)throw new O("internal-error","Internal assert: no raw session string available");if(t&&e)throw new O("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?so:ao}I(Zi,Xi),I(to,Zi),I(eo,Zi),I(no,Zi),I(ro,Zi);var so="enroll",ao="signin";function uo(){}function co(t,e){return t.then(function(t){if(t[Qs]){var n=zi(t[Qs]);if(!n||e!=n.h)throw new O("user-mismatch");return t}throw new O("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==k+"user-not-found"?new O("user-mismatch"):t})}function lo(t,e){if(!e)throw new O("internal-error","failed to construct a credential");this.a=e,Qr(this,"providerId",t),Qr(this,"signInMethod",t)}function ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new lo(t.providerId,t.pendingToken)}catch(e){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Qr(this,"idToken",e.idToken),e.accessToken&&Qr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Qr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new O("internal-error","failed to construct a credential");Qr(this,"accessToken",e.oauthToken),Qr(this,"secret",e.oauthTokenSecret)}Qr(this,"providerId",t),Qr(this,"signInMethod",n)}function mo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Yn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function go(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(n){}}return null}function yo(t,e){this.Pc=e||[],Yr(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=($i(t)||{}).Ja||null,this.nb=null}function vo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new O("argument-error",'SAML provider IDs must be prefixed with "saml."');yo.call(this,t,[])}function bo(t){yo.call(this,t,Gi),this.a=[]}function wo(){bo.call(this,"facebook.com")}function _o(t){if(!t)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Eo(){bo.call(this,"github.com")}function So(t){if(!t)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new Eo).credential({accessToken:e})}function Io(){bo.call(this,"google.com"),this.Ca("profile")}function To(t,e){var n=t;return m(t)&&(n=t.idToken,e=t.accessToken),(new Io).credential({idToken:n,accessToken:e})}function Oo(){yo.call(this,"twitter.com",Ki)}function Co(t,e){var n=t;if(m(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new O("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function Ao(t,e,n){this.a=t,this.f=e,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===xo.EMAIL_LINK_SIGN_IN_METHOD?xo.EMAIL_LINK_SIGN_IN_METHOD:xo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ko(t){return t&&t.email&&t.password?new Ao(t.email,t.password,t.signInMethod):null}function xo(){Yr(this,{providerId:"password",isOAuthProvider:!1})}function No(t,e){if(!(e=jo(e)))throw new O("argument-error","Invalid email link!");return new Ao(t,e.code,xo.EMAIL_LINK_SIGN_IN_METHOD)}function jo(t){return(t=ki(t=io(t)))&&t.operation===ci?t:null}function Ro(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new O("internal-error");this.a=t,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function Do(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Ro(e)}return null}function Po(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function Lo(t){try{this.a=t||r.a.auth()}catch(e){throw new O("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Yr(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(t,e){if(!t)throw new O("missing-verification-id");if(!e)throw new O("missing-verification-code");return new Ro({cb:t,bb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new Ro({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return To(o,n);case"facebook.com":return _o(n);case"github.com":return So(n);case"twitter.com":return Co(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new lo(e,s):new po(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new bo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Uo(t){if(!t.isOAuthProvider)throw new O("invalid-oauth-provider")}function Vo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.h=o||null,this.i=s||null,this.a=i||null,!this.g&&!this.a)throw new O("invalid-auth-event");if(this.g&&this.a)throw new O("invalid-auth-event");if(this.g&&!this.f)throw new O("invalid-auth-event")}function qo(t){return(t=t||{}).type?new Vo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&C(t.error),t.postBody,t.tenantId):null}function Ho(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return Ce(this.a?this.a:this.b)},oo.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ja=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},lo.prototype.ja=function(t){return ya(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,va(t,n)},lo.prototype.c=function(t,e){return co(ba(t,ho(this)),e)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ja=function(t){return ya(t,mo(this))},po.prototype.b=function(t,e){var n=mo(this);return n.idToken=e,va(t,n)},po.prototype.c=function(t,e){return co(ba(t,mo(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},yo.prototype.Ka=function(t){return this.Hb=mt(t),this},I(vo,yo),I(bo,yo),bo.prototype.Ca=function(t){return $(this.a,t)||this.a.push(t),this},bo.prototype.Pb=function(){return X(this.a)},bo.prototype.credential=function(t,e){var n;if(!(n=m(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new O("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},I(wo,bo),Qr(wo,"PROVIDER_ID","facebook.com"),Qr(wo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(Eo,bo),Qr(Eo,"PROVIDER_ID","github.com"),Qr(Eo,"GITHUB_SIGN_IN_METHOD","github.com"),I(Io,bo),Qr(Io,"PROVIDER_ID","google.com"),Qr(Io,"GOOGLE_SIGN_IN_METHOD","google.com"),I(Oo,yo),Qr(Oo,"PROVIDER_ID","twitter.com"),Qr(Oo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ao.prototype.ja=function(t){return this.signInMethod==xo.EMAIL_LINK_SIGN_IN_METHOD?tu(t,Ca,{email:this.a,oobCode:this.f}):tu(t,Ja,{email:this.a,password:this.f})},Ao.prototype.b=function(t,e){return this.signInMethod==xo.EMAIL_LINK_SIGN_IN_METHOD?tu(t,Aa,{idToken:e,email:this.a,oobCode:this.f}):tu(t,qa,{idToken:e,email:this.a,password:this.f})},Ao.prototype.c=function(t,e){return co(this.ja(t),e)},Ao.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Yr(xo,{PROVIDER_ID:"password"}),Yr(xo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Yr(xo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ro.prototype.ja=function(t){return t.eb(Po(this))},Ro.prototype.b=function(t,e){var n=Po(this);return n.idToken=e,tu(t,Ya,n)},Ro.prototype.c=function(t,e){var n=Po(this);return n.operation="REAUTH",co(t=tu(t,Xa,n),e)},Ro.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Lo.prototype.eb=function(t,e){var n=this.a.a;return Ce(e.verify()).then(function(r){if("string"!=typeof r)throw new O("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=m(t)?t.session:null,o=m(t)?t.phoneNumber:t;return(i&&i.type==so?i.Ha().then(function(t){return function(t,e){return tu(t,za,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==ao?i.Ha().then(function(e){return function(t,e){return tu(t,Ba,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return tu(t,Ua,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new O("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Yr(Lo,{PROVIDER_ID:"phone"}),Yr(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),Vo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.i&&t.push(this.i),t.join("-")},Vo.prototype.S=function(){return this.i},Vo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,tenantId:this.i,error:this.a&&this.a.w()}};var zo,Bo=null;function Ko(t){var e="unauthorized-domain",n=void 0,r=Un(t);t=r.a,"chrome-extension"==(r=r.f)?n=zt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=zt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",O.call(this,e,n)}function Go(t,e,n){O.call(this,t,n),(t=e||{}).Ib&&Qr(this,"email",t.Ib),t.ea&&Qr(this,"phoneNumber",t.ea),t.credential&&Qr(this,"credential",t.credential),t.Yb&&Qr(this,"tenantId",t.Yb)}function Wo(t){if(t.code){var e=t.code||"";0==e.indexOf(k)&&(e=e.substring(k.length));var n={credential:Fo(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new O(e,t.message||void 0);return new Go(e,n,t.message)}return null}function $o(){}function Jo(){}function Qo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Yo(){}function Xo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.pc,this),this.a.onerror=_(this.Rb,this),this.a.onprogress=_(this.qc,this),this.a.ontimeout=_(this.uc,this)}function Zo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ts(t,e,n){this.reset(t,e,n,void 0,void 0)}function es(t){this.f=t,this.b=this.c=this.a=null}function ns(t,e){this.name=t,this.value=e}I(Ko,O),I(Go,O),Go.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},Go.prototype.toJSON=function(){return this.w()},$o.prototype.c=null,I(Jo,$o),Jo.prototype.a=function(){var t=Qo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Jo.prototype.b=function(){var t={};return Qo(this)&&(t[0]=!0,t[1]=!0),t},zo=new Jo,I(Yo,$o),Yo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Xo;throw Error("Unsupported browser")},Yo.prototype.b=function(){return{}},(t=Xo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zo(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",Zo(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,Zo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ts.prototype.a=null,ts.prototype.reset=function(t,e,n,r,i){r||S(),delete this.a},ns.prototype.toString=function(){return this.name};var rs=new ns("SEVERE",1e3),is=new ns("WARNING",900),os=new ns("CONFIG",700),ss=new ns("FINE",500);function as(t){return t.c?t.c:t.a?as(t.a):(L("Root logger has no level set."),null)}es.prototype.log=function(t,e,n){if(t.value>=as(this).value)for(p(e)&&(e=e()),t=new ts(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var us={},cs=null;function ls(t){var e;if(cs||(cs=new es(""),us[""]=cs,cs.c=os),!(e=us[t])){e=new es(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ls(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,us[t]=e}return e}function hs(t,e){t&&t.log(ss,e,void 0)}function fs(t){this.f=t}function ds(t){_n.call(this),this.u=t,this.i=void 0,this.readyState=ps,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.h=ls("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(fs,$o),fs.prototype.a=function(){return new ds(this.f)},fs.prototype.b=function(t){return function(){return t}}({}),I(ds,_n);var ps=0;function ms(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function gs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ys(t)}function ys(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function vs(t){_n.call(this),this.headers=new kn,this.O=t||null,this.c=!1,this.A=this.a=null,this.i=this.P=this.l="",this.f=this.N=this.h=this.G=!1,this.g=0,this.s=null,this.m=bs,this.u=this.R=!1}(t=ds.prototype).open=function(t,e){if(this.readyState!=ps)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ys(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.i,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,gs(this)),this.readyState=ps},t.tc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ys(this)),this.a&&(this.readyState=3,ys(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ms(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?gs(this):ys(this),3==this.readyState&&ms(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,gs(this))},t.rc=function(t){this.a&&(this.response=t,gs(this))},t.Ta=function(t){var e=this.h;e&&e.log(is,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&gs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(is,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(is,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return"include"===this.i},set:function(t){this.i=t?"include":"same-origin"}}),I(vs,_n);var bs="";vs.prototype.b=ls("goog.net.XhrIo");var ws=/^https?$/i,_s=["POST","PUT"];function Es(t){return"content-type"==t.toLowerCase()}function Ss(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.i=e,Is(t),Os(t)}function Is(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ts(t){if(t.c&&void 0!==s)if(t.A[1]&&4==As(t)&&2==ks(t))hs(t.b,xs(t,"Local request error detected and ignored"));else if(t.h&&4==As(t))Tn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==As(t)){hs(t.b,xs(t,"Request complete")),t.c=!1;try{var e,n=ks(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(jn)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}i=!ws.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<As(t)?t.a.statusText:""}catch(l){hs(t.b,"Can not get status: "+l.message),c=""}t.i=c+" ["+ks(t)+"]",Is(t)}}finally{Os(t)}}}function Os(t,e){if(t.a){Cs(t);var n=t.a,r=t.A[0]?h:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(rs,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Cs(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function As(t){return t.a?t.a.readyState:0}function ks(t){try{return 2<As(t)?t.a.status:-1}catch(e){return-1}}function xs(t,e){return e+" ["+t.P+" "+t.l+" "+ks(t)+"]"}function Ns(t){var e=Hs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.h=!1,this.i=0,this.b=null,this.l=0}function js(t,e,n){t.a=!0,t.c=n,t.f=!e,Ls(t)}function Rs(t){if(t.a){if(!t.m)throw new Ms(t);t.m=!1}}function Ds(t,e,n,r){t.g.push([e,n,r]),t.a&&Ls(t)}function Ps(t){return W(t.g,function(t){return p(t[1])})}function Ls(t){if(t.i&&t.a&&Ps(t)){var e=t.i,n=Vs[e];n&&(a.clearTimeout(n.a),delete Vs[e]),t.i=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.h;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(R(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.h=!0)}catch(c){e=c,t.f=!0,Ps(t)||(n=!0)}}t.c=e,r&&(u=_(t.v,t,!0),r=_(t.v,t,!1),e instanceof Ns?(Ds(e,u,r),e.A=!0):e.then(u,r)),n&&(e=new Us(e),Vs[e.a]=e,t.i=e.a)}function Ms(){D.call(this)}function Fs(){D.call(this)}function Us(t){this.a=a.setTimeout(_(this.c,this),0),this.b=t}(t=vs.prototype).Ma=function(){void 0!==s&&this.a&&(this.i="Timed out after "+this.g+"ms, aborting",hs(this.b,xs(this,this.i)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(hs(this.b,xs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Os(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Os(this,!0)),vs.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.h||this.f?Ts(this):this.Ic())},t.Ic=function(){Ts(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case bs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(rs,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return hs(this.b,"Can not get response: "+e.message),null}},Ns.prototype.cancel=function(t){if(this.a)this.c instanceof Ns&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.m=!0,this.a||(t=new Fs(this),Rs(this),js(this,!1,t))}},Ns.prototype.v=function(t,e){this.h=!1,js(this,t,e)},Ns.prototype.then=function(t,e,n){var r,i,o=new we(function(t,e){r=t,i=e});return Ds(this,r,function(t){t instanceof Fs?o.cancel():i(t)}),o.then(t,e,n)},Ns.prototype.$goog_Thenable=!0,I(Ms,D),Ms.prototype.message="Deferred has already fired",Ms.prototype.name="AlreadyCalledError",I(Fs,D),Fs.prototype.message="Deferred was canceled",Fs.prototype.name="CanceledError",Us.prototype.c=function(){throw delete Vs[this.a],this.b};var Vs={};function qs(t){var e={},n=e.document||document,r=Ot(t).toString(),i=pe(document,"SCRIPT"),o={Vb:i,Ma:void 0},s=new Ns(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout(function(){zs(i,!0);var t=new Gs(Ks,"Timeout reached for loading script "+r);Rs(s),js(s,!1,t)},h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(zs(i,e.wd||!1,u),Rs(s),js(s,!0,null))},i.onerror=function(){zs(i,!0,u);var t=new Gs(Bs,"Error while loading script "+r);Rs(s),js(s,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Ot(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=l(e.document):(null===c&&(c=l(a.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Hs(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&zs(t,!0,this.Ma)}}function zs(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Bs=0,Ks=1;function Gs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function Ws(t){this.f=t}function $s(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||Ys,this.g=mt(t.secureTokenHeaders||Xs),this.i=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||Zs,this.a=mt(t.firebaseHeaders||ta),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Er(),!(n=a.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!_r())throw new O("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=_r()?new fs(self):Sr()?new Ws(n):new Yo,this.b=null}I(Gs,D),I(Ws,$o),Ws.prototype.a=function(){return new this.f},Ws.prototype.b=function(){return{}};var Js,Qs="idToken",Ys=new Hr(3e4,6e4),Xs={"Content-Type":"application/x-www-form-urlencoded"},Zs=new Hr(3e4,6e4),ta={"Content-Type":"application/json"};function ea(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function na(t,e){e&&(t.l=ra("https://securetoken.googleapis.com/v1/token",e),t.i=ra("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.h=ra("https://identitytoolkit.googleapis.com/v2/",e))}function ra(t,e){return t=Un(t),e=Un(e.url),t.c=t.a+t.c,Dn(t,e.f),t.a=e.a,Pn(t,e.g),t.toString()}function ia(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function oa(t,e,n,r,i,o,s){(function(){var t=kr();return!((t=Or(t)!=Tr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Jt&&se&&!(9<se))})()||_r()?t=_(t.u,t):(Js||(Js=new we(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[aa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ds(t,null,e,void 0)}(qs(Ct(sa,{onload:aa})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=_(t.s,t)),t(e,n,r,i,o,s)}$s.prototype.S=function(){return this.b},$s.prototype.u=function(t,e,n,r,i,o){if(_r()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new O("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new vs(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout(function(){s.dispatchEvent("timeout")},o)}En(s,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return hs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),Sn(s,"ready",function(){u&&clearTimeout(u),Ke(this)}),Sn(s,"timeout",function(){u&&clearTimeout(u),Ke(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.i="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():zo.a(),t.A=function(t){return t.c||(t.c=t.b())}(t.O?t.O:zo),t.a.onreadystatechange=_(t.Ub,t);try{hs(t.b,xs(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(s){return hs(t.b,xs(t,"Error opening Xhr: "+s.message)),void Ss(t,s)}e=r||"";var o=new kn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)B(t,e,void 0);else for(var n=An(t),r=Cn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=Es,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!$(_s,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Cs(t),0<t.g&&(t.u=function(t){return Jt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),hs(t.b,xs(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ma,t)):t.s=Tn(t.Ma,t.g,t)),hs(t.b,xs(t,"Sending request")),t.h=!0,t.a.send(e),t.h=!1}catch(s){hs(t.b,xs(t,"Send error: "+s.message)),Ss(t,s)}}(s,t,n,r,i)};var sa=new bt(St,"https://apis.google.com/js/client.js?onload=%{onload}"),aa="__fcb"+Math.floor(1e6*Math.random()).toString();function ua(t){if("string"!=typeof(t=t.email)||!yr.test(t))throw new O("invalid-email")}function ca(t){"email"in t&&ua(t)}function la(t){if(!t[Qs]){if(t.mfaPendingCredential)throw new O("multi-factor-auth-required",null,mt(t));throw new O("internal-error")}}function ha(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new O("internal-error")}else{if(!t.sessionInfo)throw new O("missing-verification-id");if(!t.code)throw new O("missing-verification-code")}}$s.prototype.s=function(t,e,n,r,i){var o=this;Js.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},$s.prototype.yb=function(){return tu(this,Ha,{})},$s.prototype.Ab=function(t,e){return tu(this,Va,{idToken:t,email:e})},$s.prototype.Bb=function(t,e){return tu(this,qa,{idToken:t,password:e})};var fa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function da(t){if(!t.phoneVerificationInfo)throw new O("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new O("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new O("missing-verification-code")}function pa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new O("internal-error")}function ma(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Zn(t=new Jn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ga(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Wo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Wo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Wo(t)):t.errorMessage&&(e=eu(t.errorMessage)),e)throw e;la(t)}function ya(t,e){return e.returnIdpCredential=!0,tu(t,Ka,e)}function va(t,e){return e.returnIdpCredential=!0,tu(t,Wa,e)}function ba(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,tu(t,Ga,e)}function wa(t){if(!t.oobCode)throw new O("invalid-action-code")}(t=$s.prototype).Cb=function(t,e){var n={idToken:t},r=[];return dt(fa,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),tu(this,Va,n)},t.ub=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),tu(this,Pa,t)},t.vb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),tu(this,ja,t)},t.tb=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),tu(this,Ra,t)},t.Db=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),tu(this,Da,t)},t.eb=function(t){return tu(this,Qa,t)},t.mb=function(t,e){return tu(this,Fa,{oobCode:t,newPassword:e})},t.Qa=function(t){return tu(this,Ea,{oobCode:t})},t.ib=function(t){return tu(this,_a,{oobCode:t})};var _a={endpoint:"setAccountInfo",B:wa,Z:"email",C:!0},Ea={endpoint:"resetPassword",B:wa,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new O("internal-error")},C:!0},Sa={endpoint:"signupNewUser",B:function(t){if(ua(t),!t.password)throw new O("weak-password")},F:la,U:!0,C:!0},Ia={endpoint:"createAuthUri",C:!0},Ta={endpoint:"deleteAccount",M:["idToken"]},Oa={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if(!Array.isArray(t.deleteProvider))throw new O("internal-error")}},Ca={endpoint:"emailLinkSignin",M:["email","oobCode"],B:ua,F:la,U:!0,C:!0},Aa={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:ua,F:la,U:!0},ka={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:da,F:la,C:!0,Na:!0},xa={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:da,F:la,C:!0,Na:!0},Na={endpoint:"getAccountInfo"},ja={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new O("internal-error");ua(t)},Z:"email",C:!0},Ra={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new O("internal-error")},Z:"email",C:!0},Da={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new O("internal-error")},Z:"email",C:!0},Pa={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new O("internal-error");ua(t)},Z:"email",C:!0},La={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Ma={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new O("internal-error")}},Fa={endpoint:"resetPassword",B:wa,Z:"email",C:!0},Ua={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Va={endpoint:"setAccountInfo",M:["idToken"],B:ca,U:!0},qa={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(ca(t),!t.password)throw new O("weak-password")},F:la,U:!0},Ha={endpoint:"signupNewUser",F:la,U:!0,C:!0},za={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new O("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new O("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new O("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new O("internal-error")},C:!0,Na:!0},Ba={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new O("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new O("internal-error")},C:!0,Na:!0},Ka={endpoint:"verifyAssertion",B:pa,Xa:ma,F:ga,U:!0,C:!0},Ga={endpoint:"verifyAssertion",B:pa,Xa:ma,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new O("user-not-found");if(t.errorMessage)throw eu(t.errorMessage);la(t)},U:!0,C:!0},Wa={endpoint:"verifyAssertion",B:function(t){if(pa(t),!t.idToken)throw new O("internal-error")},Xa:ma,F:ga,U:!0},$a={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new O("invalid-custom-token")},F:la,U:!0,C:!0},Ja={endpoint:"verifyPassword",B:function(t){if(ua(t),!t.password)throw new O("wrong-password")},F:la,U:!0,C:!0},Qa={endpoint:"verifyPhoneNumber",B:ha,F:la,C:!0},Ya={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new O("internal-error");ha(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Wo(t);la(t)}},Xa={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ha,F:la,C:!0},Za={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Qs]^!!t.refreshToken)throw new O("internal-error")},C:!0,Na:!0};function tu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Ae(new O("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return Ce(n).then(e.B).then(function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Un(e+n);Mn(a,"key",t.c),s&&Mn(a,"cb",S().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Mn(a,c,i[c]);return new we(function(e,n){oa(t,a.toString(),function(t){t?t.error?n(nu(t,o||{})):e(t):n(new O("network-request-failed"))},r,u?void 0:rr(Mr(i)),t.a,t.m.get())})}(t,i?t.h:t.i,e.endpoint,o,n,e.Gb,e.kb||!1)}).then(function(t){return r=t,e.Xa?e.Xa(n,r):r}).then(e.F).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new O("internal-error");return r[e.Z]})}function eu(t){return nu({error:{errors:[{message:t}],code:400,message:t}})}function nu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new O(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new O(r[i],e);return!e&&t&&(e=Lr(t)),new O("internal-error",e)}function ru(t){this.b=t,this.a=null,this.qb=function(t){return(au||(au=new we(function(t,e){function n(){qr(),xr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){qr(),e(Error("Network Error"))},timeout:ou.get()})}if(xr("gapi.iframes.Iframe"))t();else if(xr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){xr("gapi.load")?n():e(Error("Network Error"))},Ce(qs(r=Ct(iu,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw au=null,t}))).then(function(){return new we(function(e,n){xr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:xr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},su.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var iu=new bt(St,"https://apis.google.com/js/api.js?onload=%{onload}"),ou=new Hr(3e4,6e4),su=new Hr(5e3,15e3),au=null;function uu(t,e,n,r){this.l=t,this.i=e,this.h=n,this.g=r,this.f=null,t=this.g?Vn((t=Un(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):Vn("https",this.l,null,"/__/auth/iframe"),this.a=t,Mn(this.a,"apiKey",this.i),Mn(this.a,"appName",this.h),this.b=null,this.c=[]}function cu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.v=r,this.m=o,this.h=this.g=this.l=null,this.a=i,this.i=this.f=null}function lu(t){try{return r.a.app(t).auth().Ga()}catch(e){return[]}}function hu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.h=i||null,this.l=this.u=this.A=null,this.i=[],this.v=this.a=null}function fu(t){var e=lr();return function(t){return tu(t,La,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Un(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Un(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:gr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Ko(lr())})}function du(t){return t.v||(t.v=vr().then(function(){if(!t.u){var e=t.c,n=t.h,r=lu(t.b),i=new uu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.m=new ru(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then(function(){t.a.register("authEvent",e,xr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.m,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=qo(e.authEvent),n=0;n<t.i.length;n++)r=t.i[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ce(n)}return n.status="ERROR",Ce(n)})}(t)})),t.v}function pu(t){return t.l||(t.A=t.c?Ar(t.c,lu(t.b)):null,t.l=new $s(t.g,j(t.h),t.A),t.f&&na(t.l,t.f)),t.l}function mu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new cu(t,e,n,r,i,h)).l=o,t.g=s,t.h=a,t.b=mt(u||null),t.f=c,t.xb(l).toString()}function gu(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new O("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function yu(t){this.b=t,this.a={},this.f=_(this.c,this)}uu.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},cu.prototype.xb=function(t){return this.i=t,this},cu.prototype.toString=function(){if(this.m){var t=Un(this.m.url);t=Vn(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Vn("https",this.u,null,"/__/auth/handler");if(Mn(t,"apiKey",this.s),Mn(t,"appName",this.c),Mn(t,"authType",this.v),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().ka()}catch(u){n=null}for(var i in e.nb=n,Mn(t,"providerId",this.a.providerId),e=Mr((n=this.a).Hb))e[i]=e[i].toString();i=n.Pc,e=mt(e);for(var o=0;o<i.length;o++){var s=i[o];s in e&&delete e[s]}n.ob&&n.nb&&!e[n.ob]&&(e[n.ob]=n.nb),pt(e)||Mn(t,"customParameters",Lr(e))}if("function"==typeof this.a.Pb&&(n=this.a.Pb()).length&&Mn(t,"scopes",n.join(",")),this.l?Mn(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Mn(t,"eventId",this.g):Xn(t.b,"eventId"),this.h?Mn(t,"v",this.h):Xn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Fn(t,a)&&Mn(t,a,this.b[a]);return this.i?Mn(t,"tid",this.i):Xn(t.b,"tid"),this.f?Mn(t,"eid",this.f):Xn(t.b,"eid"),(a=lu(this.c)).length&&Mn(t,"fw",a.join(",")),t.toString()},(t=hu.prototype).Nb=function(t,e,n){var r=new O("popup-closed-by-user"),i=new O("web-storage-unsupported"),o=this,s=!1;return this.la().then(function(){(function(t){var e={type:"webStorageSupport"};return du(t).then(function(){return function(t,e){return t.qb.then(function(){return new we(function(n){t.a.send(e.type,e,n,xr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.m,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&pr(t),e(i),s=!0)})}).o(function(){}).then(function(){if(!s)return function(t){return new we(function(e){return function n(){On(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!s)return On(n).then(function(){e(r)})})},t.Wb=function(){var t=kr();return!Pr(t)&&!Vr(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,s,a){if(!t)return Ae(new O("popup-blocked"));if(s&&!Pr())return this.la().o(function(e){pr(t),i(e)}),r(),Ce();this.a||(this.a=fu(pu(this)));var u=this;return this.a.then(function(){var e=u.la().o(function(e){throw pr(t),i(e),e});return r(),e}).then(function(){Uo(n),s||hr(mu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.h,a,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Mb=function(t,e,n,r){this.a||(this.a=fu(pu(this)));var i=this;return this.a.then(function(){Uo(e),hr(mu(i.s,i.g,i.b,t,e,lr(),n,i.c,void 0,i.h,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.la=function(){var t=this;return du(this).then(function(){return t.m.qb}).o(function(){throw t.a=null,new O("network-request-failed")})},t.Zb=function(){return!0},t.Ea=function(t){this.i.push(t)},t.Ra=function(t){Q(this.i,function(e){return e==t})},(t=gu.prototype).get=function(t){return Ce(this.a.getItem(t)).then(function(t){return t&&Fr(t)})},t.set=function(t,e){return Ce(this.a.setItem(t,Lr(e)))},t.T=function(t){return Ce(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var vu,bu=[];function wu(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function _u(t){this.a=t}function Eu(t){this.c=t,this.b=!1,this.a=[]}function Su(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ae(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new we(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Iu(t,c),e}).o(function(e){throw Iu(t,c),e})}function Iu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Q(t.a,function(t){return t==e})}}function Tu(){if(!ku())throw new O("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.v=a.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.l=null,this.s=!1,this.i=null;var t=this;_r()&&self?(this.m=function(){var t=_r()?self:null;if(B(bu,function(n){n.b==t&&(e=n)}),!e){var e=new yu(t);bu.push(e)}return e}(),wu(this.m,"keyChanged",function(e,n){return Du(t).then(function(e){return 0<e.length&&B(t.a,function(t){t(e)}),{keyProcessed:$(e,n.key)}})}),wu(this.m,"ping",function(){return Ce(["keyChanged"])})):function(){var t=a.navigator;return t&&t.serviceWorker?Ce().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Ce(null)}().then(function(e){(t.i=e)&&(t.g=new Eu(new _u(e)),Su(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&$(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Ou(t){return new we(function(e,n){var r=t.v.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new we(function(e,n){var r=t.v.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Ou(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Cu(t){return t.h||(t.h=Ou(t)),t.h}function Au(t,e){var n=0;return new we(function r(i,o){Cu(t).then(e).then(i).o(function(e){if(!(3<++n))return Cu(t).then(function(e){return e.close(),t.h=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function ku(){try{return!!a.indexedDB}catch(Wt){return!1}}function xu(t){return t.objectStore("firebaseLocalStorage")}function Nu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function ju(t){return new we(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Ru(t,e){return t.g&&t.i&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.i?Su(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Ce()}function Du(t){return Cu(t).then(function(t){var e=xu(Nu(t,!1));return e.getAll?ju(e.getAll()):new we(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=fr(t.c,n),t.c=n}return r})}function Pu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Lu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ce().then(function(){if(ku()){var t=Ur(),r="__sak"+t;return vu||(vu=new Tu),(n=vu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){B(e.a,function(e){e(t)})}),t})}function Mu(){this.a={},this.type="inMemory"}function Fu(){if(!function(){var t="Node"==Er();if(!(t=Uu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Er())throw new O("internal-error","The LocalStorage compatibility library was not found.");throw new O("web-storage-unsupported")}this.a=Uu()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Uu(){try{var t=a.localStorage,e=Ur();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Vu(){this.type="nullStorage"}function qu(){if(!function(){var t="Node"==Er();if(!(t=Hu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Er())throw new O("internal-error","The SessionStorage compatibility library was not found.");throw new O("web-storage-unsupported")}this.a=Hu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Hu(){try{var t=a.sessionStorage,e=Ur();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function zu(){var t={};t.Browser=Gu,t.Node=Wu,t.ReactNative=$u,t.Worker=Ju,this.a=t[Er()]}yu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];B(r,function(e){i.push(Ce().then(function(){return e(t.origin,t.data.data)}))}),xe(i).then(function(r){var i=[];B(r,function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})}),B(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},_u.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Eu.prototype.close=function(){for(;0<this.a.length;)Iu(this,this.a[0]);this.b=!0},(t=Tu.prototype).set=function(t,e){var n=this,r=!1;return Au(this,function(e){return ju((e=xu(Nu(e,!0))).get(t))}).then(function(i){return Au(n,function(o){if(o=xu(Nu(o,!0)),i)return i.value=e,ju(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,ju(o.add(s))})}).then(function(){return n.c[t]=e,Ru(n,t)}).na(function(){r&&n.b--})},t.get=function(t){return Au(this,function(e){return ju(xu(Nu(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.T=function(t){var e=this,n=!1;return Au(this,function(r){return n=!0,e.b++,ju(xu(Nu(r,!0)).delete(t))}).then(function(){return delete e.c[t],Ru(e,t)}).na(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){Pu(t),function e(){t.f=setTimeout(function(){t.l=Du(t).then(function(e){0<e.length&&B(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){Q(this.a,function(e){return e==t}),0==this.a.length&&Pu(this)},(t=Lu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.T=function(t){return this.b.then(function(e){return e.T(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){Q(this.a,function(e){return e==t})},(t=Mu.prototype).get=function(t){return Ce(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ce()},t.T=function(t){return delete this.a[t],Ce()},t.ca=function(){},t.ia=function(){},(t=Fu.prototype).get=function(t){var e=this;return Ce().then(function(){return Fr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Ce().then(function(){var r=Lr(e);null===r?n.T(t):n.a.setItem(t,r)})},t.T=function(t){var e=this;return Ce().then(function(){e.a.removeItem(t)})},t.ca=function(t){a.window&&cn(a.window,"storage",t)},t.ia=function(t){a.window&&fn(a.window,"storage",t)},(t=Vu.prototype).get=function(){return Ce(null)},t.set=function(){return Ce()},t.T=function(){return Ce()},t.ca=function(){},t.ia=function(){},(t=qu.prototype).get=function(t){var e=this;return Ce().then(function(){return Fr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Ce().then(function(){var r=Lr(e);null===r?n.T(t):n.a.setItem(t,r)})},t.T=function(t){var e=this;return Ce().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var Bu,Ku,Gu={D:Fu,ab:qu},Wu={D:Fu,ab:qu},$u={D:gu,ab:Vu},Ju={D:Fu,ab:Vu},Qu={qd:"local",NONE:"none",sd:"session"};function Yu(){var t=!(Vr(kr())||!wr()),e=Pr(),n=Nr();this.v=t,this.i=e,this.l=n,this.a={},Bu||(Bu=new zu),t=Bu;try{this.g=!cr()&&Kr()||!a.indexedDB?new t.a.D:new Lu(_r()?new Mu:new t.a.D)}catch(r){this.g=new Mu,this.i=!0}try{this.h=new t.a.ab}catch(r){this.h=new Mu}this.m=new Mu,this.f=_(this.Xb,this),this.b={}}function Xu(){return Ku||(Ku=new Yu),Ku}function Zu(t,e){switch(e){case"session":return t.h;case"none":return t.m;default:return t.g}}function tc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ec(t,e,n){return n=tc(e,n),"local"==e.D&&(t.b[n]=null),Zu(t,e.D).T(n)}function nc(t){t.c&&(clearInterval(t.c),t.c=null)}function rc(t){this.a=t,this.b=Xu()}(t=Yu.prototype).get=function(t,e){return Zu(this,t.D).get(tc(t,e))},t.set=function(t,e,n){var r=tc(t,n),i=this,o=Zu(this,t.D);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.D&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=tc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),pt(this.a)&&(Zu(this,"local").ca(this.f),this.i||(cr()||!Kr())&&a.indexedDB||!this.l||function(t){nc(t),t.c=setInterval(function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ye({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=tc(t,e),this.a[t]&&(Q(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Zu(this,"local").ia(this.f),nc(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Zu(this,"local").ia(this.f):nc(this),this.v)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.lb(e))},Jt&&se&&10==se&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else B(t,_(this.lb,this))},t.lb=function(t){this.a[t]&&B(this.a[t],function(t){t()})};var ic,oc={name:"authEvent",D:"local"};function sc(){this.a=Xu()}function ac(t,e){this.b=uc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.h=t,this.i=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===ic&&(ic=a.Int32Array?new Int32Array(mc):mc),this.reset()}I(ac,function(){this.b=-1});for(var uc=64,cc=uc-1,lc=[],hc=0;hc<cc;hc++)lc[hc]=0;var fc=Y(128,lc);function dc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|ic[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function pc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(dc(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(dc(t),i=0)}}t.c=i,t.g+=n}ac.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.i):X(this.i)};var mc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function gc(){ac.call(this,8,yc)}I(gc,ac);var yc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function vc(t,e,n,r,i,o){this.m=t,this.h=e,this.l=n,this.v=r||null,this.u=i||null,this.s=o,this.i=e+":"+n,this.A=new sc,this.g=new rc(this.i),this.f=null,this.b=[],this.a=this.c=null}function bc(t){return new O("invalid-cordova-configuration",t)}function wc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function _c(t){return t.f||(t.f=t.la().then(function(){return new we(function(e){t.Ea(function n(r){return e(r),t.Ra(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),Ec(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Fr(Fn(o=Un(i),"firebaseError")||null))?C(o):null)?new Vo(r.c,r.b,null,null,o,null,r.S()):new Vo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}wc(t,i)})}var n=new Vo("unknown",null,null,null,new O("no-auth-event")),r=!1,i=On(500).then(function(){return Ec(t).then(function(){r||wc(t,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(xr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Bo||(Bo=new Ho),function(t){var e=Bo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=xr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)})})),t.f}function Ec(t){var e=null;return function(t){return t.b.get(oc,t.a).then(function(t){return qo(t)})}(t.g).then(function(n){return e=n,ec((n=t.g).b,oc,n.a)}).then(function(){return e})}function Sc(t){this.a=t,this.b=Xu()}(t=vc.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(br(void 0)?vr().then(function(){return new we(function(t,e){var n=a.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof xr("universalLinks.subscribe",a))throw bc("cordova-universal-links-plugin-fix is not installed");if(void 0===xr("BuildInfo.packageName",a))throw bc("cordova-plugin-buildinfo is not installed");if("function"!=typeof xr("cordova.plugins.browsertab.openUrl",a))throw bc("cordova-plugin-browsertab is not installed");if("function"!=typeof xr("cordova.InAppBrowser.open",a))throw bc("cordova-plugin-inappbrowser is not installed")},function(){throw new O("cordova-not-ready")})},t.Nb=function(t,e){return e(new O("operation-not-supported-in-this-environment")),Ce()},t.Lb=function(){return Ae(new O("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return Ae(new O("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=Ce().then(function(){return Uo(e),_c(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Vo(e,r,null,o,new O("no-auth-event"),null,i),u=xr("BuildInfo.packageName",a);if("string"!=typeof u)throw new O("invalid-cordova-configuration");var c=xr("BuildInfo.displayName",a),l={};if(kr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!kr().toLowerCase().match(/android/))return Ae(new O("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new gc;pc(e,t),t=[];var n=8*e.g;pc(e,fc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(dc(e),r=n=0;r<e.h;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=mu(t.m,t.h,t.l,e,n,null,r,t.v,l,t.u,i,t.s);return t.la().then(function(){var e=t.i;return t.A.a.set(oc,s.w(),e)}).then(function(){var e=xr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new O("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=xr("cordova.plugins.browsertab.openUrl",a)))throw new O("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=xr("cordova.InAppBrowser.open",a)))throw new O("invalid-cordova-configuration");e=kr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new we(function(t,e){u=function(){var e=xr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){zr()&&c()},o.addEventListener("resume",c=function(){s||(s=On(2e3).then(function(){e(new O("redirect-cancelled-by-user"))}))},!1),kr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return Ec(i).then(function(){throw t})})}).na(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Ra(u),i.c=null})},t.Ea=function(t){this.b.push(t),_c(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Vo("unknown",null,null,null,new O("no-auth-event")),t(e))})},t.Ra=function(t){Q(this.b,function(e){return e==t})};var Ic={name:"pendingRedirect",D:"session"};function Tc(t){return ec(t.b,Ic,t.a)}function Oc(t,e,n,r){this.h={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.i=[],this.f=!1,this.l=_(this.s,this),this.b=new qc,this.A=new Gc,this.g=new Sc(Uc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Cc(this.O,this.m,this.v,A,this.G)}function Cc(t,e,n,i,o){var s=r.a.SDK_VERSION||null;return br()?new vc(t,e,n,s,i,o):new hu(t,e,n,s,i,o)}function Ac(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().o(function(n){throw t.a==e&&t.reset(),n})}function kc(t){t.a.Wb()&&Ac(t).o(function(e){var n=new Vo("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));Pc(e)&&t.s(n)}),t.a.Sb()||Hc(t.b)}function xc(t,e){$(t.i,e)||t.i.push(e),t.f||function(t){return t.b.get(Ic,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Tc(t.g).then(function(){Ac(t).o(function(e){var n=new Vo("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));Pc(e)&&t.s(n)})}):kc(t)}).o(function(){kc(t)})}function Nc(t,e){Q(t.i,function(t){return t==e})}Oc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Cc(this.O,this.m,this.v,null,this.G),this.h={}},Oc.prototype.s=function(t){if(!t)throw new O("invalid-auth-event");if(6e5<=S()-this.u&&(this.h={},this.u=0),t&&t.getUid()&&this.h.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.i.length;n++){var r=this.i[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.i(t,r),t&&(t.f||t.b)&&(this.h[t.getUid()]=!0,this.u=S())),e=!0;break}}return Hc(this.b),e};var jc=new Hr(2e3,1e4),Rc=new Hr(3e4,6e4);function Dc(t,e,n,r,i,o,s){return t.a.Lb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,s)}function Pc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Lc(t,e,n,r,i){var o;return function(t){return t.b.set(Ic,"pending",t.a)}(t.g).then(function(){return t.a.Mb(e,n,r,i).o(function(e){if(Pc(e))throw new O("operation-not-supported-in-this-environment");return o=e,Tc(t.g).then(function(){throw o})}).then(function(){return t.a.Zb()?new we(function(){}):Tc(t.g).then(function(){return t.qa()}).then(function(){}).o(function(){})})})}function Mc(t,e,n,r,i){return t.a.Nb(r,function(t){e.ma(n,null,t,i)},jc.get())}Oc.prototype.qa=function(){return this.b.qa()};var Fc={};function Uc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Vc(t,e,n,r){var i=Uc(e,n,r);return Fc[i]||(Fc[i]=new Oc(t,e,n,r)),Fc[i]}function qc(){this.b=null,this.f=[],this.c=[],this.a=null,this.h=this.g=!1}function Hc(t){t.g||(t.g=!0,Kc(t,!1,null,null))}function zc(t){t.g&&!t.h&&Kc(t,!1,null,null)}function Bc(t,e){if(t.b=function(){return Ce(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Kc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Bc(t,n):Bc(t,{user:null}),t.f=[],t.c=[]}function Gc(){}function Wc(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function $c(t,e){this.a=e,Qr(this,"verificationId",t)}function Jc(t,e,n,r){return new Lo(t).eb(e,n).then(function(t){return new $c(t,r)})}function Qc(t){var e=Bi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new O("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Yr(this,{token:t,expirationTime:Br(1e3*e.exp),authTime:Br(1e3*e.auth_time),issuedAtTime:Br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Yc(t,e,n){var r=e&&e[Zc];if(!r)throw new O("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=mt(e),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;B(e[Xc]||[],function(t){(t=ei(t))&&i.b.push(t)}),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}qc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},qc.prototype.i=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.h=!(!i&&!o),"unknown"!=n||i||o?t.a?(Kc(this,!0,null,t.a),Ce()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.h,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then(function(e){Kc(t,a,e,null)}).o(function(e){Kc(t,a,null,e)})}(this,t,e):Ae(new O("invalid-auth-event")):(Kc(this,!1,null,null),Ce())}else Ae(new O("invalid-auth-event"))},qc.prototype.qa=function(){var t=this;return new we(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new O("timeout");t.a&&t.a.cancel(),t.a=On(Rc.get()).then(function(){t.b||(t.g=!0,Kc(t,!0,null,e))})}(t))})},Gc.prototype.i=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),Ce()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.h).then(function(t){e.ma(r,t,null,n)}).o(function(t){e.ma(r,null,t,n)})}(t,e):Ae(new O("invalid-auth-event"))}else Ae(new O("invalid-auth-event"))},$c.prototype.confirm=function(t){return t=Mo(this.verificationId,t),this.a(t)};var Xc="mfaInfo",Zc="mfaPendingCredential";function tl(t,e,n,r){O.call(this,"multi-factor-auth-required",r,e),this.b=new Yc(t,e,n),Qr(this,"resolver",this.b)}function el(t,e,n){if(t&&m(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new tl(e,t.serverResponse,n,t.message)}catch(r){}return null}function nl(){}function rl(t){Qr(this,"factorId",t.fa),this.a=t}function il(t){if(rl.call(this,t),this.a.fa!=Lo.PROVIDER_ID)throw new O("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ol(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function sl(t,e){this.a=t,this.b=[],this.c=_(this.xc,this),cn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&B(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ii]=t.uid),t.displayName&&(r[ni]=t.displayName),t.enrollmentTime&&(r[ri]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[oi]=t.phoneNumber);try{e=new si(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),al(this,n)}function al(t,e){t.b=e,Qr(t,"enrolledFactors",e)}function ul(t,e,n){if(this.i=t,this.h=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function cl(t,e){t.stop(),t.b=On(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=a.document,e=null;return zr()||!t?Ce():new we(function(n){e=function(){zr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.i()}).then(function(){cl(t,!0)}).o(function(e){t.h(e)&&cl(t,!1)})}function ll(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function hl(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function fl(t,e){t.b=zi(e[Qs]||""),t.a=e.refreshToken,hl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function dl(t,e){this.a=t||null,this.b=e||null,Yr(this,{lastSignInTime:Br(e||null),creationTime:Br(t||null)})}function pl(t,e,n,r,i,o){Yr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function ml(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.a.SDK_VERSION?Ar(r.a.SDK_VERSION):null;this.a=new $s(this.l,j(A),i),t.emulatorConfig&&na(this.a,t.emulatorConfig),this.b=new ll(this.a),Sl(this,e[Qs]),fl(this.b,e),Qr(this,"refreshToken",this.b.a),Ol(this,n||{}),_n.call(this),this.P=!1,this.s&&jr()&&(this.h=Vc(this.s,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new ul(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0})}(this),this.$=_(this.gb,this);var o=this;this.pa=null,this.Ba=function(t){o.wa(t.i)},this.ba=null,this.za=function(t){na(o.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){vl(o,t.f)},this.aa=null,this.N=new sl(this,n),Qr(this,"multiFactor",this.N)}function gl(t,e){t.ba&&fn(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&cn(e,"languageCodeChanged",t.Ba)}function yl(t,e){t.W&&fn(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&cn(e,"emulatorConfigChanged",t.za)}function vl(t,e){t.X=e,ia(t.a,r.a.SDK_VERSION?Ar(r.a.SDK_VERSION,t.X):null)}function bl(t,e){t.aa&&fn(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&cn(e,"frameworkChanged",t.Aa)}function wl(t){try{return r.a.app(t.m).auth()}catch(e){throw new O("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function _l(t){t.A||t.u.b||(t.u.start(),fn(t,"tokenChanged",t.$),cn(t,"tokenChanged",t.$))}function El(t){fn(t,"tokenChanged",t.$),t.u.stop()}function Sl(t,e){t.ya=e,Qr(t,"_lat",e)}function Il(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return xe(e).then(function(){return t})}function Tl(t){t.h&&!t.P&&(t.P=!0,xc(t.h,t))}function Ol(t,e){Yr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new dl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Cl(){}function Al(t){return Ce().then(function(){if(t.A)throw new O("app-deleted")})}function kl(t){return G(t.providerData,function(t){return t.providerId})}function xl(t,e){e&&(Nl(t,e.providerId),t.providerData.push(e))}function Nl(t,e){Q(t.providerData,function(t){return t.providerId==e})}function jl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Qr(t,e,n)}function Rl(t,e){t!=e&&(Yr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Qr(t,"metadata",e.metadata?function(t){return new dl(t.a,t.b)}(e.metadata):new dl),B(e.providerData,function(e){xl(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Qr(t,"refreshToken",t.b.a),al(t.N,e.N.b))}function Dl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return tu(t.a,Na,{idToken:e}).then(_(t.Jc,t))}(t,e).then(function(){return n||jl(t,"isAnonymous",!1),e})})}function Pl(t,e){e[Qs]&&t.ya!=e[Qs]&&(fl(t.b,e),t.dispatchEvent(new ol("tokenChanged")),Sl(t,e[Qs]),jl(t,"refreshToken",t.b.a))}function Ll(t,e){return Dl(t).then(function(){if($(kl(t),e))return Il(t).then(function(){throw new O("provider-already-linked")})})}function Ml(t,e,n){return Xr({user:t,credential:Fo(e),additionalUserInfo:e=Ji(e),operationType:n})}function Fl(t,e){return Pl(t,e),t.reload().then(function(){return t})}function Ul(t,e,n,i,o){if(!jr())return Ae(new O("operation-not-supported-in-this-environment"));if(t.f&&!o)return Ae(t.f);var s=$i(n.providerId),a=Ur(t.uid+":::"),u=null;(!Pr()||wr())&&t.s&&n.isOAuthProvider&&(u=mu(t.s,t.l,t.m,e,n,null,a,r.a.SDK_VERSION||null,null,null,t.tenantId));var c=mr(u,s&&s.ua,s&&s.ta);return i=i().then(function(){if(ql(t),!o)return t.I().then(function(){})}).then(function(){return Dc(t.h,c,e,n,a,!!u,t.tenantId)}).then(function(){return new we(function(n,r){t.ma(e,null,new O("cancelled-popup-request"),t.i||null),t.g=n,t.O=r,t.i=a,t.c=Mc(t.h,t,e,c,a)})}).then(function(t){return c&&pr(c),t?Xr(t):null}).o(function(t){throw c&&pr(c),t}),Hl(t,i,o)}function Vl(t,e,n,r,i){if(!jr())return Ae(new O("operation-not-supported-in-this-environment"));if(t.f&&!i)return Ae(t.f);var o=null,s=Ur(t.uid+":::");return r=r().then(function(){if(ql(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=s,Il(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Kl,t.w(),e.a)),e}).then(function(){return Lc(t.h,e,n,s,t.tenantId)}).o(function(e){if(o=e,t.ha)return Gl(t.ha);throw o}).then(function(){if(o)throw o}),Hl(t,r,i)}function ql(t){if(!t.h||!t.P){if(t.h&&!t.P)throw new O("internal-error");throw new O("auth-domain-config-required")}}function Hl(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),Ae(t.f)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new ol("userInvalidated")),t.f=e),e})}(t,e,n);return t.G.push(r),r.na(function(){J(t.G,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),wl(t),_(t.ic,t))),n||e})}function zl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Qs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new ml(e,n,t);return t.providerData&&B(t.providerData,function(t){t&&xl(i,Xr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Bl(t){this.a=t,this.b=Xu()}Yc.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then(function(t){var n=mt(e.f);return delete n[Xc],delete n[Zc],yt(n,t),e.g(n)})},I(tl,O),nl.prototype.rb=function(t,e,n){return e.type==so?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),yt(n,{phoneVerificationInfo:Po(t.a)}),tu(e,ka,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:Po(t.a)}),tu(e,xa,n)})}(this,t,e)},I(rl,nl),I(il,rl),I(ol,Qe),(t=sl.prototype).xc=function(t){al(this,function(t){var e=[];return B(t.mfaInfo||[],function(t){(t=ei(t))&&e.push(t)}),e}(t.gd))},t.Qb=function(){return this.a.I().then(function(t){return new oo(t,null)})},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then(function(n){return t.rb(r,n,e)}).then(function(t){return Pl(n.a,t),n.a.reload()})},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return tu(r,Za,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=K(e.b,function(t){return t.uid!=n});return al(e,r),Pl(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:G(this.b,function(t){return t.w()})}}},ul.prototype.start=function(){this.a=this.c,cl(this,!0)},ul.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ll.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ll.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new O("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new we(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?oa(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(nu(t)):t.access_token&&t.refresh_token?n(t):r(new O("internal-error")):r(new O("network-request-failed"))},"POST",Yn(e).toString(),t.g,t.v.get()):r(new O("internal-error"))})}(t.f,e).then(function(e){return t.b=zi(e.access_token),t.a=e.refresh_token,hl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ce(null):Ce({accessToken:this.b.toString(),refreshToken:this.a})},dl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(ml,_n),ml.prototype.wa=function(t){this.pa=t,ea(this.a,t)},ml.prototype.ka=function(){return this.pa},ml.prototype.Ga=function(){return X(this.X)},ml.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Qr(ml.prototype,"providerId","firebase"),(t=ml.prototype).reload=function(){var t=this;return Hl(this,Al(this).then(function(){return Dl(t).then(function(){return Il(t)}).then(Cl)}))},t.nc=function(t){return this.I(t).then(function(t){return new Qc(t)})},t.I=function(t){var e=this;return Hl(this,Al(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new O("internal-error");return t.accessToken!=e.ya&&(Sl(e,t.accessToken),e.dispatchEvent(new ol("tokenChanged"))),jl(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new O("internal-error");Ol(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,function(t){return new pl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)xl(this,e[n]);jl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ol("userReloaded",{gd:t}))},t.Kc=function(t){return $r("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return Hl(this,t.c(this.a,this.uid).then(function(t){return Pl(e,t),n=Ml(e,t,"reauthenticate"),e.f=null,e.reload()}).then(function(){return n}),!0)},t.Bc=function(t){return $r("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Hl(this,Ll(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Ml(e,t,"link"),Fl(e,t)}).then(function(){return n}))},t.Cc=function(t,e){var n=this;return Hl(this,Ll(this,"phone").then(function(){return Jc(wl(n),t,e,_(n.pb,n))}))},t.Lc=function(t,e){var n=this;return Hl(this,Ce().then(function(){return Jc(wl(n),t,e,_(n.sb,n))}),!0)},t.Ab=function(t){var e=this;return Hl(this,this.I().then(function(n){return e.a.Ab(n,t)}).then(function(t){return Pl(e,t),e.reload()}))},t.dd=function(t){var e=this;return Hl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Pl(e,t),e.reload()}))},t.Bb=function(t){var e=this;return Hl(this,this.I().then(function(n){return e.a.Bb(n,t)}).then(function(t){return Pl(e,t),e.reload()}))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Al(this);var e=this;return Hl(this,this.I().then(function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Pl(e,t),jl(e,"displayName",t.displayName||null),jl(e,"photoURL",t.photoUrl||null),B(e.providerData,function(t){"password"===t.providerId&&(Qr(t,"displayName",e.displayName),Qr(t,"photoURL",e.photoURL))}),Il(e)}).then(Cl))},t.bd=function(t){var e=this;return Hl(this,Dl(this).then(function(n){return $(kl(e),t)?function(t,e,n){return tu(t,Oa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return B(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),B(kl(e),function(t){n[t]||Nl(e,t)}),n[Lo.PROVIDER_ID]||Qr(e,"phoneNumber",null),Il(e)}):Il(e).then(function(){throw new O("no-such-provider")})}))},t.delete=function(){var t=this;return Hl(this,this.I().then(function(e){return tu(t.a,Ta,{idToken:e})}).then(function(){t.dispatchEvent(new ol("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");gl(t,null),yl(t,null),bl(t,null),t.G=[],t.A=!0,El(t),Qr(t,"refreshToken",null),t.h&&Nc(t.h,t)})},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.i||null)==e&&this.g||"reauthViaPopup"==t&&(this.i||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.i||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.i||null)?_(this.Jb,this):"reauthViaPopup"==t&&e==(this.i||null)?_(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?_(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?_(this.Kb,this):null},t.Dc=function(t){var e=this;return Ul(this,"linkViaPopup",t,function(){return Ll(e,t.providerId).then(function(){return Il(e)})},!1)},t.Mc=function(t){return Ul(this,"reauthViaPopup",t,function(){return Ce()},!0)},t.Ec=function(t){var e=this;return Vl(this,"linkViaRedirect",t,function(){return Ll(e,t.providerId)},!1)},t.Nc=function(t){return Vl(this,"reauthViaRedirect",t,function(){return Ce()},!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hl(this,this.I().then(function(n){return va(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Ml(i,t,"link"),Fl(i,t)}).then(function(){return o}))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hl(this,Ce().then(function(){return co(ba(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Ml(i,t,"reauthenticate"),Pl(i,t),i.f=null,i.reload()}).then(function(){return o}),!0)},t.tb=function(t){var e=this,n=null;return Hl(this,this.I().then(function(e){return n=e,void 0===t||pt(t)?{}:Vi(new xi(t))}).then(function(t){return e.a.tb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Db=function(t,e){var n=this,r=null;return Hl(this,this.I().then(function(t){return r=t,void 0===e||pt(e)?{}:Vi(new xi(e))}).then(function(e){return n.a.Db(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.ic=function(t){var e=null,n=this;return Hl(this,t=co(Ce(t),n.uid).then(function(t){return e=Ml(n,t,"reauthenticate"),Pl(n,t),n.f=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),B(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),yt(t,this.N.w()),t};var Kl={name:"redirectUser",D:"session"};function Gl(t){return ec(t.b,Kl,t.a)}function Wl(t){this.a=t,this.b=Xu(),this.c=null,this.f=function(t){var e=Ql("local"),n=Ql("session"),r=Ql("none");return function(t,e,n){var r=tc(e,n),i=Zu(t,e.D);return t.get(e,n).then(function(o){var s=null;try{s=Fr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Jl,t.a).then(function(t){return t?Ql(t):e})})})}).then(function(e){return t.c=e,$l(t,e.D)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Ql("local"),this.a,_(this.g,this))}function $l(t,e){var n,r=[];for(n in Qu)Qu[n]!==e&&r.push(ec(t.b,Ql(Qu[n]),t.a));return r.push(ec(t.b,Jl,t.a)),function(t){return new we(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)ke(t[a],E(o,a),s);else e(i)})}(r)}Wl.prototype.g=function(){var t=this,e=Ql("local");th(this,function(){return Ce().then(function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null}).then(function(n){if(n)return $l(t,"local").then(function(){t.c=e})})})};var Jl={name:"persistence",D:"session"};function Ql(t){return{name:"authUser",D:t}}function Yl(t,e){return th(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Xl(t){return th(t,function(){return ec(t.b,t.c,t.a)})}function Zl(t,e,n){return th(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),zl(t||{})})})}function th(t,e){return t.f=t.f.then(e,e),t.f}function eh(t){if(this.m=!1,Qr(this,"settings",new Wc),Qr(this,"app",t),!ch(this).options||!ch(this).options.apiKey)throw new O("invalid-api-key");t=r.a.SDK_VERSION?Ar(r.a.SDK_VERSION):null,this.a=new $s(ch(this).options&&ch(this).options.apiKey,j(A),t),this.R=[],this.u=[],this.P=[],this.ac=r.a.INTERNAL.createSubscribe(_(this.yc,this)),this.X=void 0,this.bc=r.a.INTERNAL.createSubscribe(_(this.zc,this)),ah(this,null),this.l=new Wl(ch(this).options.apiKey+":"+ch(this).name),this.G=new Bl(ch(this).options.apiKey+":"+ch(this).name),this.$=dh(this,function(t){var e=ch(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Kl,t.a).then(function(t){return t&&e&&(t.authDomain=e),zl(t||{})})}(t.G,ch(t).options.authDomain).then(function(e){return(t.s=e)&&(e.ha=t.G),Gl(t.G)});return dh(t,e)}(t).then(function(){return Zl(t.l,e,t.f)}).then(function(e){return e?(e.ha=t.G,t.s&&(t.s.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Yl(t.l,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Xl(t.l)})):null}).then(function(e){ah(t,e||null)});return dh(t,n)}(this)),this.h=dh(this,function(t){return t.$.then(function(){return sh(t)}).o(function(){}).then(function(){if(!t.m)return t.pa()}).o(function(){}).then(function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(Ql("local"),e.a,t.pa)}})}(this)),this.ba=!1,this.pa=_(this.Yc,this),this.Ba=_(this.da,this),this.ya=_(this.kc,this),this.za=_(this.vc,this),this.Aa=_(this.wc,this),this.b=null,function(t){var e=ch(t).options.authDomain,n=ch(t).options.apiKey;e&&jr()&&(t.gb=t.$.then(function(){if(!t.m){if(t.b=Vc(e,n,ch(t).name,t.f),xc(t.b,t),lh(t)&&Tl(lh(t)),t.s){Tl(t.s);var r=t.s;r.wa(t.ka()),gl(r,t),vl(r=t.s,t.N),bl(r,t),na((r=t.s).a,t.f),yl(r,t),t.s=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Fc,this),this.A=0,_n.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function nh(t){Qe.call(this,"languageCodeChanged"),this.i=t}function rh(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function ih(t){Qe.call(this,"frameworkChanged"),this.f=t}function oh(t){return t.gb||Ae(new O("auth-domain-config-required"))}function sh(t){if(!jr())return Ae(new O("operation-not-supported-in-this-environment"));var e=oh(t).then(function(){return t.b.qa()}).then(function(t){return t?Xr(t):null});return dh(t,e)}function ah(t,e){lh(t)&&(function(t,e){Q(t.R,function(t){return t==e})}(lh(t),t.Ba),fn(lh(t),"tokenChanged",t.ya),fn(lh(t),"userDeleted",t.za),fn(lh(t),"userInvalidated",t.Aa),El(lh(t))),e&&(e.R.push(t.Ba),cn(e,"tokenChanged",t.ya),cn(e,"userDeleted",t.za),cn(e,"userInvalidated",t.Aa),0<t.A&&_l(e)),Qr(t,"currentUser",e),e&&(e.wa(t.ka()),gl(e,t),vl(e,t.N),bl(e,t),na(e.a,t.f),yl(e,t))}function uh(t,e){var n=null,r=null;return dh(t,e.then(function(e){return n=Fo(e),r=Ji(e),function(t,e){var n={};return n.apiKey=ch(t).options.apiKey,n.authDomain=ch(t).options.authDomain,n.appName=ch(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then(function(){return function(t,e,n,r){var i=new ml(t,e);return n&&(i.ha=n),r&&vl(i,r),i.reload().then(function(){return i})}(n,e,t.G,t.Ga())}).then(function(e){return lh(t)&&e.uid==lh(t).uid?(Rl(lh(t),e),t.da(e)):(ah(t,e),Tl(e),t.da(e))}).then(function(){fh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),t,_(t.jc,t))),n||e}).then(function(){return Xr({user:lh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function ch(t){return t.app}function lh(t){return t.currentUser}function hh(t){return lh(t)&&lh(t)._lat||null}function fh(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](hh(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](hh(t))}}function dh(t,e){return t.R.push(e),e.na(function(){J(t.R,e)}),e}function ph(){}function mh(){this.a={},this.b=1e12}Wl.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new O("invalid-persistence-type"),n=new O("unsupported-persistence-type");t:{for(r in Qu)if(Qu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Er()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!ku()&&"none"!==t)throw n;break;default:if(!Nr()&&"none"!==t)throw n}}(t),th(this,function(){return t!=n.c.D?n.b.get(n.c,n.a).then(function(r){return e=r,$l(n,t)}).then(function(){if(n.c=Ql(t),e)return n.b.set(n.c,e,n.a)}):Ce()})},I(eh,_n),I(nh,Qe),I(rh,Qe),I(ih,Qe),(t=eh.prototype).wb=function(t){return dh(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,ea(this.a,this.aa),this.dispatchEvent(new nh(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t,e){if(!this.f){if(!/^https?:\/\//.test(t))throw new O("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");!function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&vr().then(function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})}(!!e&&!!e.disableWarnings),this.f={url:t},this.settings.hb=!0,na(this.a,this.f),this.dispatchEvent(new rh(this.f))}},t.Fc=function(t){this.N.push(t),ia(this.a,r.a.SDK_VERSION?Ar(r.a.SDK_VERSION,this.N):null),this.dispatchEvent(new ih(this.N))},t.Ga=function(){return X(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:ch(this).options.apiKey,authDomain:ch(this).options.authDomain,appName:ch(this).name,currentUser:lh(this)&&lh(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.i==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.i==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.i==e&&this.g?_(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return uh(i,ya(i.a,o))})},t.Wc=function(t){if(!jr())return Ae(new O("operation-not-supported-in-this-environment"));var e=this,n=$i(t.providerId),i=Ur(),o=null;(!Pr()||wr())&&ch(this).options.authDomain&&t.isOAuthProvider&&(o=mu(ch(this).options.authDomain,ch(this).options.apiKey,ch(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.S(),this.f));var s=mr(o,n&&n.ua,n&&n.ta);return dh(this,n=oh(this).then(function(n){return Dc(n,s,"signInViaPopup",t,i,!!o,e.S())}).then(function(){return new we(function(t,n){e.ma("signInViaPopup",null,new O("cancelled-popup-request"),e.i),e.g=t,e.O=n,e.i=i,e.c=Mc(e.b,e,"signInViaPopup",s,i)})}).then(function(t){return s&&pr(s),t?Xr(t):null}).o(function(t){throw s&&pr(s),t}))},t.Xc=function(t){if(!jr())return Ae(new O("operation-not-supported-in-this-environment"));var e=this;return dh(this,oh(this).then(function(){return function(t){return th(t,function(){return t.b.set(Jl,t.c.D,t.a)})}(e.l)}).then(function(){return Lc(e.b,"signInViaRedirect",t,void 0,e.S())}))},t.qa=function(){var t=this;return sh(this).then(function(e){return t.b&&zc(t.b.b),e}).o(function(e){throw t.b&&zc(t.b.b),e})},t.cd=function(t){if(!t)return Ae(new O("null-user"));if(this.W!=t.tenantId)return Ae(new O("tenant-id-mismatch"));var e=this,n={};n.apiKey=ch(this).options.apiKey,n.authDomain=ch(this).options.authDomain,n.appName=ch(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Qs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new ml(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&vl(e,r),Rl(e,t),e}(t,n,e.G,e.Ga());return dh(this,this.h.then(function(){if(ch(e).options.apiKey!=t.l)return r.reload()}).then(function(){return lh(e)&&t.uid==lh(e).uid?(Rl(lh(e),t),e.da(t)):(ah(e,r),Tl(r),e.da(r))}).then(function(){fh(e)}))},t.zb=function(){var t=this;return dh(this,this.h.then(function(){return t.b&&zc(t.b.b),lh(t)?(ah(t,null),Xl(t.l).then(function(){fh(t)})):Ce()}))},t.Yc=function(){var t=this;return Zl(this.l,ch(this).options.authDomain).then(function(e){if(!t.m){var n;if(n=lh(t)&&e){n=lh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Rl(lh(t),e),lh(t).I();(lh(t)||e)&&(ah(t,e),e&&(Tl(e),e.ha=t.G),t.b&&xc(t.b,t),fh(t))}})},t.da=function(t){return Yl(this.l,t)},t.kc=function(){fh(this),this.da(lh(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.h.then(function(){return uh(e,Ce(t))})},t.yc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(lh(e))})},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),dh(t,t.h.then(function(){!t.m&&$(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(hh(t)))}))}(this,function(){t.next(lh(e))})},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(lh(r)):"function"==typeof t.next&&t.next(lh(r))}),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.X=r.getUid(),"function"==typeof t?t(lh(r)):"function"==typeof t.next&&t.next(lh(r))}),this.bc(t,e,n)},t.mc=function(t){var e=this;return dh(this,this.h.then(function(){return lh(e)?lh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Sc=function(t){var e=this;return this.h.then(function(){return uh(e,tu(e.a,$a,{token:t}))}).then(function(t){var n=t.user;return jl(n,"isAnonymous",!1),e.da(n),t})},t.Tc=function(t,e){var n=this;return this.h.then(function(){return uh(n,tu(n.a,Ja,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return uh(n,tu(n.a,Sa,{email:t,password:e}))})},t.Za=function(t){var e=this;return this.h.then(function(){return uh(e,t.ja(e.a))})},t.Rc=function(t){return $r("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.h.then(function(){var e=lh(t);if(e&&e.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return uh(t,t.a.yb()).then(function(e){var n=e.user;return jl(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return lh(this)&&lh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&lh(this)&&_l(lh(this))},t.Oc=function(t){var e=this;B(this.u,function(n){n==t&&e.A--}),0>this.A&&(this.A=0),0==this.A&&lh(this)&&El(lh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),dh(this,this.h.then(function(){e.m||$(e.u,t)&&t(hh(e))}))},t.removeAuthTokenListener=function(t){Q(this.u,function(e){return e==t})},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(Ql("local"),t.a,this.pa),this.b&&(Nc(this.b,this),zc(this.b.b)),Promise.resolve()},t.gc=function(t){return dh(this,function(t,e){return tu(t,Ia,{identifier:e,continueUri:Rr()?lr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Ac=function(t){return!!jo(t)},t.vb=function(t,e){var n=this;return dh(this,Ce().then(function(){var t=new xi(e);if(!t.c)throw new O("argument-error",Ri+" must be true when sending sign in link to email");return Vi(t)}).then(function(e){return n.a.vb(t,e)}).then(function(){}))},t.hd=function(t){return this.Qa(t).then(function(t){return t.data.email})},t.mb=function(t,e){return dh(this,this.a.mb(t,e).then(function(){}))},t.Qa=function(t){return dh(this,this.a.Qa(t).then(function(t){return new ai(t)}))},t.ib=function(t){return dh(this,this.a.ib(t).then(function(){}))},t.ub=function(t,e){var n=this;return dh(this,Ce().then(function(){return void 0===e||pt(e)?{}:Vi(new xi(e))}).then(function(e){return n.a.ub(t,e)}).then(function(){}))},t.Vc=function(t,e){return dh(this,Jc(this,t,e,_(this.Za,this)))},t.Uc=function(t,e){var n=this;return dh(this,Ce().then(function(){var r=e||lr(),i=No(t,r);if(!(r=jo(r)))throw new O("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new O("tenant-id-mismatch");return n.Za(i)}))},ph.prototype.render=function(){},ph.prototype.reset=function(){},ph.prototype.getResponse=function(){},ph.prototype.execute=function(){};var gh=null;function yh(t,e){return(e=vh(e))&&t.a[e]||null}function vh(t){return(t=void 0===t?1e12:t)?t.toString():null}function bh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.i="invisible"!==this.c.size,this.f=ue(t);var n=this;this.h=function(){n.execute()},this.i?this.execute():cn(this.f,"click",this.h)}function wh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function _h(){}function Eh(){}mh.prototype.render=function(t,e){return this.a[this.b.toString()]=new bh(t,e),this.b++},mh.prototype.reset=function(t){var e=yh(this,t);t=vh(t),e&&t&&(e.delete(),delete this.a[t])},mh.prototype.getResponse=function(t){return(t=yh(this,t))?t.getResponse():null},mh.prototype.execute=function(t){(t=yh(this,t))&&t.execute()},bh.prototype.getResponse=function(){return wh(this),this.b},bh.prototype.execute=function(){wh(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.i&&t.execute()},6e4)},500))},bh.prototype.delete=function(){wh(this),this.g=!0,clearTimeout(this.a),this.a=null,fn(this.f,"click",this.h)},Qr(_h,"FACTOR_ID","phone"),Eh.prototype.g=function(){return gh||(gh=new mh),Ce(gh)},Eh.prototype.c=function(){};var Sh=null;function Ih(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Th=new bt(St,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Oh=new Hr(3e4,6e4);Ih.prototype.g=function(t){var e=this;return new we(function(n,r){var i=setTimeout(function(){r(new O("network-request-failed"))},Oh.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new O("internal-error"));delete a[e.a]},Ce(qs(Ct(Th,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new O("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(a.grecaptcha))})},Ih.prototype.c=function(){this.b--};var Ch=null;function Ah(t,e,n,r,i,o,s){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,s?(Sh||(Sh=new Eh),s=Sh):(Ch||(Ch=new Ih),s=Ch),this.v=s,this.a=n||{theme:"light",type:"image"},this.i=[],this.a[Nh])throw new O("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[jh],!a.document)throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ue(e)||!this.h&&ue(e).hasChildNodes())throw new O("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $s(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[kh];this.a[kh]=function(t){if(Rh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=xr(c,a);"function"==typeof e&&e(t)}};var l=this.a[xh];this.a[xh]=function(){if(Rh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=xr(l,a);"function"==typeof t&&t()}}}var kh="callback",xh="expired-callback",Nh="sitekey",jh="size";function Rh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Dh(t,e){return t.i.push(e),e.na(function(){J(t.i,e)}),e}function Ph(t){if(t.A)throw new O("internal-error","RecaptchaVerifier instance has been destroyed.")}function Lh(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(a){throw new O("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new O("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.a.SDK_VERSION?Ar(r.a.SDK_VERSION,s):null,Ah.call(this,n,t,e,function(){try{var t=o.b.auth().ka()}catch(e){t=null}return t},s,j(A),i)}function Mh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new O("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Fh.length)throw new O("internal-error","Argument validator received an unsupported number of arguments.");n=Fh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new O("argument-error",t+" failed: "+r)}(t=Ah.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Dh(this,Ce().then(function(){if(Rr()&&!_r())return vr();throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.v.g(t.u())}).then(function(e){return t.g=e,tu(t.s,Ma,{})}).then(function(e){t.a[Nh]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Ph(this);var t=this;return Dh(this,this.Ia().then(function(){if(null===t.c){var e=t.m;if(!t.h){var n=ue(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Bt(s.name),'"'),s.type){o.push(' type="',Bt(s.type),'"');var a={};yt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ce(o,s)),2<r.length&&de(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Ph(this);var t=this;return Dh(this,this.render().then(function(e){return new we(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Q(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.h&&t.g.execute(t.c)}})}))},t.reset=function(){Ph(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Ph(this),this.A=!0,this.v.c();for(var t=0;t<this.i.length;t++)this.i[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){t=ue(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},I(Lh,Ah);var Fh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Uh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Vh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function qh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:m}}function Hh(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function zh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Bh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ja||t&&e.providerId!==t)}}}function Kh(t,e){return m(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Gh(t){return m(t)&&"string"==typeof t.uid}function Wh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function $h(t,e){for(var n in e){var r=e[n].name;t[r]=Yh(r,t[n],e[n].j)}}function Jh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E(function(t){return this[t]},n),set:E(function(t,e,n,r){Mh(t,[n],[r],!0),this[e]=r},r,n,e[n].jb),enumerable:!0})}}function Qh(t,e,n,r){t[e]=Yh(e,n,r)}function Yh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Mh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}$h(eh.prototype,{ib:{name:"applyActionCode",j:[Uh("code")]},Qa:{name:"checkActionCode",j:[Uh("code")]},mb:{name:"confirmPasswordReset",j:[Uh("code"),Uh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Uh("email"),Uh("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Uh("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Uh("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Wh(qh(),Hh(),"nextOrObserver"),Hh("opt_error",!0),Hh("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Wh(qh(),Hh(),"nextOrObserver"),Hh("opt_error",!0),Hh("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Uh("email"),Wh(qh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Uh("email"),qh("actionCodeSettings")]},wb:{name:"setPersistence",j:[Uh("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Bh()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Bh()]},Sc:{name:"signInWithCustomToken",j:[Uh("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Uh("email"),Uh("password")]},Uc:{name:"signInWithEmailLink",j:[Uh("email"),Uh("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[Wh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof ml)}},zh(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Uh(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Uh("url"),qh("options",!0)]},hd:{name:"verifyPasswordResetCode",j:[Uh("code")]}}),Jh(eh.prototype,{lc:{name:"languageCode",jb:Wh(Uh(),zh(),"languageCode")},ti:{name:"tenantId",jb:Wh(Uh(),zh(),"tenantId")}}),(eh.Persistence=Qu).LOCAL="local",eh.Persistence.SESSION="session",eh.Persistence.NONE="none",$h(ml.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Vh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Vh("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Bh()]},pb:{name:"linkWithCredential",j:[Bh()]},Cc:{name:"linkWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Bh()]},sb:{name:"reauthenticateWithCredential",j:[Bh()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Wh(qh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Uh(null,!0)]},bd:{name:"unlink",j:[Uh("provider")]},Ab:{name:"updateEmail",j:[Uh("email")]},Bb:{name:"updatePassword",j:[Uh("password")]},dd:{name:"updatePhoneNumber",j:[Bh("phone")]},Cb:{name:"updateProfile",j:[qh("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Uh("email"),Wh(qh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]}}),$h(mh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$h(ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$h(we.prototype,{na:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Jh(Wc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Vh("appVerificationDisabledForTesting")}}),$h($c.prototype,{confirm:{name:"confirm",j:[Uh("verificationCode")]}}),Qh(uo,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[go,ko,Do,fo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Wh(Uh(),qh(),"json")]),Qh(xo,"credential",function(t,e){return new Ao(t,e)},[Uh("email"),Uh("password")]),$h(Ao.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),$h(wo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Qh(wo,"credential",_o,[Wh(Uh(),qh(),"token")]),Qh(xo,"credentialWithLink",No,[Uh("email"),Uh("emailLink")]),$h(Eo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Qh(Eo,"credential",So,[Wh(Uh(),qh(),"token")]),$h(Io.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Qh(Io,"credential",To,[Wh(Uh(),Wh(qh(),zh()),"idToken"),Wh(Uh(),zh(),"accessToken",!0)]),$h(Oo.prototype,{Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Qh(Oo,"credential",Co,[Wh(Uh(),qh(),"token"),Uh("secret",!0)]),$h(bo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},credential:{name:"credential",j:[Wh(Uh(),Wh(qh(),zh()),"optionsOrIdToken"),Wh(Uh(),zh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),$h(po.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),$h(lo.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Qh(Lo,"credential",Mo,[Uh("verificationId"),Uh("verificationCode")]),$h(Lo.prototype,{eb:{name:"verifyPhoneNumber",j:[Wh(Uh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Kh(t.session,so)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Kh(t.session,ao)&&Gh(t.multiFactorHint):t.session&&t.multiFactorUid?Kh(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),$h(Ro.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),$h(O.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),$h(Go.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),$h(Ko.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),$h(tl.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),$h(Yc.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),$h(sl.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Uh("displayName",!0)]},ad:{name:"unenroll",j:[Wh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Gh},Uh(),"multiFactorInfoIdentifier")]}}),$h(Lh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Qh(_i,"parseLink",ki,[Uh("link")]),Qh(_h,"assertion",function(t){return new il(t)},[Bh("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ci,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ui,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:eh,AuthCredential:uo,Error:O};Qh(t,"EmailAuthProvider",xo,[]),Qh(t,"FacebookAuthProvider",wo,[]),Qh(t,"GithubAuthProvider",Eo,[]),Qh(t,"GoogleAuthProvider",Io,[]),Qh(t,"TwitterAuthProvider",Oo,[]),Qh(t,"OAuthProvider",bo,[Uh("providerId")]),Qh(t,"SAMLAuthProvider",vo,[Uh("providerId")]),Qh(t,"PhoneAuthProvider",Lo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof eh)}}]),Qh(t,"RecaptchaVerifier",Lh,[Wh(Uh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),qh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof r.a.app.App)}}]),Qh(t,"ActionCodeURL",_i,[]),Qh(t,"PhoneMultiFactorGenerator",_h,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new eh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:_((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:_(t.mc,t),addAuthTokenListener:_(t.cc,t),removeAuthTokenListener:_(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.16.1"),r.a.INTERNAL.extendNamespace({User:ml})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return f}),n.d(e,"a",function(){return d});let r=1;const i=(()=>Promise.resolve())(),o={};function s(t){return t in o&&(delete o[t],!0)}const a={setImmediate(t){const e=r++;return o[e]=!0,i.then(()=>s(e)&&t()),e},clearImmediate(t){s(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new h(c),d=f},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.3","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return en}),n.d(e,"b",function(){return vu}),n.d(e,"c",function(){return du}),n.d(e,"d",function(){return hu}),n.d(e,"e",function(){return fu}),n.d(e,"f",function(){return hc}),n.d(e,"g",function(){return ec}),n.d(e,"h",function(){return ha}),n.d(e,"i",function(){return ku}),n.d(e,"j",function(){return Fs}),n.d(e,"k",function(){return _u}),n.d(e,"l",function(){return Hs}),n.d(e,"m",function(){return yr}),n.d(e,"n",function(){return za}),n.d(e,"o",function(){return no}),n.d(e,"p",function(){return fn}),n.d(e,"q",function(){return tn}),n.d(e,"r",function(){return bo}),n.d(e,"s",function(){return oa}),n.d(e,"t",function(){return sa}),n.d(e,"u",function(){return wu}),n.d(e,"v",function(){return Ea}),n.d(e,"w",function(){return rc}),n.d(e,"x",function(){return _a}),n.d(e,"y",function(){return Qu}),n.d(e,"z",function(){return ju}),n.d(e,"A",function(){return dn}),n.d(e,"B",function(){return yu}),n.d(e,"C",function(){return gu}),n.d(e,"D",function(){return Ka}),n.d(e,"E",function(){return Bs}),n.d(e,"F",function(){return zs}),n.d(e,"G",function(){return _r}),n.d(e,"H",function(){return Gs}),n.d(e,"I",function(){return fr}),n.d(e,"J",function(){return mn}),n.d(e,"K",function(){return sc}),n.d(e,"L",function(){return ya}),n.d(e,"M",function(){return Uu}),n.d(e,"N",function(){return nn}),n.d(e,"O",function(){return $s}),n.d(e,"P",function(){return Ws}),n.d(e,"Q",function(){return Ia}),n.d(e,"R",function(){return N}),n.d(e,"S",function(){return Yu}),n.d(e,"T",function(){return $u}),n.d(e,"U",function(){return d}),n.d(e,"V",function(){return Tn}),n.d(e,"W",function(){return Wu}),n.d(e,"X",function(){return cc}),n.d(e,"Y",function(){return Hu}),n.d(e,"Z",function(){return bu}),n.d(e,"ab",function(){return io}),n.d(e,"bb",function(){return Is}),n.d(e,"cb",function(){return lr}),n.d(e,"db",function(){return Wn}),n.d(e,"eb",function(){return Ln}),n.d(e,"fb",function(){return Fn}),n.d(e,"gb",function(){return Hn}),n.d(e,"hb",function(){return Vn}),n.d(e,"ib",function(){return Un}),n.d(e,"jb",function(){return qn}),n.d(e,"kb",function(){return ws}),n.d(e,"lb",function(){return uc}),n.d(e,"mb",function(){return _s}),n.d(e,"nb",function(){return Es}),n.d(e,"ob",function(){return Mn}),n.d(e,"pb",function(){return L}),n.d(e,"qb",function(){return ko}),n.d(e,"rb",function(){return zo}),n.d(e,"sb",function(){return Ho}),n.d(e,"tb",function(){return bs}),n.d(e,"ub",function(){return It}),n.d(e,"vb",function(){return l}),n.d(e,"wb",function(){return Pn}),n.d(e,"xb",function(){return _o}),n.d(e,"yb",function(){return vt}),n.d(e,"zb",function(){return Ps}),n.d(e,"Ab",function(){return ai}),n.d(e,"Bb",function(){return jo}),n.d(e,"Cb",function(){return os}),n.d(e,"Db",function(){return ou}),n.d(e,"Eb",function(){return W}),n.d(e,"Fb",function(){return tt}),n.d(e,"Gb",function(){return g}),n.d(e,"Hb",function(){return y}),n.d(e,"Ib",function(){return Y}),n.d(e,"Jb",function(){return et}),n.d(e,"Kb",function(){return Po}),n.d(e,"Lb",function(){return Vo}),n.d(e,"Mb",function(){return Uo}),n.d(e,"Nb",function(){return Fo}),n.d(e,"Ob",function(){return qo}),n.d(e,"Pb",function(){return Qe}),n.d(e,"Qb",function(){return ps}),n.d(e,"Rb",function(){return In}),n.d(e,"Sb",function(){return Ye}),n.d(e,"Tb",function(){return lu}),n.d(e,"Ub",function(){return Bo}),n.d(e,"Vb",function(){return su}),n.d(e,"Wb",function(){return Jo}),n.d(e,"Xb",function(){return qa}),n.d(e,"Yb",function(){return Ha}),n.d(e,"Zb",function(){return Xo}),n.d(e,"ac",function(){return Yo}),n.d(e,"bc",function(){return Lo}),n.d(e,"cc",function(){return Zo}),n.d(e,"dc",function(){return Ua}),n.d(e,"ec",function(){return eu}),n.d(e,"fc",function(){return Ht}),n.d(e,"gc",function(){return dr}),n.d(e,"hc",function(){return X}),n.d(e,"ic",function(){return nu}),n.d(e,"jc",function(){return is}),n.d(e,"kc",function(){return Ko}),n.d(e,"lc",function(){return ms}),n.d(e,"mc",function(){return Do}),n.d(e,"nc",function(){return hs}),n.d(e,"oc",function(){return fs}),n.d(e,"pc",function(){return ds}),n.d(e,"qc",function(){return ru});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f=u({__forward_ref__:u});function d(t){return t.__forward_ref__=d,t.toString=function(){return l(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(f)&&t.__forward_ref__===d}function g(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function y(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function v(t){return b(t,_)||b(t,S)}function b(t,e){return t.hasOwnProperty(e)?t[e]:null}function w(t){return t&&(t.hasOwnProperty(E)||t.hasOwnProperty(I))?t[E]:null}const _=u({"\u0275prov":u}),E=u({"\u0275inj":u}),S=u({ngInjectableDef:u}),I=u({ngInjectorDef:u});var T=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let O;function C(t){const e=O;return O=t,e}function A(t,e,n){const r=v(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&T.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${l(t)}]`)}function k(t){return{toString:t}.toString()}var x=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),N=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const j="undefined"!=typeof globalThis&&globalThis,R="undefined"!=typeof window&&window,D="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,P="undefined"!=typeof global&&global,L=j||P||R||D,M={},F=[],U=u({"\u0275cmp":u}),V=u({"\u0275dir":u}),q=u({"\u0275pipe":u}),H=u({"\u0275mod":u}),z=u({"\u0275loc":u}),B=u({"\u0275fac":u}),K=u({__NG_ELEMENT_ID__:u});let G=0;function W(t){return k(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===x.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||F,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||N.Emulated,id:"c",styles:t.styles||F,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=G++,n.inputs=Z(t.inputs,e),n.outputs=Z(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map($):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(J):null,n})}function $(t){return nt(t)||function(t){return t[V]||null}(t)}function J(t){return function(t){return t[q]||null}(t)}const Q={};function Y(t){const e={type:t.type,bootstrap:t.bootstrap||F,declarations:t.declarations||F,imports:t.imports||F,exports:t.exports||F,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&k(()=>{Q[t.id]=t.type}),e}function X(t,e){return k(()=>{const n=rt(t,!0);n.declarations=e.declarations||F,n.imports=e.imports||F,n.exports=e.exports||F})}function Z(t,e){if(null==t)return M;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const tt=W;function et(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function nt(t){return t[U]||null}function rt(t,e){const n=t[H]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const it=20,ot=10;function st(t){return Array.isArray(t)&&"object"==typeof t[1]}function at(t){return Array.isArray(t)&&!0===t[1]}function ut(t){return 0!=(8&t.flags)}function ct(t){return 2==(2&t.flags)}function lt(t){return 1==(1&t.flags)}function ht(t){return null!==t.template}function ft(t,e){return t.hasOwnProperty(B)?t[B]:null}class dt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function pt(t){return"string"==typeof t?t:null==t?"":String(t)}function mt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():pt(t)}function gt(t,e){const n=e?" in "+e:"";throw new dt("201",`No provider for ${mt(t)} found${n}`)}class yt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function vt(){return bt}function bt(t){return t.type.prototype.ngOnChanges&&(t.setInput=_t),wt}function wt(){const t=Et(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===M)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function _t(t,e,n,r){const i=Et(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:M,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new yt(u&&u.currentValue,e,s===M),t[r]=e}function Et(t){return t.__ngSimpleChanges__||null}vt.ngInherit=!0;let St=void 0;function It(t){St=t}function Tt(t){return!!t.listen}const Ot={createRenderer:(t,e)=>void 0!==St?St:"undefined"!=typeof document?document:void 0};function Ct(t){for(;Array.isArray(t);)t=t[0];return t}function At(t,e){return Ct(e[t])}function kt(t,e){return Ct(e[t.index])}function xt(t,e){return t.data[e]}function Nt(t,e){const n=e[t];return st(n)?n:n[0]}function jt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Rt(t){return 4==(4&t[2])}function Dt(t){return 128==(128&t[2])}function Pt(t,e){return null==e?null:t[e]}function Lt(t){t[18]=0}function Mt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ft={lFrame:ae(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ut(){return Ft.bindingsEnabled}function Vt(){return Ft.lFrame.lView}function qt(){return Ft.lFrame.tView}function Ht(t){Ft.lFrame.contextLView=t}function zt(){let t=Bt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bt(){return Ft.lFrame.currentTNode}function Kt(t,e){const n=Ft.lFrame;n.currentTNode=t,n.isParent=e}function Gt(){return Ft.lFrame.isParent}function Wt(){Ft.lFrame.isParent=!1}function $t(){return Ft.isInCheckNoChangesMode}function Jt(t){Ft.isInCheckNoChangesMode=t}function Qt(){const t=Ft.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Yt(){return Ft.lFrame.bindingIndex++}function Xt(t,e){const n=Ft.lFrame;n.bindingIndex=n.bindingRootIndex=t,Zt(e)}function Zt(t){Ft.lFrame.currentDirectiveIndex=t}function te(t){const e=Ft.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ee(){return Ft.lFrame.currentQueryIndex}function ne(t){Ft.lFrame.currentQueryIndex=t}function re(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ie(t,e,n){if(n&T.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&T.Host||(r=re(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ft.lFrame=se();return r.currentTNode=e,r.lView=t,!0}function oe(t){const e=se(),n=t[1];Ft.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function se(){const t=Ft.lFrame,e=null===t?null:t.child;return null===e?ae(t):e}function ae(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ue(){const t=Ft.lFrame;return Ft.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ce=ue;function le(){const t=ue();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function he(){return Ft.lFrame.selectedIndex}function fe(t){Ft.lFrame.selectedIndex=t}function de(){const t=Ft.lFrame;return xt(t.tView,t.selectedIndex)}function pe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function me(t,e,n){ve(t,e,3,n)}function ge(t,e,n,r){(3&t[2])===n&&ve(t,e,n,r)}function ye(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ve(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(be(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function be(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const we=-1;class _e{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ee(t,e,n){const r=Tt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ie(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Se(t){return 3===t||4===t||6===t}function Ie(t){return 64===t.charCodeAt(0)}function Te(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Oe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Oe(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ce(t){return t!==we}function Ae(t){return 32767&t}function ke(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let xe=!0;function Ne(t){const e=xe;return xe=t,e}let je=0;function Re(t,e){const n=Pe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,De(r.data,t),De(e,null),De(r.blueprint,null));const i=Le(t,e),o=t.injectorIndex;if(Ce(i)){const t=Ae(i),n=ke(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function De(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Pe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Le(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return we;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return we}function Me(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(K)&&(r=n[K]),null==r&&(r=n[K]=je++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Fe(t,e,n){if(n&T.Optional)return t;gt(e,"NodeInjector")}function Ue(t,e,n,r){if(n&T.Optional&&void 0===r&&(r=null),0==(n&(T.Self|T.Host))){const i=t[9],o=C(void 0);try{return i?i.get(e,r,n&T.Optional):A(e,r,n&T.Optional)}finally{C(o)}}return Fe(r,e,n)}function Ve(t,e,n,r=T.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(K)?t[K]:void 0;return"number"==typeof e?e>=0?255&e:He:e}(n);if("function"==typeof o){if(!ie(e,t,r))return r&T.Host?Fe(i,n,r):Ue(e,n,r,i);try{const t=o();if(null!=t||r&T.Optional)return t;gt(n)}finally{ce()}}else if("number"==typeof o){let i=null,s=Pe(t,e),a=we,u=r&T.Host?e[16][6]:null;for((-1===s||r&T.SkipSelf)&&(a=-1===s?Le(t,e):e[s+8],a!==we&&We(r,!1)?(i=e[1],s=Ae(a),e=ke(a,e)):s=-1);-1!==s;){const t=e[1];if(Ge(o,s,t.data)){const t=ze(s,e,n,i,r,u);if(t!==qe)return t}a=e[s+8],a!==we&&We(r,e[1].data[s+8]===u)&&Ge(o,s,e)?(i=t,s=Ae(a),e=ke(a,e)):s=-1}}}return Ue(e,n,r,i)}const qe={};function He(){return new $e(zt(),Vt())}function ze(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Be(a,s,n,null==r?ct(a)&&xe:r!=s&&0!=(3&a.type),i&T.Host&&o===a);return null!==u?Ke(e,s,u,a):qe}function Be(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&ht(t)&&t.type===n)return u}return null}function Ke(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof _e){const s=i;s.resolving&&function(t,e){throw new dt("200","Circular dependency in DI detected for "+t)}(mt(o[n]));const a=Ne(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?C(s.injectImpl):null;ie(t,r,T.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=bt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&C(u),Ne(a),s.resolving=!1,ce()}}return i}function Ge(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function We(t,e){return!(t&T.Self||t&T.Host&&e)}class $e{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ve(this._tNode,this._lView,t,void 0,e)}}function Je(t){const e=t;if(m(t))return()=>{const t=Je(p(e));return t?t():null};let n=ft(e);if(null===n){const t=w(e);n=t&&t.factory}return n||null}function Qe(t){return k(()=>{const e=t.prototype.constructor,n=e[B]||Je(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[B]||Je(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Ye(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Se(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(zt(),t)}const Xe="__parameters__";function Ze(t,e,n){return k(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Xe)?t[Xe]:Object.defineProperty(t,Xe,{value:[]})[Xe];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class tn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=g({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const en=new tn("AnalyzeForEntryComponents"),nn=Function;function rn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),rn(r,e)):e!==t&&e.push(r)}return e}function on(t,e){t.forEach(t=>Array.isArray(t)?on(t,e):e(t))}function sn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function an(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function un(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function cn(t,e,n){let r=hn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ln(t,e){const n=hn(t,e);if(n>=0)return t[1|n]}function hn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const fn=Ze("Inject",t=>({token:t})),dn=Ze("Optional"),pn=Ze("Self"),mn=Ze("SkipSelf"),gn=Ze("Host"),yn={},vn=/\n/gm,bn="__source",wn=u({provide:String,useValue:u});let _n=void 0;function En(t){const e=_n;return _n=t,e}function Sn(t,e=T.Default){if(void 0===_n)throw new Error("inject() must be called from an injection context");return null===_n?A(t,void 0,e):_n.get(t,e&T.Optional?null:void 0,e)}function In(t,e=T.Default){return(O||Sn)(p(t),e)}const Tn=In;function On(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=T.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof dn||"Optional"===i.ngMetadataName||i===dn?n|=T.Optional:i instanceof mn||"SkipSelf"===i.ngMetadataName||i===mn?n|=T.SkipSelf:i instanceof pn||"Self"===i.ngMetadataName||i===pn?n|=T.Self:i instanceof gn||"Host"===i.ngMetadataName||i===gn?n|=T.Host:t=i instanceof fn||i===fn?i.token:i}e.push(In(t,n))}else e.push(In(r))}return e}let Cn;function An(t){var e;return(null===(e=function(){if(void 0===Cn&&(Cn=null,L.trustedTypes))try{Cn=L.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Cn}())||void 0===e?void 0:e.createHTML(t))||t}class kn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class xn extends kn{getTypeName(){return"HTML"}}class Nn extends kn{getTypeName(){return"Style"}}class jn extends kn{getTypeName(){return"Script"}}class Rn extends kn{getTypeName(){return"URL"}}class Dn extends kn{getTypeName(){return"ResourceURL"}}function Pn(t){return t instanceof kn?t.changingThisBreaksApplicationSecurity:t}function Ln(t,e){const n=Mn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Mn(t){return t instanceof kn&&t.getTypeName()||null}function Fn(t){return new xn(t)}function Un(t){return new Nn(t)}function Vn(t){return new jn(t)}function qn(t){return new Rn(t)}function Hn(t){return new Dn(t)}class zn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(An(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Bn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=An(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=An(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Kn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Gn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Wn(t){return(t=String(t)).match(Kn)||t.match(Gn)?t:"unsafe:"+t}function $n(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Jn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Qn=$n("area,br,col,hr,img,wbr"),Yn=$n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xn=$n("rp,rt"),Zn=Jn(Xn,Yn),tr=Jn(Qn,Jn(Yn,$n("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jn(Xn,$n("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zn),er=$n("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nr=$n("srcset"),rr=Jn(er,nr,$n("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$n("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ir=$n("script,style,template");class or{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!tr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ir.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!rr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;er[o]&&(s=Wn(s)),nr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Wn(t.trim())).join(", ")),this.buf.push(" ",e,'="',ur(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();tr.hasOwnProperty(e)&&!Qn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ur(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const sr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ar=/([^\#-~ |!])/g;function ur(t){return t.replace(/&/g,"&amp;").replace(sr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ar,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cr;function lr(t,e){let n=null;try{cr=cr||function(t){const e=new Bn(t);return function(){try{return!!(new window.DOMParser).parseFromString(An(""),"text/html")}catch(t){return!1}}()?new zn(e):e}(t);let r=e?String(e):"";n=cr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=cr.getInertBodyElement(r)}while(r!==o);return(new or).sanitizeChildren(hr(n)||n)}finally{if(n){const t=hr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function hr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var fr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function dr(t){const e=function(){const t=Vt();return t&&t[12]}();return e?e.sanitize(fr.URL,t)||"":Ln(t,"URL")?Pn(t):Wn(pt(t))}function pr(t){return t.ngDebugContext}function mr(t){return t.ngOriginalError}function gr(t,...e){t.error(...e)}class yr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||gr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?pr(t)?pr(t):this._findContext(mr(t)):null}_findOriginalError(t){let e=mr(t);for(;e&&mr(e);)e=mr(e);return e}}function vr(t,e){t.__ngContext__=e}const br=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(L))();function wr(t){return t instanceof Function?t():t}var _r=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Er(t,e){return(void 0)(t,e)}function Sr(t){const e=t[3];return at(e)?e[3]:e}function Ir(t){return Or(t[13])}function Tr(t){return Or(t[4])}function Or(t){for(;null!==t&&!at(t);)t=t[4];return t}function Cr(t,e,n,r,i){if(null!=r){let o,s=!1;at(r)?o=r:st(r)&&(s=!0,r=r[0]);const a=Ct(r);0===t&&null!==n?null==i?Pr(e,n,a):Dr(e,n,a,i||null,!0):1===t&&null!==n?Dr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Mr(t,e);r&&function(t,e,n,r){Tt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Ct(n)&&Cr(e,t,r,o,i);for(let s=ot;s<n.length;s++){const i=n[s];Br(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Ar(t,e,n){return Tt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function kr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Mt(i,-1)),n.splice(r,1)}function xr(t,e){if(t.length<=ot)return;const n=ot+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&kr(o,r),e>0&&(t[n-1][4]=r[4]);const s=an(t,ot+e);Br(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Nr(t,e){if(!(256&e[2])){const n=e[11];Tt(n)&&n.destroyNode&&Br(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return jr(t[1],t);for(;e;){let n=null;if(st(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)st(e)&&jr(e[1],e),e=e[3];null===e&&(e=t),st(e)&&jr(e[1],e),n=e&&e[4]}e=n}}(e)}}function jr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof _e)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Ct(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Tt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&at(e[3])){n!==e[3]&&kr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Rr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===N.None||e===N.Emulated)return null}return kt(r,n)}(t,e.parent,n)}function Dr(t,e,n,r,i){Tt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Pr(t,e,n){Tt(t)?t.appendChild(e,n):e.appendChild(n)}function Lr(t,e,n,r,i){null!==r?Dr(t,e,n,r,i):Pr(t,e,n)}function Mr(t,e){return Tt(t)?t.parentNode(e):e.parentNode}function Fr(t,e,n){return Ur(t,e,n)}let Ur=function(t,e,n){return 40&t.type?kt(t,n):null};function Vr(t,e,n,r){const i=Rr(t,r,e),o=e[11],s=Fr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Lr(o,i,n[a],s,!1);else Lr(o,i,n,s,!1)}function qr(t,e){if(null!==e){const n=e.type;if(3&n)return kt(e,t);if(4&n)return Hr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return qr(t,n);{const n=t[e.index];return at(n)?Hr(-1,n):Ct(n)}}if(32&n)return Er(e,t)()||Ct(t[e.index]);{const n=t[16],r=n[6],i=Sr(n),o=r.projection[e.projection];return null!=o?qr(i,o):qr(t,e.next)}}return null}function Hr(t,e){const n=ot+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return qr(t,r)}return e[7]}function zr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&vr(Ct(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)zr(t,e,n.child,r,i,o,!1),Cr(e,t,i,a,o);else if(32&u){const s=Er(n,r);let u;for(;u=s();)Cr(e,t,i,u,o);Cr(e,t,i,a,o)}else 16&u?Kr(t,e,r,n,i,o):Cr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Br(t,e,n,r,i,o){zr(n,r,t.firstChild,e,i,o,!1)}function Kr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Cr(e,t,i,a[u],o);else zr(t,e,a,s[3],i,o,!0)}function Gr(t,e,n){Tt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Wr(t,e,n){Tt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function $r(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Jr="ng-template";function Qr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==$r(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Yr(t){return 4===t.type&&t.value!==Jr}function Xr(t,e,n){return e===(4!==t.type||n?t.value:Jr)}function Zr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Se(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Xr(t,u,n)||""===u&&1===e.length){if(ti(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Qr(t.attrs,c,n)){if(ti(r))return!1;s=!0}continue}const l=ei(8&r?"class":u,i,Yr(t),n);if(-1===l){if(ti(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==$r(e,c,0)||2&r&&c!==t){if(ti(r))return!1;s=!0}}}}else{if(!s&&!ti(r)&&!ti(u))return!1;if(s&&ti(u))continue;s=!1,r=u|1&r}}return ti(r)||s}function ti(t){return 0==(1&t)}function ei(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ni(t,e,n=!1){for(let r=0;r<e.length;r++)if(Zr(t,e[r],n))return!0;return!1}function ri(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function ii(t,e){return t?":not("+e.trim()+")":e}function oi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ti(s)||(e+=ii(o,i),i=""),r=s,o=o||!ti(r);n++}return""!==i&&(e+=ii(o,i)),e}const si={};function ai(t){ui(qt(),Vt(),he()+t,$t())}function ui(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&me(e,r,n)}else{const r=t.preOrderHooks;null!==r&&ge(e,r,0,n)}fe(n)}function ci(t,e){return t<<17|e<<2}function li(t){return t>>17&32767}function hi(t){return 2|t}function fi(t){return(131068&t)>>2}function di(t,e){return-131069&t|e<<2}function pi(t){return 1|t}function mi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ne(i),n.contentQueries(2,e[o],o)}}}function gi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Lt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function yi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Bt(),s=Gt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Ft.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Ft.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Kt(o,!0),o}function vi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function bi(t,e,n){oe(e);try{const r=t.viewQuery;null!==r&&$i(1,r,n);const i=t.template;null!==i&&Ei(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&mi(t,e),t.staticViewQueries&&$i(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)zi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,le()}}function wi(t,e,n,r){const i=e[2];if(256==(256&i))return;oe(e);const o=$t();try{Lt(e),Ft.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ei(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&me(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ge(e,n,0,null),ye(e,0)}if(function(t){for(let e=Ir(t);null!==e;e=Tr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Mt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ir(t);null!==e;e=Tr(e))for(let t=ot;t<e.length;t++){const n=e[t],r=n[1];Dt(n)&&wi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&mi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&me(e,n)}else{const n=t.contentHooks;null!==n&&ge(e,n,1),ye(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)fe(~r);else{const i=r,o=n[++t],s=n[++t];Xt(o,i),s(2,e[i])}}}finally{fe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)qi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&$i(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&me(e,n)}else{const n=t.viewHooks;null!==n&&ge(e,n,2),ye(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Mt(e[3],-1))}finally{le()}}function _i(t,e,n,r){const i=e[10],o=!$t(),s=Rt(e);try{o&&!s&&i.begin&&i.begin(),s&&bi(t,e,r),wi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ei(t,e,n,r,i){const o=he();try{fe(-1),2&r&&e.length>it&&ui(t,e,it,$t()),n(r,i)}finally{fe(o)}}function Si(t,e,n){Ut()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Re(n,e),vr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=ht(r);o&&Mi(e,n,r);const u=Ke(e,t,a,n);vr(u,e),null!==s&&Fi(0,a-i,u,r,0,s),o&&(Nt(n.index,e)[8]=u)}}(t,e,n,kt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ft.lFrame.currentDirectiveIndex;try{fe(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Zt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||ji(r,i)}}finally{fe(-1),Zt(s)}}(t,e,n))}function Ii(t,e,n=kt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ti(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Oi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Oi(t,e,n,r,i,o,s,a,u,c){const l=it+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:si);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ci(t,e,n,r){const i=Qi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Yi(t).push(r,i.length-1))}function Ai(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ki(t,e,n,r,i,o,s,a){const u=kt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(to(t,n,c,r,i),ct(e)&&function(t,e){const n=Nt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,Tt(o)?o.setProperty(u,r,i):Ie(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function xi(t,e,n,r){let i=!1;if(Ut()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ni(n,s.selectors,!1)&&(i||(i=[]),Me(Re(n,e),t,s.type),ht(s)?(Ri(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Pi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=vi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Te(n.mergedAttrs,c.hostAttrs),Li(t,n,e,u,c),Di(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Yr(e)?null:Ui(n,i);o.push(c),s=Ai(n,u,s),a=Ai(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new dt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Te(n.mergedAttrs,n.attrs),i}function Ni(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function ji(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ri(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Di(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ht(e)&&(n[""]=t)}}function Pi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Li(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=ft(i.type)),s=new _e(o,ht(i),null);t.blueprint[r]=s,n[r]=s,Ni(t,e,0,r,vi(t,n,i.hostVars,si),i)}function Mi(t,e,n){const r=kt(e,t),i=Ti(n),o=t[10],s=Bi(t,gi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Fi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Ui(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Vi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function qi(t,e){const n=Nt(e,t);if(Dt(n)){const t=n[1];80&n[2]?wi(t,n,t.template,n[8]):n[5]>0&&Hi(n)}}function Hi(t){for(let n=Ir(t);null!==n;n=Tr(n))for(let t=ot;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];wi(t,e,t.template,e[8])}else e[5]>0&&Hi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Nt(e[n],t);Dt(r)&&r[5]>0&&Hi(r)}}function zi(t,e){const n=Nt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),bi(r,n,n[8])}function Bi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ki(t){for(;t;){t[2]|=64;const e=Sr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Gi(t,e,n){const r=e[10];r.begin&&r.begin();try{wi(t,e,t.template,n)}catch(i){throw Zi(e,i),i}finally{r.end&&r.end()}}function Wi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=jt(n),i=r[1];_i(i,r,i.template,n)}}(t[8])}function $i(t,e,n){ne(0),e(t,n)}const Ji=(()=>Promise.resolve(null))();function Qi(t){return t[7]||(t[7]=[])}function Yi(t){return t.cleanup||(t.cleanup=[])}function Xi(t,e,n){return(null===t||ht(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Zi(t,e){const n=t[9],r=n?n.get(yr,null):null;r&&r.handleError(e)}function to(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function eo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const no=new tn("INJECTOR",-1);class ro{get(t,e=yn){if(e===yn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const io=new tn("Set Injector scope."),oo={},so={},ao=[];let uo=void 0;function co(){return void 0===uo&&(uo=new ro),uo}function lo(t,e=null,n=null,r){return new ho(t,n,e||co(),r)}class ho{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&on(e,n=>this.processProvider(n,t,e)),on([t],t=>this.processInjectorType(t,[],i)),this.records.set(no,mo(void 0,this));const o=this.records.get(io);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=yn,n=T.Default){this.assertNotDestroyed();const r=En(this);try{if(!(n&T.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof tn)&&v(t);e=n&&this.injectableDefInScope(n)?mo(fo(t),oo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&T.Self?co():this.parent).get(t,e=n&T.Optional&&e===yn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[bn]&&i.unshift(e[bn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(vn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{En(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=w(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=w(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{on(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];on(r,t=>this.processProvider(t,n,r||ao))}}this.injectorDefTypes.add(o),this.records.set(o,mo(r.factory,oo));const a=r.providers;if(null!=a&&!s){const e=t;on(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=yo(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return go(t)?mo(void 0,t.useValue):mo(po(t),oo)}(t);if(yo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=mo(void 0,oo,!0),e.factory=()=>On(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===oo&&(e.value=so,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function fo(t){const e=v(t),n=null!==e?e.factory:ft(t);if(null!==n)return n;const r=w(t);if(null!==r)return r.factory;if(t instanceof tn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=un(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[_]||t[S]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function po(t,e,n){let r=void 0;if(yo(t)){const e=p(t);return ft(e)||fo(e)}if(go(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...On(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>In(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ft(e)||fo(e);r=()=>new e(...On(t.deps))}var i;return r}function mo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function go(t){return null!==t&&"object"==typeof t&&wn in t}function yo(t){return"function"==typeof t}const vo=function(t,e,n){return function(t,e=null,n=null,r){const i=lo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let bo=(()=>{class t{static create(t,e){return Array.isArray(t)?vo(t,e,""):vo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=yn,t.NULL=new ro,t.\u0275prov=g({token:t,providedIn:"any",factory:()=>In(no)}),t.__NG_ELEMENT_ID__=-1,t})();function wo(t,e){pe(jt(t)[1],zt())}function _o(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(ht(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Eo(t.inputs),e.declaredInputs=Eo(t.declaredInputs),e.outputs=Eo(t.outputs);const n=i.hostBindings;n&&To(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&So(t,o),s&&Io(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),ht(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===_o&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Te(i.hostAttrs,n=Te(n,i.hostAttrs))}}(r)}function Eo(t){return t===M?{}:t===F?[]:t}function So(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Io(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function To(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Oo=null;function Co(){if(!Oo){const t=L.Symbol;if(t&&t.iterator)Oo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Oo=n)}}}return Oo}class Ao{constructor(t){this.wrapped=t}static wrap(t){return new Ao(t)}static unwrap(t){return Ao.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ao}}function ko(t){return!!xo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Co()in t)}function xo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function No(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function jo(t,e,n,r){const i=Vt();return No(i,Yt(),e)&&(qt(),function(t,e,n,r,i,o){const s=kt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Tt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?pt(o):s(o,r||"",i);Tt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(de(),i,t,e,n,r)),jo}function Ro(t,e,n,r){return No(t,Yt(),n)?e+pt(n)+r:si}function Do(t,e,n,r,i,o,s,a){const u=Vt(),c=qt(),l=t+it,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=yi(e,t,4,s||null,Pt(c,a));xi(e,n,l,Pt(c,u)),pe(e,l);const h=l.tViews=Oi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Kt(h,!1);const f=u[11].createComment("");Vr(c,u,f,h),vr(f,u),Bi(u,u[l]=Vi(f,u,f,h)),lt(h)&&Si(c,u,h),null!=s&&Ii(u,h,a)}function Po(t,e=T.Default){const n=Vt();return null===n?In(t,e):Ve(zt(),n,p(t),e)}function Lo(t,e,n){const r=Vt();return No(r,Yt(),e)&&ki(qt(),de(),r,t,e,r[11],n,!1),Lo}function Mo(t,e,n,r,i){const o=i?"class":"style";to(t,n,e.inputs[o],o,r)}function Fo(t,e,n,r){const i=Vt(),o=qt(),s=it+t,a=i[11],u=i[s]=Ar(a,e,Ft.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=yi(e,t,2,i,Pt(a,o));return xi(e,n,u,Pt(a,s)),null!==u.attrs&&eo(u,u.attrs,!1),null!==u.mergedAttrs&&eo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Kt(c,!0);const l=c.mergedAttrs;null!==l&&Ee(a,u,l);const h=c.classes;null!==h&&Wr(a,u,h);const f=c.styles;null!==f&&Gr(a,u,f),64!=(64&c.flags)&&Vr(o,i,u,c),0===Ft.lFrame.elementDepthCount&&vr(u,i),Ft.lFrame.elementDepthCount++,lt(c)&&(Si(o,i,c),function(t,e,n){if(ut(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Ii(i,c)}function Uo(){let t=zt();Gt()?Wt():(t=t.parent,Kt(t,!1));const e=t;Ft.lFrame.elementDepthCount--;const n=qt();n.firstCreatePass&&(pe(n,t),ut(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Mo(n,e,Vt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Mo(n,e,Vt(),e.stylesWithoutHost,!1)}function Vo(t,e,n,r){Fo(t,e,n,r),Uo()}function qo(){return Vt()}function Ho(t){return!!t&&"function"==typeof t.then}function zo(t){return!!t&&"function"==typeof t.subscribe}function Bo(t,e,n=!1,r){const i=Vt(),o=qt(),s=zt();return Go(o,i,i[11],s,t,e,n,r),Bo}function Ko(t,e,n=!1,r){const i=zt(),o=Vt(),s=qt();return Go(s,o,Xi(te(s.data),i,o),i,t,e,n,r),Ko}function Go(t,e,n,r,i,o,s=!1,a){const u=lt(r),c=t.firstCreatePass&&Yi(t),l=Qi(e);let h=!0;if(3&r.type){const f=kt(r,e),d=a?a(f):M,p=d.target||f,m=l.length,g=a?t=>a(Ct(t[r.index])).target:r.index;if(Tt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=$o(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,g,m,m+1)}}else o=$o(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,m,s)}else o=$o(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}function Wo(t,e,n){try{return!1!==e(n)}catch(r){return Zi(t,r),!1}}function $o(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Nt(t.index,e):e;0==(32&e[2])&&Ki(s);let a=Wo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Wo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Jo(t=1){return function(t){return(Ft.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ft.lFrame.contextLView))[8]}(t)}function Qo(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?ni(t,o,!0):ri(r,o))return i}else n=i}return n}function Yo(t){const e=Vt()[16][6];if(!e.projection){const n=e.projection=un(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Qo(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Xo(t,e=0,n){const r=Vt(),i=qt(),o=yi(i,it+t,16,null,n||null);null===o.projection&&(o.projection=e),Wt(),64!=(64&o.flags)&&function(t,e,n){Kr(e[11],0,e,n,Rr(t,n,e),Fr(n.parent||e[6],n,e))}(i,r,o)}function Zo(t,e,n){return ts(t,"",e,"",n),Zo}function ts(t,e,n,r,i){const o=Vt(),s=Ro(o,e,n,r);return s!==si&&ki(qt(),de(),o,t,s,o[11],i,!1),ts}const es=[];function ns(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?li(o):fi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];rs(t[a],e)&&(u=!0,t[a+1]=r?pi(n):hi(n)),a=r?li(n):fi(n)}u&&(t[n+1]=r?hi(o):pi(o))}function rs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&hn(t,e)>=0}function is(t,e,n){return ss(t,e,n,!1),is}function os(t,e){return ss(t,e,null,!0),os}function ss(t,e,n,r){const i=Vt(),o=qt(),s=function(t){const e=Ft.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[he()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=te(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=us(n=as(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=as(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==fi(r))return t[li(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=as(null,t,e,n[1],r),n=us(n,e.attrs,r),function(t,e,n,r){t[li(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=us(r,t[o].hostAttrs,n);return us(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=li(s),u=fi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||hn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=li(t[a+1]);t[r+1]=ci(e,a),0!==e&&(t[e+1]=di(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ci(a,0),0!==a&&(t[a+1]=di(t[a+1],r)),a=r;else t[r+1]=ci(u,0),0===a?a=r:t[u+1]=di(t[u+1],r),u=r;l&&(t[r+1]=hi(t[r+1])),ns(t,c,r,!0),ns(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&hn(o,e)>=0&&(n[r+1]=pi(n[r+1]))}(e,c,t,r,o),s=ci(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==si&&No(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];ls(1==(1&c)?cs(u,e,n,i,fi(c),s):void 0)||(ls(o)||function(t){return 2==(2&t)}(c)&&(o=cs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Tt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:_r.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=_r.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,At(he(),n),i,o))}(o,o.data[he()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Pn(t)))),t}(e,n),r,s)}function as(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=us(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function us(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),cn(t,s,!!n||e[++o]))}return void 0===t?null:t}function cs(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===si&&(l=c?es:void 0);let h=c?ln(l,r):u===r?l:void 0;if(o&&!ls(h)&&(h=ln(e,r)),ls(h)&&(a=h,s))return a;const f=t[i+1];i=s?li(f):fi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=ln(t,r))}return a}function ls(t){return void 0!==t}function hs(t,e=""){const n=Vt(),r=qt(),i=t+it,o=r.firstCreatePass?yi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Tt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Vr(r,n,s,o),Kt(o,!1)}function fs(t){return ds("",t,""),fs}function ds(t,e,n){const r=Vt(),i=Ro(r,t,e,n);return i!==si&&function(t,e,n){const r=At(e,t);!function(t,e,n){Tt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,he(),i),ds}function ps(t,e,n){const r=Vt();return No(r,Yt(),e)&&ki(qt(),de(),r,t,e,r[11],n,!0),ps}function ms(t,e,n){const r=Vt();if(No(r,Yt(),e)){const i=qt(),o=de();ki(i,o,r,t,e,Xi(te(i.data),o,r),n,!0)}return ms}const gs=void 0;var ys=["en",[["a","p"],["AM","PM"],gs],[["AM","PM"],gs,gs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gs,"{1} 'at' {0}",gs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let vs={};function bs(t,e,n){"string"!=typeof e&&(n=e,e=t[Is.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),vs[e]=t,n&&(vs[e][Is.ExtraData]=n)}function ws(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ss(e);if(n)return n;const r=e.split("-")[0];if(n=Ss(r),n)return n;if("en"===r)return ys;throw new Error(`Missing locale data for the locale "${t}".`)}function _s(t){return ws(t)[Is.CurrencyCode]||null}function Es(t){return ws(t)[Is.PluralCase]}function Ss(t){return t in vs||(vs[t]=L.ng&&L.ng.common&&L.ng.common.locales&&L.ng.common.locales[t]),vs[t]}var Is=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Ts="en-US";let Os=Ts;function Cs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Os=t.toLowerCase().replace(/_/g,"-"))}function As(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)As(t[o],e,n,r,i);else{const o=qt(),s=Vt();let a=yo(t)?t:p(t.provide),u=po(t);const c=zt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(yo(t)||!t.multi){const r=new _e(u,i,Po),d=Ns(a,e,i?l:l+f,h);-1===d?(Me(Re(c,s),o,a),ks(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Ns(a,e,l+f,h),p=Ns(a,e,l,l+f),m=d>=0&&n[d],g=p>=0&&n[p];if(i&&!g||!i&&!m){Me(Re(c,s),o,a);const l=function(t,e,n,r,i){const o=new _e(t,n,Po);return o.multi=[],o.index=e,o.componentProviders=0,xs(o,i,r&&!n),o}(i?Rs:js,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),ks(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else ks(o,t,d>-1?d:p,xs(n[i?p:d],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function ks(t,e,n,r){const i=yo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function xs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ns(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function js(t,e,n,r){return Ds(this.multi,[])}function Rs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ke(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Ds(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ds(i,o);return o}function Ds(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ps(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=qt();if(r.firstCreatePass){const i=ht(t);As(n,r.data,r.blueprint,i,!0),As(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Ls{}class Ms{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Fs=(()=>{class t{}return t.NULL=new Ms,t})();function Us(...t){}function Vs(t,e){return new Hs(kt(t,e))}const qs=function(){return Vs(zt(),Vt())};let Hs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=qs,t})();class zs{}let Bs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ks(),t})();const Ks=function(){const t=Vt(),e=Nt(zt().index,t);return function(t){return t[11]}(st(e)?e:t)};let Gs=(()=>{class t{}return t.\u0275prov=g({token:t,providedIn:"root",factory:()=>null}),t})();class Ws{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const $s=new Ws("11.0.9");class Js{constructor(){}supports(t){return ko(t)}create(t){return new Ys(t)}}const Qs=(t,e)=>e;class Ys{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Qs}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ea(n,r,i)?e:n,s=ea(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ko(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Co()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Xs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ta),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ta),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Xs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ta{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Zs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ea(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class na{constructor(){}supports(t){return t instanceof Map||xo(t)}create(){return new ra}}class ra{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||xo(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ia(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ia{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let oa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new mn,new dn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=g({token:t,providedIn:"root",factory:()=>new t([new Js])}),t})(),sa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new mn,new dn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=g({token:t,providedIn:"root",factory:()=>new t([new na])}),t})();function aa(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Ct(o)),at(o))for(let t=ot;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&aa(e[1],e,n,r)}const s=n.type;if(8&s)aa(t,e,n.child,r);else if(32&s){const t=Er(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Sr(t);aa(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class ua{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return aa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(at(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(xr(t,n),an(e,n))}this._attachedToViewContainer=!1}Nr(this._lView[1],this._lView)}onDestroy(t){Ci(this._lView[1],this._lView,null,t)}markForCheck(){Ki(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Gi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Jt(!0);try{Gi(t,e,n)}finally{Jt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Br(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ca extends ua{constructor(t){super(t),this._view=t}detectChanges(){Wi(this._view)}checkNoChanges(){!function(t){Jt(!0);try{Wi(t)}finally{Jt(!1)}}(this._view)}get context(){return null}}const la=fa;let ha=(()=>{class t{}return t.__NG_ELEMENT_ID__=la,t.__ChangeDetectorRef__=!0,t})();function fa(t=!1){return function(t,e,n){if(!n&&ct(t)){const n=Nt(t.index,e);return new ua(n,n)}return 47&t.type?new ua(e[16],e):null}(zt(),Vt(),t)}const da=[new na],pa=new oa([new Js]),ma=new sa(da),ga=function(){return wa(zt(),Vt())};let ya=(()=>{class t{}return t.__NG_ELEMENT_ID__=ga,t})();const va=ya,ba=class extends va{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=gi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),bi(e,n,t),new ua(n)}};function wa(t,e){return 4&t.type?new ba(e,t,Vs(t,e)):null}class _a{}class Ea{}const Sa=function(){return ka(zt(),Vt())};let Ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=Sa,t})();const Ta=Ia,Oa=class extends Ta{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Vs(this._hostTNode,this._hostLView)}get injector(){return new $e(this._hostTNode,this._hostLView)}get parentInjector(){const t=Le(this._hostTNode,this._hostLView);if(Ce(t)){const e=ke(t,this._hostLView),n=Ae(t);return new $e(e[1].data[n+8],e)}return new $e(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ca(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ot}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(_a,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(at(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Oa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ot+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ot?(e[4]=n[i],sn(n,ot+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Hr(i,o),a=n[11],u=Mr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Br(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),sn(Aa(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ca(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=xr(this._lContainer,e);n&&(an(Aa(this._lContainer),e),Nr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=xr(this._lContainer,e);return n&&null!=an(Aa(this._lContainer),e)?new ua(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ca(t){return t[8]}function Aa(t){return t[8]||(t[8]=[])}function ka(t,e){let n;const r=e[t.index];if(at(r))n=r;else{let i;if(8&t.type)i=Ct(r);else{const n=e[11];i=n.createComment("");const r=kt(t,e);Dr(n,Mr(n,r),i,function(t,e){return Tt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Vi(r,e,i,t),Bi(e,n)}return new Oa(n,t,e)}const xa={};class Na extends Fs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=nt(t);return new Da(e,this.ngModule)}}function ja(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ra=new tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>br});class Da extends Ls{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(oi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ja(this.componentDef.inputs)}get outputs(){return ja(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,xa,i);return o!==xa||r===xa?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(zs,Ot),s=i.get(Gs,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Tt(t))return t.selectRootElement(e,n===N.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ar(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:br,clean:Ji,playerHandler:null,flags:0},f=Oi(0,null,null,1,0,null,null,null,null,null),d=gi(null,f,h,l,null,null,o,a,s,i);let p,m;oe(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=yi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(eo(a,u,!0),null!==t&&(Ee(i,t,u),null!==a.classes&&Wr(i,t,a.classes),null!==a.styles&&Gr(i,t,a.styles)));const c=r.createRenderer(t,e),l=gi(n,Ti(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Me(Re(a,n),s,e.type),Ri(s,a),Pi(a,n.length,1)),Bi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Ee(a,c,["ng-version",$s.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ti(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ee(a,c,t),e&&e.length>0&&Wr(a,c,e.join(" "))}if(m=xt(f,it),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Li(t,r,e,vi(t,e,1,null),n));const i=Ke(e,t,r.directiveStart,r);vr(i,e);const o=kt(r,e);return o&&vr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=zt();e.contentQueries(1,s,t.directiveStart)}const a=zt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(fe(a.index),Ni(n[1],a,0,a.directiveStart,a.directiveEnd,e),ji(e,s)),s}(t,this.componentDef,d,h,[wo]),bi(f,d,null)}finally{le()}return new Pa(this.componentType,p,Vs(m,d),d,m)}}class Pa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ca(r),this.componentType=t}get injector(){return new $e(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const La=new Map;class Ma extends _a{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Na(this);const n=rt(t),r=t[z]||null;r&&Cs(r),this._bootstrapComponents=wr(n.bootstrap),this._r3Injector=lo(t,e,[{provide:_a,useValue:this},{provide:Fs,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=bo.THROW_IF_NOT_FOUND,n=T.Default){return t===bo||t===_a||t===no?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Fa extends Ea{constructor(t){super(),this.moduleType=t,null!==rt(t)&&function(t){const e=new Set;!function t(n){const r=rt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,La.get(i),n),La.set(i,n));const o=wr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ma(this.moduleType,t)}}function Ua(t,e,n,r){return Va(Vt(),Qt(),t,e,n,r)}function Va(t,e,n,r,i,o){const s=e+n;return No(t,s,i)?function(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===si?void 0:n}(t,s+1)}function qa(t,e){const n=qt();let r;const i=t+it;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new dt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=ft(r.type)),s=C(Po);try{const t=Ne(!1),e=o();return Ne(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Vt(),i,e),e}finally{C(s)}}function Ha(t,e,n){const r=t+it,i=Vt(),o=function(t,e){return t[e]}(i,r);return function(t,e){return Ao.isWrapped(e)&&(e=Ao.unwrap(e),t[Ft.lFrame.bindingIndex]=si),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?Va(i,Qt(),e,o.transform,n,o):o.transform(n))}const za=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Ba(){return this._results[Co()]()}class Ka{constructor(){this.dirty=!0,this._results=[],this.changes=new za,this.length=0;const t=Co(),e=Ka.prototype;e[t]||(e[t]=Ba)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=rn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ga{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ga(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Wa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==cu(t,e).matches&&this.queries[e].setDirty()}}class $a{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Ja{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ja(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Qa{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Qa(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ya(e,i)),this.matchTNodeWithReadOption(t,e,Be(e,t,i,!1,!1))}else n===ya?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Be(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Hs||r===Ia||r===ya&&4&e.type)this.addMatch(e.index,-2);else{const n=Be(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ya(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Xa(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Vs(t,e):4&t.type?wa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Hs?Vs(e,t):n===ya?wa(e,t):n===Ia?ka(e,t):void 0}(t,e,r):Ke(t,t[1],n,e)}function Za(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Xa(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function tu(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Za(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ot;t<s.length;t++){const e=s[t];e[17]===e[3]&&tu(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];tu(n[1],n,i,r)}}}}}return r}function eu(t){const e=Vt(),n=qt(),r=ee();ne(r+1);const i=cu(n,r);if(t.dirty&&Rt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?tu(n,e,r,[]):Za(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function nu(t,e,n){iu(qt(),Vt(),t,e,n,!0)}function ru(t,e,n){iu(qt(),Vt(),t,e,n,!1)}function iu(t,e,n,r,i,o){t.firstCreatePass&&(uu(t,new $a(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),au(t,e)}function ou(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(uu(t,new $a(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),au(t,e)}(qt(),Vt(),e,n,r,0,zt(),t)}function su(){return t=Vt(),e=ee(),t[19].queries[e].queryList;var t,e}function au(t,e){const n=new Ka;Ci(t,e,n,n.destroy),null===e[19]&&(e[19]=new Wa),e[19].queries.push(new Ga(n))}function uu(t,e,n){null===t.queries&&(t.queries=new Ja),t.queries.track(new Qa(e,n))}function cu(t,e){return t.queries.getByIndex(e)}function lu(t=T.Default){const e=fa(!0);if(null!=e||t&T.Optional)return e;gt("ChangeDetectorRef")}const hu=new tn("Application Initializer");let fu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Us,this.reject=Us,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ho(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(In(hu,8))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const du=new tn("AppId"),pu={provide:du,useFactory:function(){return`${mu()}${mu()}${mu()}`},deps:[]};function mu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gu=new tn("Platform Initializer"),yu=new tn("Platform ID"),vu=new tn("appBootstrapListener");let bu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const wu=new tn("LocaleId"),_u=new tn("DefaultCurrencyCode");class Eu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Su=function(t){return new Fa(t)},Iu=Su,Tu=function(t){return Promise.resolve(Su(t))},Ou=function(t){const e=Su(t),n=wr(rt(t).declarations).reduce((t,e)=>{const n=nt(e);return n&&t.push(new Da(n)),t},[]);return new Eu(e,n)},Cu=Ou,Au=function(t){return Promise.resolve(Ou(t))};let ku=(()=>{class t{constructor(){this.compileModuleSync=Iu,this.compileModuleAsync=Tu,this.compileModuleAndAllComponentsSync=Cu,this.compileModuleAndAllComponentsAsync=Au}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const xu=(()=>Promise.resolve(0))();function Nu(t){"undefined"==typeof Zone?xu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ju{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new za(!1),this.onMicrotaskEmpty=new za(!1),this.onStable=new za(!1),this.onError=new za(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=L.requestAnimationFrame,e=L.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(L,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Pu(t),Du(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Pu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return Lu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Mu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Lu(t),e.invoke(r,i,o,s,a)}finally{Mu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Pu(t),Du(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ju.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ju.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ru,Us,Us);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Ru={};function Du(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Pu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Lu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mu(t){t._nesting--,Du(t)}class Fu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new za,this.onMicrotaskEmpty=new za,this.onStable=new za,this.onError=new za}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Uu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ju.assertNotInAngularZone(),Nu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Nu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(In(ju))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})(),Vu=(()=>{class t{constructor(){this._applications=new Map,Bu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Bu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();class qu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Hu(t){Bu=t}let zu,Bu=new qu,Ku=!0,Gu=!1;function Wu(){return Gu=!0,Ku}function $u(){if(Gu)throw new Error("Cannot enable prod mode after platform setup.");Ku=!1}const Ju=new tn("AllowMultipleToken");class Qu{constructor(t,e){this.name=t,this.token=e}}function Yu(t,e,n=[]){const r="Platform: "+e,i=new tn(r);return(e=[])=>{let o=Xu();if(!o||o.injector.get(Ju,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:io,useValue:"platform"});!function(t){if(zu&&!zu.destroyed&&!zu.injector.get(Ju,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");zu=t.get(Zu);const e=t.get(gu,null);e&&e.forEach(t=>t())}(bo.create({providers:t,name:r}))}return function(t){const e=Xu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Xu(){return zu&&!zu.destroyed?zu:null}let Zu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Fu:("zone.js"===t?void 0:t)||new ju({enableLongStackTrace:Wu(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:ju,useValue:n}];return n.run(()=>{const e=bo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(yr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{nc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Ho(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(fu);return t.runInitializers(),t.donePromise.then(()=>(Cs(i.injector.get(wu,Ts)||Ts),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=tc({},e);return function(t,e,n){const r=new Fa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ec);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(In(bo))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();function tc(t,e){return Array.isArray(e)?e.reduce(tc,t):Object.assign(Object.assign({},t),e)}let ec=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{ju.assertNotInAngularZone(),Nu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ju.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ls?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(_a),i=n.create(bo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Uu,null),a=s&&i.injector.get(Vu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),nc(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),Wu()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;nc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(vu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(In(ju),In(bu),In(bo),In(yr),In(Fs),In(fu))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();function nc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class rc{}class ic{}const oc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let sc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||oc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>ac(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>ac(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(In(ku),In(ic,8))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();function ac(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const uc=function(t){return null},cc=Yu(null,"core",[{provide:yu,useValue:"unknown"},{provide:Zu,deps:[bo]},{provide:Vu,deps:[]},{provide:bu,deps:[]}]),lc=[{provide:ec,useClass:ec,deps:[ju,bu,bo,yr,Fs,fu]},{provide:Ra,deps:[ju],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:fu,useClass:fu,deps:[[new dn,hu]]},{provide:ku,useClass:ku,deps:[]},pu,{provide:oa,useFactory:function(){return pa},deps:[]},{provide:sa,useFactory:function(){return ma},deps:[]},{provide:wu,useFactory:function(t){return Cs(t=t||"undefined"!=typeof $localize&&$localize.locale||Ts),t},deps:[[new fn(wu),new dn,new mn]]},{provide:_u,useValue:"USD"}];let hc=(()=>{class t{constructor(t){}}return t.\u0275mod=Y({type:t}),t.\u0275inj=y({factory:function(e){return new(e||t)(In(ec))},providers:lc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("z6cu");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return m});var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new g(i,a,r);return u},t}();function v(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return O}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return I}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(m.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),w=new u.P("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&S("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(u.W)()&&"undefined"!=typeof console&&console[t](...e)};function I(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:_,deps:[v,u.z,[new u.A,b]]};let O=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)(u.Rb(u.B))},providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),o=n("Y7HM");class s extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(o.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new s(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(s.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new s(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),s=n("quSY");function a(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends o.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function d(){return new r.a}function p(){return t=>{return a()((e=d,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),m=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),m=d.next();!m.done;m=d.next())e[m.value]._addComponent(a)}catch(g){u={error:g}}finally{try{m&&!m.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyAMo8Ii4cmhG1TFR56tEfqtgcy0pPtyVzA",authDomain:"moda-b1198.firebaseapp.com",projectId:"moda-b1198",storageBucket:"moda-b1198.appspot.com",messagingSenderId:"375159727388",appId:"1:375159727388:web:7d8d7e2e8afef7b0fd86d9",measurementId:"G-8QRMB5J8S7"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Rb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a))},t.\u0275prov=Object(r.Gb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Rb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Rb)(a).location;return new w(Object(r.Rb)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let w=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(u),r.Rb(b,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(u),r.Rb(b,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(I(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,I(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(y),r.Rb(u))},t.normalizeQueryParams=g,t.joinWithSlash=p,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Gb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new E(Object(r.Rb)(y),Object(r.Rb)(u))}function I(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const O=r.nb;class C{}let A=(()=>{class t extends C{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(O(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),k=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.qb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.vb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.s),r.Kb(r.t),r.Kb(r.l),r.Kb(r.E))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})(),x=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new N,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){j("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){j("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.Q),r.Kb(r.L))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class N{constructor(){this.$implicit=null,this.ngIf=null}}function j(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}class R{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class D{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const P=new D,L=new R;let M=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.sb)(e))return P;if(Object(r.rb)(e))return L;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.vb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Tb())},t.\u0275pipe=r.Jb({name:"async",type:t,pure:!1}),t})(),F=(()=>{class t{transform(t){return JSON.stringify(t,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Jb({name:"json",type:t,pure:!1}),t})(),U=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:C,useClass:A}]}),t})();function V(t){return"server"===t}let q=(()=>{class t{}return t.\u0275prov=Object(r.Gb)({token:t,providedIn:"root",factory:()=>new H(Object(r.Rb)(a),window)}),t})();class H{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=z(this.window.history)||z(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function z(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class B extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new B,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=G||(G=document.querySelector("base"),G)?G.getAttribute("href"):null;return null==e?null:(n=e,K||(K=document.createElement("a")),K.setAttribute("href",n),"/"===K.pathname.charAt(0)?K.pathname:"/"+K.pathname);var n}resetBaseElement(){G=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let K,G=null;const W=new r.q("TRANSITION_ID"),$=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[W,a,r.r],multi:!0}];class J{static init(){Object(r.Y)(new J)}addToWindow(t){r.pb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.pb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.pb.getAllAngularRootElements=()=>t.getAllRootElements(),r.pb.frameworkStabilizers||(r.pb.frameworkStabilizers=[]),r.pb.frameworkStabilizers.push(t=>{const e=r.pb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Q=new r.q("EventManagerPlugins");let Y=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Q),r.Rb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class X{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Z=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),tt=(()=>{class t extends Z{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nt=/%COMP%/g;function rt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?rt(t,i,n):(i=i.replace(nt,t),n.push(i))}return n}function it(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ot=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new st(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new at(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new ut(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=rt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Y),r.Rb(tt),r.Rb(r.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class st{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(et[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=et[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=et[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,it(n)):this.eventManager.addEventListener(t,e,it(n))}}class at extends st{constructor(t,e,n,r){super(t),this.component=n;const i=rt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(nt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(nt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ut extends st{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=rt(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ct=(()=>{class t extends X{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const lt=["alt","control","meta","shift"],ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ft={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},dt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let pt=(()=>{class t extends X{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(lt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ft.hasOwnProperty(e)&&(e=ft[e]))}return ht[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),lt.forEach(r=>{r!=n&&(0,dt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),mt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return Object(r.Rb)(gt)},token:t,providedIn:"root"}),t})(),gt=(()=>{class t extends mt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.I.NONE:return e;case r.I.HTML:return Object(r.eb)(e,"HTML")?Object(r.wb)(e):Object(r.cb)(this._doc,String(e));case r.I.STYLE:return Object(r.eb)(e,"Style")?Object(r.wb)(e):e;case r.I.SCRIPT:if(Object(r.eb)(e,"Script"))return Object(r.wb)(e);throw new Error("unsafe value used in a script context");case r.I.URL:return Object(r.ob)(e),Object(r.eb)(e,"URL")?Object(r.wb)(e):Object(r.db)(String(e));case r.I.RESOURCE_URL:if(Object(r.eb)(e,"ResourceURL"))return Object(r.wb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.fb)(t)}bypassSecurityTrustStyle(t){return Object(r.ib)(t)}bypassSecurityTrustScript(t){return Object(r.hb)(t)}bypassSecurityTrustUrl(t){return Object(r.jb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.gb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a))},t.\u0275prov=Object(r.Gb)({factory:function(){return t=Object(r.Rb)(r.o),new gt(t.get(a));var t},token:t,providedIn:"root"}),t})();const yt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){B.makeCurrent(),J.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],vt=Object(r.S)(r.X,"browser",yt),bt=[[],{provide:r.ab,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Q,useClass:ct,multi:!0,deps:[a,r.z,r.B]},{provide:Q,useClass:pt,multi:!0,deps:[a]},[],{provide:ot,useClass:ot,deps:[Y,tt,r.c]},{provide:r.F,useExisting:ot},{provide:Z,useExisting:tt},{provide:tt,useClass:tt,deps:[a]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:Y,useClass:Y,deps:[Q,r.z]},[]];let wt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:W,useExisting:r.c},$]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Rb(t,12))},providers:bt,imports:[U,r.f]}),t})();"undefined"!=typeof window&&window;var _t=n("Cfvw"),Et=n("LRne"),St=n("XNiG"),It=n("9ppp");class Tt extends St.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new It.a;return this._value}next(t){super.next(this._value=t)}}var Ot=n("z+Ro"),Ct=n("DH7j"),At=n("7o/Q");class kt extends At.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class xt extends At.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Nt=n("SeVD"),jt=n("HDdC");function Rt(t,e,n,r,i=new xt(t,n,r)){if(!i.closed)return e instanceof jt.a?e.subscribe(i):Object(Nt.a)(e)(i)}var Dt=n("yCtX");const Pt={};class Lt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Mt(t,this.resultSelector))}}class Mt extends kt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Pt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Rt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Pt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Ft=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Ut=n("bHdf");function Vt(...t){return Object(Ut.a)(1)(Object(Et.a)(...t))}var qt=n("EY2u");function Ht(t){return new jt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(_t.a)(n):Object(qt.b)()).subscribe(e)})}var zt=n("lJxs"),Bt=n("zx2A");function Kt(t,e){return"function"==typeof e?n=>n.pipe(Kt((n,r)=>Object(_t.a)(t(n,r)).pipe(Object(zt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Gt(t))}class Gt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Wt(t,this.project))}}class Wt extends Bt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Bt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Bt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const $t=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Jt(t){return e=>0===t?Object(qt.b)():e.lift(new Qt(t))}class Qt{constructor(t){if(this.total=t,this.total<0)throw new $t}call(t,e){return e.subscribe(new Yt(t,this.total))}}class Yt extends At.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Xt(...t){const e=t[t.length-1];return Object(Ot.a)(e)?(t.pop(),n=>Vt(t,n,e)):e=>Vt(t,e)}function Zt(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new te(t,e,n))}}class te{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ee(t,this.accumulator,this.seed,this.hasSeed))}}class ee extends At.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ne(t,e){return function(n){return n.lift(new re(t,e))}}class re{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ie(t,this.predicate,this.thisArg))}}class ie extends At.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function oe(t){return function(e){const n=new se(t),r=e.lift(n);return n.caught=r}}class se{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ae(t,this.selector,this.caught))}}class ae extends Bt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Bt.a(this);this.add(r);const i=Object(Bt.c)(n,r);i!==r&&this.add(i)}}}var ue=n("5+tZ");function ce(t,e){return Object(ue.a)(t,e,1)}function le(t){return function(e){return 0===t?Object(qt.b)():e.lift(new he(t))}}class he{constructor(t){if(this.total=t,this.total<0)throw new $t}call(t,e){return e.subscribe(new fe(t,this.total))}}class fe extends At.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function de(t=ge){return e=>e.lift(new pe(t))}class pe{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new me(t,this.errorFactory))}}class me extends At.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(lI){t=lI}this.destination.error(t)}}}function ge(){return new Ft}function ye(t=null){return e=>e.lift(new ve(t))}class ve{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new be(t,this.defaultValue))}}class be extends At.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var we=n("SpAZ");function _e(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ne((e,n)=>t(e,n,r)):we.a,Jt(1),n?ye(e):de(()=>new Ft))}var Ee=n("vkgz"),Se=n("quSY");function Ie(t){return e=>e.lift(new Te(t))}class Te{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Oe(t,this.callback))}}class Oe extends At.a{constructor(t,e){super(t),this.add(new Se.a(e))}}class Ce{constructor(t,e){this.id=t,this.url=e}}class Ae extends Ce{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ke extends Ce{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xe extends Ce{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ne extends Ce{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class je extends Ce{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re extends Ce{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class De extends Ce{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pe extends Ce{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Le extends Ce{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fe{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ue{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ve{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class He{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Be="primary";class Ke{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ge(t){return new Ke(t)}function We(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function $e(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Je(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Qe(t[i],e[i]))return!1;return!0}function Qe(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Ye(t){return Array.prototype.concat.apply([],t)}function Xe(t){return t.length>0?t[t.length-1]:null}function Ze(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function tn(t){return Object(r.rb)(t)?t:Object(r.sb)(t)?Object(_t.a)(Promise.resolve(t)):Object(Et.a)(t)}function en(t,e,n){return n?function(t,e){return Je(t,e)}(t.queryParams,e.queryParams)&&nn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Qe(t[n],e[n]))}(t.queryParams,e.queryParams)&&rn(t.root,e.root)}function nn(t,e){if(!cn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!nn(t.children[n],e.children[n]))return!1}return!0}function rn(t,e){return on(t,e,e.segments)}function on(t,e,n){if(t.segments.length>n.length)return!!cn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!cn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!rn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!cn(t.segments,r)&&!!t.children.primary&&on(t.children.primary,e,i)}}class sn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return fn.serialize(this)}}class an{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ze(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dn(this)}}class un{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ge(this.parameters)),this._parameterMap}toString(){return wn(this)}}function cn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class ln{}class hn{parse(t){const e=new Tn(t);return new sn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+pn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${gn(e)}=${gn(t)}`).join("&"):`${gn(e)}=${gn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const fn=new hn;function dn(t){return t.segments.map(t=>wn(t)).join("/")}function pn(t,e){if(!t.hasChildren())return dn(t);if(e){const e=t.children.primary?pn(t.children.primary,!1):"",n=[];return Ze(t.children,(t,e)=>{e!==Be&&n.push(`${e}:${pn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Ze(t.children,(t,r)=>{r===Be&&(n=n.concat(e(t,r)))}),Ze(t.children,(t,r)=>{r!==Be&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Be?[pn(t.children.primary,!1)]:[`${n}:${pn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${dn(t)}/${e[0]}`:`${dn(t)}/(${e.join("//")})`}}function mn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gn(t){return mn(t).replace(/%3B/gi,";")}function yn(t){return mn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vn(t){return decodeURIComponent(t)}function bn(t){return vn(t.replace(/\+/g,"%20"))}function wn(t){return`${yn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${yn(t)}=${yn(e[t])}`).join("")}`;var e}const _n=/^[^\/()?;=#]+/;function En(t){const e=t.match(_n);return e?e[0]:""}const Sn=/^[^=?&#]+/,In=/^[^?&#]+/;class Tn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new an(t,e)),n}parseSegment(){const t=En(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new un(vn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=En(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=En(this.remaining);t&&(n=t,this.capture(n))}t[vn(e)]=vn(n)}parseQueryParam(t){const e=function(t){const e=t.match(Sn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(In);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=bn(e),i=bn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=En(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Be);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new an([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class On{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Cn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Cn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=An(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return An(t,this._root).map(t=>t.value)}}function Cn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Cn(t,n);if(e)return e}return null}function An(t,e){if(t===e.value)return[e];for(const n of e.children){const r=An(t,n);if(r.length)return r.unshift(e),r}return[]}class kn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function xn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Nn extends On{constructor(t,e){super(t),this.snapshot=e,Mn(this,t)}toString(){return this.snapshot.toString()}}function jn(t,e){const n=function(t,e){const n=new Pn([],{},{},"",{},Be,e,null,t.root,-1,{});return new Ln("",new kn(n,[]))}(t,e),r=new Tt([new un("",{})]),i=new Tt({}),o=new Tt({}),s=new Tt({}),a=new Tt(""),u=new Rn(r,i,s,a,o,Be,e,n.root);return u.snapshot=n.root,new Nn(new kn(u,[]),n)}class Rn{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(zt.a)(t=>Ge(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(zt.a)(t=>Ge(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Dn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Pn{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ge(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ln extends On{constructor(t,e){super(e),this.url=t,Mn(this,e)}toString(){return Fn(this._root)}}function Mn(t,e){e.value._routerState=t,e.children.forEach(e=>Mn(t,e))}function Fn(t){const e=t.children.length>0?` { ${t.children.map(Fn).join(", ")} } `:"";return`${t.value}${e}`}function Un(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Je(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Je(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Je(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Je(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Vn(t,e){return Je(t.params,e.params)&&function(t,e){return cn(t,e)&&t.every((t,n)=>Je(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Vn(t.parent,e.parent))}function qn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return qn(t,e,r);return qn(t,e)})}(t,e,n);return new kn(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Hn(e,t),t}{const n=new Rn(new Tt((r=e.value).url),new Tt(r.params),new Tt(r.queryParams),new Tt(r.fragment),new Tt(r.data),r.outlet,r.component,r),i=e.children.map(e=>qn(t,e));return new kn(n,i)}}var r}function Hn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Hn(t.children[n],e.children[n])}function zn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Bn(t){return"object"==typeof t&&null!=t&&t.outlets}function Kn(t,e,n,r,i){let o={};return r&&Ze(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new sn(n.root===t?e:Gn(n.root,t,e),o,i)}function Gn(t,e,n){const r={};return Ze(t.children,(t,i)=>{r[i]=t===e?n:Gn(t,e,n)}),new an(t.segments,r)}class Wn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&zn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Bn);if(r&&r!==Xe(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $n{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Jn(t,e,n){if(t||(t=new an([],{})),0===t.segments.length&&t.hasChildren())return Qn(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Bn(s))break;const a=""+s,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!tr(a,u,e))return o;r+=2}else{if(!tr(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new an(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new an(t.segments.slice(r.pathIndex),t.children),Qn(e,0,i)}return r.match&&0===i.length?new an(t.segments,{}):r.match&&!t.hasChildren()?Yn(t,e,n):r.match?Qn(t,0,i):Yn(t,e,n)}function Qn(t,e,n){if(0===n.length)return new an(t.segments,{});{const r=function(t){return Bn(t[0])?t[0].outlets:{[Be]:t}}(n),i={};return Ze(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Jn(t.children[r],e,n))}),Ze(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new an(t.segments,i)}}function Yn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Bn(o)){const t=Xn(o.outlets);return new an(r,t)}if(0===i&&zn(n[0])){r.push(new un(t.segments[e].path,n[0])),i++;continue}const s=Bn(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&zn(a)?(r.push(new un(s,Zn(a))),i+=2):(r.push(new un(s,{})),i++)}return new an(r,{})}function Xn(t){const e={};return Ze(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Yn(new an([],{}),0,t))}),e}function Zn(t){const e={};return Ze(t,(t,n)=>e[n]=""+t),e}function tr(t,e,n){return t==n.path&&Je(e,n.parameters)}class er{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Un(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=xn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ze(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=xn(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=xn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new He(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ve(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Un(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),nr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function nr(t){Un(t.value),t.children.forEach(nr)}class rr{constructor(t,e){this.routes=t,this.module=e}}function ir(t){return"function"==typeof t}function or(t){return t instanceof sn}const sr=Symbol("INITIAL_VALUE");function ar(){return Kt(t=>function(...t){let e=void 0,n=void 0;return Object(Ot.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Ct.a)(t[0])&&(t=t[0]),Object(Dt.a)(t,n).lift(new Lt(e))}(t.map(t=>t.pipe(Jt(1),Xt(sr)))).pipe(Zt((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==sr)return t;if(r===sr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||or(r))return r}return t},t)},sr),ne(t=>t!==sr),Object(zt.a)(t=>or(t)?t:!0===t),Jt(1)))}let ur=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:function(){return[ei]},encapsulation:2}),t})();function cr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];lr(r,hr(e,r))}}function lr(t,e){t.children&&cr(t.children,e)}function hr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function fr(t){const e=t.children&&t.children.map(fr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Be&&(n.component=ur),n}function dr(t){return t.outlet||Be}function pr(t,e){const n=t.filter(t=>dr(t)===e);return n.push(...t.filter(t=>dr(t)!==e)),n}const mr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function gr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},mr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||$e)(n,t,e);if(!i)return Object.assign({},mr);const o={};Ze(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function yr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>vr(t,e,n)&&dr(n)!==Be)}(t,n,r)){const i=new an(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&dr(o)!==Be){const n=new an([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[dr(o)]=n}return i}(t,e,r,new an(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>vr(t,e,n))}(t,n,r)){const o=new an(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(vr(t,n,a)&&!i[dr(a)]){const n=new an([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[dr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new an(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function vr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function br(t,e,n,r){return!!(dr(t)===r||r!==Be&&vr(e,n,t))&&("**"===t.path||gr(e,t,n).matched)}function wr(t,e,n){return 0===e.length&&!t.children[n]}class _r{constructor(t){this.segmentGroup=t||null}}class Er{constructor(t){this.urlTree=t}}function Sr(t){return new jt.a(e=>e.error(new _r(t)))}function Ir(t){return new jt.a(e=>e.error(new Er(t)))}function Tr(t){return new jt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Or{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){const t=yr(this.urlTree.root,[],[],this.config).segmentGroup,e=new an(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Be).pipe(Object(zt.a)(t=>this.createUrlTree(Cr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(oe(t=>{if(t instanceof Er)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof _r)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Be).pipe(Object(zt.a)(e=>this.createUrlTree(Cr(e),t.queryParams,t.fragment))).pipe(oe(t=>{if(t instanceof _r)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new an([],{[Be]:t}):t;return new sn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(zt.a)(t=>new an([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(_t.a)(r).pipe(ce(r=>{const i=n.children[r],o=pr(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(zt.a)(t=>({segment:t,outlet:r})))}),Zt((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ne((e,n)=>t(e,n,r)):we.a,le(1),n?ye(e):de(()=>new Ft))}())}expandSegment(t,e,n,r,i,o){return Object(_t.a)(n).pipe(ce(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(oe(t=>{if(t instanceof _r)return Object(Et.a)(null);throw t}))),_e(t=>!!t),oe((t,n)=>{if(t instanceof Ft||"EmptyError"===t.name){if(wr(e,r,i))return Object(Et.a)(new an([],{}));throw new _r(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return br(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Sr(e):Sr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ir(i):this.lineralizeSegments(n,i).pipe(Object(ue.a)(n=>{const i=new an(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=gr(e,r,i);if(!s)return Sr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Ir(l):this.lineralizeSegments(r,l).pipe(Object(ue.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(zt.a)(t=>(n._loadedConfig=t,new an(r,{})))):Object(Et.a)(new an(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=gr(e,n,r);if(!o)return Sr(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(ue.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=yr(e,s,u,o),l=new an(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(zt.a)(t=>new an(s,t)));if(0===o.length&&0===c.length)return Object(Et.a)(new an(s,{}));const h=dr(n)===i;return this.expandSegment(r,l,o,c,h?Be:i,!0).pipe(Object(zt.a)(t=>new an(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Et.a)(new rr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Et.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ue.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(zt.a)(t=>(e._loadedConfig=t,t))):function(t){return new jt.a(e=>e.error(We(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Et.a)(new rr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Et.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&ir(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!ir(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return tn(o)});return Object(Et.a)(i).pipe(ar(),Object(Ee.a)(t=>{if(!or(t))return;const e=We(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(zt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Et.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Tr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new sn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ze(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Ze(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new an(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Cr(t){const e={};for(const n of Object.keys(t.children)){const r=Cr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new an(t.segments.concat(e.segments),e.children)}return t}(new an(t.segments,e))}class Ar{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class kr{constructor(t,e){this.component=t,this.route=e}}function xr(t,e,n){const r=t._root;return jr(r,e?e._root:null,n,[r.value])}function Nr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function jr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=xn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!cn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!cn(t.url,e.url)||!Je(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vn(t,e)||!Je(t.queryParams,e.queryParams);case"paramsChange":default:return!Vn(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ar(r)):(o.data=s.data,o._resolvedData=s._resolvedData),jr(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new kr(a.outlet.component,s))}else s&&Rr(e,a,i),i.canActivateChecks.push(new Ar(r)),jr(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Ze(o,(t,e)=>Rr(t,n.getContext(e),i)),i}function Rr(t,e,n){const r=xn(t),i=t.value;Ze(r,(t,r)=>{Rr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new kr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Dr{}function Pr(t){return new jt.a(e=>e.error(t))}class Lr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=yr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Be);if(null===e)return null;const n=new Pn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Be,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new kn(n,e),i=new Ln(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Dn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=pr(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!Mr(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===Be?-1:e.value.outlet===Be?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return wr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!br(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Xe(n).parameters:{};i=new Pn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vr(t),dr(t),t.component,t,Fr(e),Ur(e)+n.length,qr(t))}else{const r=gr(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Pn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vr(t),dr(t),t.component,t,Fr(e),Ur(e)+o.length,qr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=yr(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new kn(i,t)]}if(0===a.length&&0===c.length)return[new kn(i,[])];const l=dr(t)===r,h=this.processSegment(a,u,c,l?Be:r);return null===h?null:[new kn(i,h)]}}function Mr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Fr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ur(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Vr(t){return t.data||{}}function qr(t){return t.resolve||{}}function Hr(t){return Kt(e=>{const n=t(e);return n?Object(_t.a)(n).pipe(Object(zt.a)(()=>e)):Object(Et.a)(e)})}class zr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Br=new r.q("ROUTES");class Kr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(zt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new rr(Ye(r.injector.get(Br)).map(fr),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(_t.a)(this.loader.load(t)):tn(t()).pipe(Object(ue.a)(t=>t instanceof r.v?Object(Et.a)(t):Object(_t.a)(this.compiler.compileModuleAsync(t))))}}class Gr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wr,this.attachRef=null}}class Wr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Gr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class $r{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Jr(t){throw t}function Qr(t,e,n){return e.parse("/")}function Yr(t,e){return Object(Et.a)(null)}let Xr=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new St.a,this.errorHandler=Jr,this.malformedUriErrorHandler=Qr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yr,afterPreactivation:Yr},this.urlHandlingStrategy=new $r,this.routeReuseStrategy=new zr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.Z);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z&&r.z.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new sn(new an([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Kr(s,a,t=>this.triggerEvent(new Me(t)),t=>this.triggerEvent(new Fe(t))),this.routerState=jn(this.currentUrlTree,this.rootComponentType),this.transitions=new Tt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ne(t=>0!==t.id),Object(zt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Kt(t=>{let n=!1,r=!1;return Object(Et.a)(t).pipe(Object(Ee.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Kt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Et.a)(t).pipe(Kt(t=>{const n=this.transitions.getValue();return e.next(new Ae(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?qt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Kt(t=>function(t,e,n,r,i){return new Or(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(zt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Ee.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(ue.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Lr(t,e,n,r,i,o).recognize();return null===s?Pr(new Dr):Object(Et.a)(s)}catch(lI){return Pr(lI)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(zt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Ee.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new je(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Ae(n,this.serializeUrl(r),i,o);e.next(a);const u=jn(r,this.rootComponentType).snapshot;return Object(Et.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),qt.a}),Hr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Ee.a)(t=>{const e=new Re(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(zt.a)(t=>Object.assign(Object.assign({},t),{guards:xr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(ue.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Et.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(_t.a)(t).pipe(Object(ue.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Et.a)(!0);const s=o.map(o=>{const s=Nr(o,e,i);let a;if(function(t){return t&&ir(t.canDeactivate)}(s))a=tn(s.canDeactivate(t,e,n,r));else{if(!ir(s))throw new Error("Invalid CanDeactivate guard");a=tn(s(t,e,n,r))}return a.pipe(_e())});return Object(Et.a)(s).pipe(ar())}(t.component,t.route,n,e,r)),_e(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(ue.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(_t.a)(e).pipe(ce(e=>Vt(function(t,e){return null!==t&&e&&e(new Ue(t)),Object(Et.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new qe(t)),Object(Et.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ht(()=>{const i=e.guards.map(i=>{const o=Nr(i,e.node,n);let s;if(function(t){return t&&ir(t.canActivateChild)}(o))s=tn(o.canActivateChild(r,t));else{if(!ir(o))throw new Error("Invalid CanActivateChild guard");s=tn(o(r,t))}return s.pipe(_e())});return Object(Et.a)(i).pipe(ar())}));return Object(Et.a)(i).pipe(ar())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Et.a)(!0);const i=r.map(r=>Ht(()=>{const i=Nr(r,e,n);let o;if(function(t){return t&&ir(t.canActivate)}(i))o=tn(i.canActivate(e,t));else{if(!ir(i))throw new Error("Invalid CanActivate guard");o=tn(i(e,t))}return o.pipe(_e())}));return Object(Et.a)(i).pipe(ar())}(t,e.route,n))),_e(t=>!0!==t,!0))}(r,o,t,e):Object(Et.a)(n)),Object(zt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Ee.a)(t=>{if(or(t.guardsResult)){const e=We(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ne(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new xe(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Hr(t=>{if(t.guards.canActivateChecks.length)return Object(Et.a)(t).pipe(Object(Ee.a)(t=>{const e=new Pe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Kt(t=>{let n=!1;return Object(Et.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(ue.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Et.a)(t);let o=0;return Object(_t.a)(n).pipe(ce(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Et.a)({});const o={};return Object(_t.a)(i).pipe(Object(ue.a)(i=>function(t,e,n,r){const i=Nr(t,e,r);return tn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Ee.a)(t=>{o[i]=t}))),le(1),Object(ue.a)(()=>Object.keys(o).length===i.length?Object(Et.a)(o):qt.a))}(t._resolve,t,e,r).pipe(Object(zt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Dn(t,n).resolve),null)))}(t.route,e,r,i)),Object(Ee.a)(()=>o++),le(1),Object(ue.a)(e=>o===n.length?Object(Et.a)(t):qt.a))})),Object(Ee.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new xe(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Ee.a)(t=>{const e=new Le(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Hr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(zt.a)(t=>{const e=function(t,e,n){const r=qn(t,e._root,n?n._root:void 0);return new Nn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Ee.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),Object(zt.a)(t=>(new er(o,t.targetRouterState,t.currentRouterState,s).activate(i),t))),Object(Ee.a)({next(){n=!0},complete(){n=!0}}),Ie(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new xe(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),oe(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=or(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new xe(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ne(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(jm){t.reject(jm)}}var i;return qt.a}));var i,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){cr(t),this.config=t.map(fr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Kn(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Wn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ze(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Wn(n,e,r)}(n);if(o.toRoot())return Kn(e.root,new an([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new $n(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new $n(t,t===e.root,0)}const r=zn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new $n(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Qn(s.segmentGroup,s.index,o.commands):Jn(s.segmentGroup,s.index,o.commands);return Kn(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=or(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(lI){e=this.malformedUriErrorHandler(lI,this.urlSerializer,t)}return e}isActive(t,e){if(or(t))return en(this.currentUrlTree,t,e);const n=this.parseUrl(t);return en(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new ke(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.N),r.Rb(ln),r.Rb(Wr),r.Rb(E),r.Rb(r.r),r.Rb(r.w),r.Rb(r.i),r.Rb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Zr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new St.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:ti(this.skipLocationChange),replaceUrl:ti(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ti(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Xr),r.Kb(Rn),r.Sb("tabindex"),r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Ub("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.yb]}),t})();function ti(t){return""===t||!!t}let ei=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Be,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ni(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Wr),r.Kb(r.Q),r.Kb(r.j),r.Sb("name"),r.Kb(r.h))},t.\u0275dir=r.Fb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ni{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Rn?this.route:t===Wr?this.childContexts:this.parent.get(t,e)}}class ri{}class ii{preload(t,e){return Object(Et.a)(null)}}let oi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Kr(e,n,e=>t.triggerEvent(new Me(e)),e=>t.triggerEvent(new Fe(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ne(t=>t instanceof ke),ce(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(_t.a)(n).pipe(Object(Ut.a)(),Object(zt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(ue.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Xr),r.Rb(r.w),r.Rb(r.i),r.Rb(r.r),r.Rb(ri))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),si=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ae?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ke&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ze&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ze(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Xr),r.Rb(q),r.Rb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const ai=new r.q("ROUTER_CONFIGURATION"),ui=new r.q("ROUTER_FORROOT_GUARD"),ci=[E,{provide:ln,useClass:hn},{provide:Xr,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new Xr(null,t,e,n,r,i,o,Ye(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[ln,Wr,E,r.r,r.w,r.i,Br,ai,[class{},new r.A],[class{},new r.A]]},Wr,{provide:Rn,useFactory:function(t){return t.routerState.root},deps:[Xr]},{provide:r.w,useClass:r.K},oi,ii,class{preload(t,e){return e().pipe(oe(()=>Object(Et.a)(null)))}},{provide:ai,useValue:{enableTracing:!1}}];function li(){return new r.y("Router",Xr)}let hi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ci,mi(e),{provide:ui,useFactory:pi,deps:[[Xr,new r.A,new r.J]]},{provide:ai,useValue:n||{}},{provide:y,useFactory:di,deps:[u,[new r.p(b),new r.A],ai]},{provide:si,useFactory:fi,deps:[Xr,q,ai]},{provide:ri,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ii},{provide:r.y,multi:!0,useFactory:li},[gi,{provide:r.d,multi:!0,useFactory:yi,deps:[gi]},{provide:bi,useFactory:vi,deps:[gi]},{provide:r.b,multi:!0,useExisting:bi}]]}}static forChild(e){return{ngModule:t,providers:[mi(e)]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Rb(ui,8),r.Rb(Xr,8))}}),t})();function fi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new si(t,e,n)}function di(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function pi(t){return"guarded"}function mi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Br,multi:!0,useValue:t}]}let gi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new St.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Xr),r=this.injector.get(ai);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Et.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(ai),n=this.injector.get(oi),i=this.injector.get(si),o=this.injector.get(Xr),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.r))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function yi(t){return t.appInitializer.bind(t)}function vi(t){return t.bootstrapListener.bind(t)}const bi=new r.q("Router Initializer");let wi;try{wi="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(BI){wi=!1}let _i,Ei,Si,Ii,Ti=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!wi)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.B))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(r.B))},token:t,providedIn:"root"}),t})(),Oi=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();function Ci(t){return function(){if(null==_i&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_i=!0}))}finally{_i=_i||!1}return _i}()?t:!!t.capture}function Ai(){if("object"!=typeof document||!document)return 0;if(null==Ei){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",t.appendChild(n),document.body.appendChild(t),Ei=0,0===t.scrollLeft&&(t.scrollLeft=1,Ei=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return Ei}function ki(t){return null!=t&&""+t!="false"}function xi(t){return t instanceof r.l?t.nativeElement:t}var Ni=n("n6bG");function ji(t,e,n,r){return Object(Ni.a)(n)&&(r=n,n=void 0),r?ji(t,e,n).pipe(Object(zt.a)(t=>Object(Ct.a)(t)?r(...t):r(t))):new jt.a(r=>{Ri(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function Ri(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)Ri(t[o],e,n,r,i)}r.add(o)}function Di(t,e){return n=>n.lift(new Pi(t,e))}n("3N8a"),n("IjjT"),n("7Hc7");class Pi{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Li(t,this.compare,this.keySelector))}}class Li extends At.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Mi=n("D0XW");class Fi{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Ui(t,this.durationSelector))}}class Ui extends Bt.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(Bt.c)(n,new Bt.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Vi=n("Y7HM");function qi(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Hi(t,e=Mi.a){return n=()=>function(t=0,e,n){let r=-1;return Object(Vi.a)(e)?r=Number(e)<1?1:Number(e):Object(Ot.a)(e)&&(n=e),Object(Ot.a)(n)||(n=Mi.a),new jt.a(e=>{const i=Object(Vi.a)(t)?t:+t-n.now();return n.schedule(qi,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new Fi(n))};var n}function zi(t){return e=>e.lift(new Bi(t))}class Bi{constructor(t){this.notifier=t}call(t,e){const n=new Ki(t),r=Object(Bt.c)(this.notifier,new Bt.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Ki extends Bt.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Gi(){return t=>t.lift(new Wi)}class Wi{call(t,e){return e.subscribe(new $i(t))}}class $i extends At.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Ji=n("qgXg"),Qi=n("pxpQ"),Yi=n("Ylt2");class Xi extends St.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Zi(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new It.a;if(this.isStopped||this.hasError?o=Se.a.EMPTY:(this.observers.push(t),o=new Yi.a(this,t)),r&&t.add(t=new Qi.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Ji.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Zi{constructor(t,e){this.time=t,this.value=e}}function to(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Xi(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}const eo=new r.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.V)(a)}});let no=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(eo,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(eo,8))},token:t,providedIn:"root"}),t})(),ro=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),io=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new St.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new jt.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Hi(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Et.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(ne(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ji(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.z),r.Rb(Ti),r.Rb(a,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(r.z),Object(r.Rb)(Ti),Object(r.Rb)(a,8))},token:t,providedIn:"root"}),t})(),oo=(()=>{class t{constructor(t,e,n,r){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=r,this._destroyed=new St.a,this._elementScrolled=new jt.a(t=>this.ngZone.runOutsideAngular(()=>ji(this.elementRef.nativeElement,"scroll").pipe(zi(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=Ai()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==Ai()?t.left=t.right:1==Ai()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;!function(){if(null==Si)if("object"==typeof document&&document||(Si=!1),"scrollBehavior"in document.documentElement.style)Si=!0;else{const t=Element.prototype.scrollTo;Si=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}return Si}()?(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left)):e.scrollTo(t)}measureScrollOffset(t){const e="left",n="right",r=this.elementRef.nativeElement;if("top"==t)return r.scrollTop;if("bottom"==t)return r.scrollHeight-r.clientHeight-r.scrollTop;const i=this.dir&&"rtl"==this.dir.value;return"start"==t?t=i?n:e:"end"==t&&(t=i?e:n),i&&2==Ai()?t==e?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:i&&1==Ai()?t==e?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:t==e?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(io),r.Kb(r.z),r.Kb(no,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),so=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new St.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Hi(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ti),r.Rb(r.z),r.Rb(a,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(Ti),Object(r.Rb)(r.z),Object(r.Rb)(a,8))},token:t,providedIn:"root"}),t})(),ao=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();class uo{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new co(t,this.dueTime,this.scheduler))}}class co extends At.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(lo,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function lo(t){t.debouncedNext()}let ho=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(BI){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===po(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=po(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||fo(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ti))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(Ti))},token:t,providedIn:"root"}),t})();function fo(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function po(t){if(!fo(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class mo{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Jt(1)).subscribe(t)}}let go=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new mo(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(ho),r.Rb(r.z),r.Rb(a))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(ho),Object(r.Rb)(r.z),Object(r.Rb)(a))},token:t,providedIn:"root"}),t})();function yo(t){return 0===t.buttons}"undefined"!=typeof Element&&Element;const vo=new r.q("cdk-focus-monitor-default-options"),bo=Ci({passive:!0,capture:!0});let wo=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=yo(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=_o(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=_o(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=xi(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Et.a)(null);const r=function(t){if(function(){if(null==Ii){const t="undefined"!=typeof document?document.head:null;Ii=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Ii}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const o={checkChildren:e,subject:new St.a,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(t){const e=xi(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=xi(t);r===this._getDocument().activeElement&&this._elementInfo.has(r)?this._originChanged(r,e,this._elementInfo.get(r)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=_o(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===_o(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,bo),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,bo)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,bo),t.addEventListener("mousedown",this._documentMousedownListener,bo),t.addEventListener("touchstart",this._documentTouchstartListener,bo),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,bo),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,bo),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,bo),t.removeEventListener("mousedown",this._documentMousedownListener,bo),t.removeEventListener("touchstart",this._documentTouchstartListener,bo),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.z),r.Rb(Ti),r.Rb(a,8),r.Rb(vo,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(r.z),Object(r.Rb)(Ti),Object(r.Rb)(a,8),Object(r.Rb)(vo,8))},token:t,providedIn:"root"}),t})();function _o(t){return t.composedPath?t.composedPath()[0]:t.target}const Eo="cdk-high-contrast-black-on-white",So="cdk-high-contrast-white-on-black",Io="cdk-high-contrast-active";let To=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Io),t.remove(Eo),t.remove(So);const e=this.getHighContrastMode();1===e?(t.add(Io),t.add(Eo)):2===e&&(t.add(Io),t.add(So))}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ti),r.Rb(a))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(Ti),Object(r.Rb)(a))},token:t,providedIn:"root"}),t})();const Oo=new r.P("11.0.3");class Co{}const Ao="*";function ko(t,e){return{type:7,name:t,definitions:e,options:{}}}function xo(t,e=null){return{type:4,styles:e,timings:t}}function No(t,e=null){return{type:2,steps:t,options:e}}function jo(t){return{type:6,styles:t,offset:null}}function Ro(t,e,n){return{type:0,name:t,styles:e,options:n}}function Do(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Po(t){Promise.resolve(null).then(t)}class Lo{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Po(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Mo{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Po(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Fo(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Uo(t){switch(t.length){case 0:return new Lo;case 1:return t[0];default:return new Mo(t)}}function Vo(t,e,n,r,i={},o={}){const s=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case Ao:a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a}),r||a.push(l),c=l,u=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function qo(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Ho(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Ho(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Ho(n,"destroy",t)))}}function Ho(t,e,n){const r=n.totalTime,i=zo(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function zo(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Bo(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Ko(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Go=(t,e)=>!1,Wo=(t,e)=>!1,$o=(t,e,n)=>[];const Jo=Fo();(Jo||"undefined"!=typeof Element)&&(Go=(t,e)=>t.contains(e),Wo=(()=>{if(Jo||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Wo}})(),$o=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Qo=null,Yo=!1;function Xo(t){Qo||(Qo=("undefined"!=typeof document?document.body:null)||{},Yo=!!Qo.style&&"WebkitAppearance"in Qo.style);let e=!0;return Qo.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Qo.style,!e&&Yo)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Qo.style),e}const Zo=Wo,ts=Go,es=$o;function ns(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let rs=(()=>{class t{validateStyleProperty(t){return Xo(t)}matchesElement(t,e){return Zo(t,e)}containsElement(t,e){return ts(t,e)}query(t,e,n){return es(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new Lo(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),is=(()=>{class t{}return t.NOOP=new rs,t})();const os="ng-enter",ss="ng-leave",as="ng-trigger",us=".ng-trigger",cs="ng-animating",ls=".ng-animating";function hs(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:fs(parseFloat(e[1]),e[2])}function fs(t,e){switch(e){case"s":return 1e3*t;default:return t}}function ds(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=fs(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=fs(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function ps(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function ms(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else ps(t,n);return n}function gs(t,e,n){return n?e+":"+n+";":""}function ys(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=gs(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=gs(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function vs(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Os(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Fo()&&ys(t))}function bs(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Os(e);t.style[n]=""}),Fo()&&ys(t))}function ws(t){return Array.isArray(t)?1==t.length?t[0]:No(t):t}const _s=new RegExp("{{\\s*(.+?)\\s*}}","g");function Es(t){let e=[];if("string"==typeof t){let n;for(;n=_s.exec(t);)e.push(n[1]);_s.lastIndex=0}return e}function Ss(t,e,n){const r=t.toString(),i=r.replace(_s,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function Is(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Ts=/-+([a-z0-9])/g;function Os(t){return t.replace(Ts,(...t)=>t[1].toUpperCase())}function Cs(t,e){return 0===t||0===e}function As(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach(function(e){n[e]=xs(t,e)})}}return e}function ks(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function xs(t,e){return window.getComputedStyle(t)[e]}const Ns="*";function js(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(Ps(i,s)),"<"!=o[0]||i==Ns&&s==Ns||e.push(Ps(s,i))}(t,n,e)):n.push(t),n}const Rs=new Set(["true","1"]),Ds=new Set(["false","0"]);function Ps(t,e){const n=Rs.has(t)||Ds.has(t),r=Rs.has(e)||Ds.has(e);return(i,o)=>{let s=t==Ns||t==i,a=e==Ns||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?Rs.has(t):Ds.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?Rs.has(e):Ds.has(e)),s&&a}}const Ls=new RegExp("s*:selfs*,?","g");function Ms(t,e,n){return new Fs(t).build(e,n)}class Fs{constructor(t){this._driver=t}build(t,e){const n=new Us(e);return this._resetContextStyleTimingState(n),ks(this,ws(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(Vs(t)){const e=t;Object.keys(e).forEach(t=>{Es(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Is(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=ks(this,ws(t.animation),e);return{type:1,matchers:js(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:qs(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>ks(this,t,e)),options:qs(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=ks(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:qs(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Hs(ds(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Hs(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||ds(r,e),Hs(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:jo({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=jo(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Ao?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Vs(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Es(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Vs(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Vs(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),s=s||c<0||c>1,o=o||c<a,a=c,i.push(c),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;e.currentTime=f+d.delay+s,d.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:ks(this,ws(t.animation),e),options:qs(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:qs(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:qs(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Ls,"")),[t=t.replace(/@\*/g,us).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,ls),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Bo(e.collectedStyles,e.currentQuerySelector,{});const s=ks(this,ws(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:qs(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:ds(t.timings,e.errors,!0);return{type:12,animation:ks(this,ws(t.animation),e),timings:n,options:null}}}class Us{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Vs(t){return!Array.isArray(t)&&"object"==typeof t}function qs(t){var e;return t?(t=ps(t)).params&&(t.params=(e=t.params)?ps(e):null):t={},t}function Hs(t,e,n){return{duration:t,delay:e,easing:n}}function zs(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Bs{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Ks=new RegExp(":enter","g"),Gs=new RegExp(":leave","g");function Ws(t,e,n,r,i,o={},s={},a,u,c=[]){return(new $s).buildKeyframes(t,e,n,r,i,o,s,a,u,c)}class $s{buildKeyframes(t,e,n,r,i,o,s,a,u,c=[]){u=u||new Bs;const l=new Qs(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),ks(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[zs(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?hs(n.duration):null,o=null!=n.delay?hs(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),ks(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Js);const t=hs(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>ks(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?hs(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),ks(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return ds(e.params?Ss(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?hs(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Js);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),ks(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;ks(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const Js={};class Qs{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Js,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Ys(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=hs(n.duration)),null!=n.delay&&(r.delay=hs(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Ss(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Qs(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Js,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Xs(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(Ks,"."+this._enterClassName)).replace(Gs,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class Ys{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ys(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ao,this._currentKeyframe[t]=Ao}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Ao})):ms(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=Ss(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Ao),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=ms(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):r==Ao&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?Is(t.values()):[],o=e.size?Is(e.values()):[];if(n){const t=r[0],e=ps(t);t.offset=0,e.offset=1,r=[t,e]}return zs(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class Xs extends Ys{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=ms(t[0],!1);a.offset=0,i.push(a);const u=ms(t[0],!1);u.offset=Zs(s),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let s=ms(t[r],!1);s.offset=Zs((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return zs(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Zs(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class ta{}class ea extends ta{normalizePropertyName(t,e){return Os(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(na[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const na=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ra(t,e,n,r,i,o,s,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const ia={};class oa{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||ia,f=this.buildStyles(n,s&&s.params||ia,l),d=a&&a.params||ia,p=this.buildStyles(r,d,l),m=new Set,g=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},w=c?[]:Ws(t,e,this.ast.animation,i,o,f,p,b,u,l);let _=0;if(w.forEach(t=>{_=Math.max(t.duration+t.delay,_)}),l.length)return ra(e,this._triggerName,n,r,v,f,p,[],[],g,y,_,l);w.forEach(t=>{const n=t.element,r=Bo(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Bo(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=Is(m.values());return ra(e,this._triggerName,n,r,v,f,p,w,E,g,y,_)}}class sa{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=ps(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=Ss(o,r,e)),n[t]=o})}}),n}}class aa{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new sa(t.style,t.options&&t.options.params||{})}),ua(this.states,"true","1"),ua(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new oa(t,e,this.states))}),this.fallbackTransition=new oa(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function ua(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const ca=new Bs;class la{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Ms(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Vo(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=Ws(this._driver,e,i,os,ss,{},{},n,ca,r),o.forEach(t=>{const e=Bo(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Ao)})});const a=Uo(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=zo(e,"","","");return qo(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const ha="ng-animate-queued",fa="ng-animate-disabled",da=".ng-animate-disabled",pa=[],ma={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ga={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class ya{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=ps(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const va="void",ba=new ya(va);class wa{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ca(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=Bo(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=Bo(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Ca(t,as),Ca(t,"ng-trigger-"+e),a[e]=ba),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new Ea(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(Ca(t,as),Ca(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const u=new ya(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),s[e]=u,a||(a=ba),u.value!==va&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{bs(t,n),vs(t,r)})}return}const c=Bo(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:o,isFallbackTransition:h}),h||(Ca(t,ha),o.onStart(()=>{Aa(t,ha)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),c.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,us,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,va,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Uo(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||ba,s=new ya(va),a=new Ea(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==ma||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Ca(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=zo(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,qo(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class _a{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new wa(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Sa(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Sa(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ca(t,fa)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Aa(t,fa))}removeNode(t,e,n,r){if(Sa(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Sa(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,us,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,ls,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Uo(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=ma,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,da)&&this.markElementAsDisabled(t,!1),this.driver.query(t,da,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Ca(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Uo(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new Bs,r=[],i=new Map,o=[],s=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=Oa(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=os+p++;d.set(e,n),t.forEach(t=>Ca(t,n))});const m=[],g=new Set,y=new Set;for(let x=0;x<this.collectedLeaveElements.length;x++){const t=this.collectedLeaveElements[x],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=Oa(h,Array.from(g));b.forEach((t,e)=>{const n=ss+p++;v.set(e,n),t.forEach(t=>Ca(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>Aa(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Aa(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const w=[],_=[];for(let x=this._namespaceList.length-1;x>=0;x--)this._namespaceList[x].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(w.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)_.push(p);else{if(c)return e.onStart(()=>bs(i,p.fromStyles)),e.onDestroy(()=>vs(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>bs(i,p.fromStyles)),e.onDestroy(()=>vs(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Bo(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(_.length){const t=[];_.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Bo(E,e,[]).push(t),t.destroy()})});const I=m.filter(t=>Na(t,a,u)),T=new Map;Ta(T,this.driver,y,u,Ao).forEach(t=>{Na(t,a,u)&&I.push(t)});const O=new Map;f.forEach((t,e)=>{Ta(O,this.driver,new Set(t),a,"!")}),I.forEach(t=>{const e=T.get(t),n=O.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const C=[],A=[],k={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(c.has(e))return o.onDestroy(()=>vs(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=k;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,E,i,O,T);if(o.setRealPlayer(n),t===k)C.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=Uo(e)),r.push(o)}}else bs(e,s.fromStyles),o.onDestroy(()=>vs(e,s.toStyles)),A.push(o),c.has(e)&&r.push(o)}),A.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Uo(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let x=0;x<m.length;x++){const t=m[x],e=t.__ng_removed;if(Aa(t,ss),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,ls,!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?ka(this,t,r):this.processLeaveNode(t)}return m.length=0,C.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),C}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==va;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,u=Bo(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}bs(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new Lo(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return xa(t,e),e}((n.get(h)||pa).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=o.get(h),y=Vo(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new Ea(t,s,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{Bo(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Ca(t,cs));const f=Uo(h);return f.onDestroy(()=>{c.forEach(t=>Aa(t,cs)),vs(a,e.toStyles)}),l.forEach(t=>{Bo(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Lo(t.duration,t.delay)}}class Ea{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Lo,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>qo(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Bo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Sa(t){return t&&1===t.nodeType}function Ia(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Ta(t,e,n,r,i){const o=[];n.forEach(t=>o.push(Ia(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=ga,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>Ia(t,o[a++])),s}function Oa(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function o(t){if(!t)return 1;let e=i.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:r.has(s)?1:o(s),i.set(t,e),e}return e.forEach(t=>{const e=o(t);1!==e&&n.get(e).push(t)}),n}function Ca(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Aa(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function ka(t,e,n){Uo(n).onDone(()=>t.processLeaveNode(e))}function xa(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Mo?xa(r.players,e):e.push(r)}}function Na(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class ja{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new _a(t,e,n),this._timelineEngine=new la(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=Ms(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new aa(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Ko(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Ko(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ra(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Pa(e[0]),e.length>1&&(r=Pa(e[e.length-1]))):e&&(n=Pa(e)),n||r?new Da(t,n,r):null}let Da=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&vs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vs(this._element,this._initialStyles),this._endStyles&&(vs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(bs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bs(this._element,this._endStyles),this._endStyles=null),vs(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Pa(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];La(i)&&(e=e||{},e[i]=t[i])}return e}function La(t){return"display"===t||"position"===t}const Ma="animation",Fa="animationend";class Ua{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Ka(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Ba(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),za(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Va(this._element,this._name,"paused")}resume(){Va(this._element,this._name,"running")}setPosition(t){const e=qa(this._element,this._name);this._position=t*this._duration,Ba(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),za(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Ka(t,"").split(","),r=Ha(n,e);r>=0&&(n.splice(r,1),Ba(t,"",n.join(",")))}(this._element,this._name))}}function Va(t,e,n){Ba(t,"PlayState",n,qa(t,e))}function qa(t,e){const n=Ka(t,"");return n.indexOf(",")>0?Ha(n.split(","),e):Ha([n],e)}function Ha(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function za(t,e,n){n?t.removeEventListener(Fa,e):t.addEventListener(Fa,e)}function Ba(t,e,n,r){const i=Ma+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Ka(t,e){return t.style[Ma+e]||""}class Ga{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Ua(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:xs(this.element,n))})}this.currentSnapshot=t}}class Wa extends Lo{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=ns(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class $a{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return Xo(t)}matchesElement(t,e){return Zo(t,e)}containsElement(t,e){return ts(t,e)}query(t,e,n){return es(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>ns(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(t,e,n,r,i,o=[],s){const a=o.filter(t=>t instanceof Ga),u={};Cs(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=As(t,e,u));if(0==n)return new Wa(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=Ra(t,e),d=new Ga(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}}class Ja{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:xs(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Qa{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ya().toString()),this._cssKeyframesDriver=new $a}validateStyleProperty(t){return Xo(t)}matchesElement(t,e){return Zo(t,e)}containsElement(t,e){return ts(t,e)}query(t,e,n){return es(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=o.filter(t=>t instanceof Ja);Cs(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=Ra(t,e=As(t,e=e.map(t=>ms(t,!1)),u));return new Ja(t,e,a,l)}}function Ya(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Xa=(()=>{class t extends Co{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?No(t):t;return eu(this._renderer,null,e,"register",[n]),new Za(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.F),r.Rb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class Za extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new tu(this._id,t,e||{},this._renderer)}}class tu{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return eu(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function eu(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const nu="@",ru="@.disabled";let iu=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new ou("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new su(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.F),r.Rb(ja),r.Rb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class ou{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==nu&&e==ru?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class su extends ou{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==nu?"."==e.charAt(1)&&e==ru?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==nu){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return i.charAt(0)!=nu&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let au=(()=>{class t extends ja{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a),r.Rb(is),r.Rb(ta))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const uu=new r.q("AnimationModuleType"),cu=[{provide:is,useFactory:function(){return"function"==typeof Ya()?new Qa:new $a}},{provide:uu,useValue:"BrowserAnimations"},{provide:Co,useClass:Xa},{provide:ta,useFactory:function(){return new ea}},{provide:ja,useClass:au},{provide:r.F,useFactory:function(t,e,n){return new iu(t,e,n)},deps:[ot,ja,r.z]}];let lu=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:cu,imports:[wt]}),t})();const hu=new r.P("11.0.3"),fu=new r.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let du,pu=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.W)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&hu.full!==Oo.full&&console.warn("The Angular Material version ("+hu.full+") does not match the Angular CDK version ("+Oo.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Rb(To),r.Rb(fu,8),r.Rb(a))},imports:[[ro],ro]}),t})();function mu(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=ki(t)}}}function gu(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),e&&this._elementRef.nativeElement.classList.add("mat-"+e),this._color=e)}}}function yu(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ki(t)}}}try{du="undefined"!=typeof Intl}catch(BI){du=!1}class vu{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const bu={enterDuration:450,exitDuration:400},wu=Ci({passive:!0}),_u=["mousedown","touchstart"],Eu=["mouseup","mouseleave","touchend","touchcancel"];class Su{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=xi(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},bu),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),s=t-r.left,a=e-r.top,u=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=s-o+"px",c.style.top=a-o+"px",c.style.height=2*o+"px",c.style.width=2*o+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=u+"ms",this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const l=new vu(this,c,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},u),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},bu),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=xi(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(_u))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Eu),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=yo(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,wu)})})}_removeTriggerEvents(){this._triggerElement&&(_u.forEach(t=>{this._triggerElement.removeEventListener(t,this,wu)}),this._pointerUpEventsRegistered&&Eu.forEach(t=>{this._triggerElement.removeEventListener(t,this,wu)}))}}const Iu=new r.q("mat-ripple-global-options");let Tu=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Su(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.z),r.Kb(Ti),r.Kb(Iu,8),r.Kb(uu,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Cb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),Ou=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[pu,Oi],pu]}),t})();var Cu=n("VRyK");function Au(t){return e=>e.lift(new ku(t))}class ku{constructor(t){this.value=t}call(t,e){return e.subscribe(new xu(t,this.value))}}class xu extends At.a{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}const Nu=["*"];function ju(t,e){if(1&t){const t=r.Ob();r.Nb(0,"div",2),r.Ub("click",function(){return r.fc(t),r.Wb()._onBackdropClicked()}),r.Mb()}if(2&t){const t=r.Wb();r.Cb("mat-drawer-shown",t._isShowingBackdrop())}}function Ru(t,e){1&t&&(r.Nb(0,"mat-drawer-content"),r.Zb(1,2),r.Mb())}const Du=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Pu=["mat-drawer","mat-drawer-content","*"],Lu={transformDrawer:ko("transform",[Ro("open, open-instant",jo({transform:"none",visibility:"visible"})),Ro("void",jo({"box-shadow":"none",visibility:"hidden"})),Do("void => open-instant",xo("0ms")),Do("void <=> open, open-instant => void",xo("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Mu=new r.q("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),Fu=new r.q("MAT_DRAWER_CONTAINER");let Uu=(()=>{class t extends oo{constructor(t,e,n,r,i){super(n,r,i),this._changeDetectorRef=t,this._container=e}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.h),r.Kb(Object(r.U)(()=>qu)),r.Kb(r.l),r.Kb(io),r.Kb(r.z))},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,e){2&t&&r.jc("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[r.xb],ngContentSelectors:Nu,decls:1,vars:0,template:function(t,e){1&t&&(r.ac(),r.Zb(0))},encapsulation:2,changeDetection:0}),t})(),Vu=(()=>{class t{constructor(t,e,n,i,o,s,a){this._elementRef=t,this._focusTrapFactory=e,this._focusMonitor=n,this._platform=i,this._ngZone=o,this._doc=s,this._container=a,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new St.a,this._animationEnd=new St.a,this._animationState="void",this.openedChange=new r.n(!0),this._openedStream=this.openedChange.pipe(ne(t=>t),Object(zt.a)(()=>{})),this.openedStart=this._animationStarted.pipe(ne(t=>t.fromState!==t.toState&&0===t.toState.indexOf("open")),Au(void 0)),this._closedStream=this.openedChange.pipe(ne(t=>!t),Object(zt.a)(()=>{})),this.closedStart=this._animationStarted.pipe(ne(t=>t.fromState!==t.toState&&"void"===t.toState),Au(void 0)),this._destroyed=new St.a,this.onPositionChanged=new r.n,this._modeChanged=new St.a,this.openedChange.subscribe(t=>{t?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{ji(this._elementRef.nativeElement,"keydown").pipe(ne(t=>27===t.keyCode&&!this.disableClose&&!function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t)),zi(this._destroyed)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation(),t.preventDefault()}))}),this._animationEnd.pipe(Di((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{const{fromState:e,toState:n}=t;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=ki(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"!==this.mode:t}set autoFocus(t){this._autoFocus=ki(t)}get opened(){return this._opened}set opened(t){this.toggle(ki(t))}_takeFocus(){this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then(t=>{t||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var t;const e=null===(t=this._doc)||void 0===t?void 0:t.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(t=!this.opened,e){return this._setOpen(t,!t&&this._isFocusWithinDrawer(),e)}_setOpen(t,e,n="program"){return this._opened=t,t?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=n):(this._animationState="void",e&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(t=>{this.openedChange.pipe(Jt(1)).subscribe(e=>t(e?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(t){this._animationStarted.next(t)}_animationDoneListener(t){this._animationEnd.next(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(go),r.Kb(wo),r.Kb(Ti),r.Kb(r.z),r.Kb(a,8),r.Kb(Fu,8))},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,e){1&t&&r.kc("@transform.start",function(t){return e._animationStartListener(t)})("@transform.done",function(t){return e._animationDoneListener(t)}),2&t&&(r.Bb("align",null),r.lc("@transform",e._animationState),r.Cb("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Nu,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(r.ac(),r.Nb(0,"div",0),r.Zb(1),r.Mb())},encapsulation:2,data:{animation:[Lu.transformDrawer]},changeDetection:0}),t})(),qu=(()=>{class t{constructor(t,e,n,i,o,s=!1,a){this._dir=t,this._element=e,this._ngZone=n,this._changeDetectorRef=i,this._animationMode=a,this._drawers=new r.D,this.backdropClick=new r.n,this._destroyed=new St.a,this._doCheckSubject=new St.a,this._contentMargins={left:null,right:null},this._contentMarginChanges=new St.a,t&&t.change.pipe(zi(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(zi(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=s}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=ki(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:ki(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Xt(this._allDrawers),zi(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Xt(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(function(t,e=Mi.a){return n=>n.lift(new uo(t,e))}(10),zi(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,e=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const n=this._left._getWidth();t+=n,e-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)e+=this._right._getWidth();else if("push"==this._right.mode){const n=this._right._getWidth();e+=n,t-=n}t=t||null,e=e||null,t===this._contentMargins.left&&e===this._contentMargins.right||(this._contentMargins={left:t,right:e},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(ne(t=>t.fromState!==t.toState),zi(this._drawers.changes)).subscribe(t=>{"open-instant"!==t.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(zi(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(zi(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Jt(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(zi(Object(Cu.a)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(no,8),r.Kb(r.l),r.Kb(r.z),r.Kb(r.h),r.Kb(so),r.Kb(Mu),r.Kb(uu,8))},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(t,e,n){if(1&t&&(r.Db(n,Uu,!0),r.Db(n,Vu,!0)),2&t){let t;r.ec(t=r.Vb())&&(e._content=t.first),r.ec(t=r.Vb())&&(e._allDrawers=t)}},viewQuery:function(t,e){if(1&t&&r.qc(Uu,!0),2&t){let t;r.ec(t=r.Vb())&&(e._userContent=t.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,e){2&t&&r.Cb("mat-drawer-container-explicit-backdrop",e._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[r.zb([{provide:Fu,useExisting:t}])],ngContentSelectors:Pu,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,e){1&t&&(r.ac(Du),r.mc(0,ju,1,2,"div",0),r.Zb(1),r.Zb(2,1),r.mc(3,Ru,2,0,"mat-drawer-content",1)),2&t&&(r.bc("ngIf",e.hasBackdrop),r.Ab(3),r.bc("ngIf",!e._content))},directives:[x,Uu],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),t})(),Hu=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[U,pu,Oi,ao],ao,pu]}),t})();const zu=["mat-button",""],Bu=["*"],Ku=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class Gu{constructor(t){this._elementRef=t}}const Wu=gu(mu(yu(Gu)));let $u=(()=>{class t extends Wu{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of Ku)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(wo),r.Kb(uu,8))},t.\u0275cmp=r.Eb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.qc(Tu,!0),2&t){let t;r.ec(t=r.Vb())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Bb("disabled",e.disabled||null),r.Cb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.xb],attrs:zu,ngContentSelectors:Bu,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.ac(),r.Nb(0,"span",0),r.Zb(1),r.Mb(),r.Lb(2,"span",1),r.Lb(3,"span",2)),2&t&&(r.Ab(2),r.Cb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.bc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Tu],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),Ju=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[Ou,pu],pu]}),t})();var Qu=n("z6cu"),Yu=n("XoHu");function Xu(t,e){return new jt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(_t.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}var Zu=n("w1tV");class tc{}class ec{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ec?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ec;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ec?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class nc{encodeKey(t){return rc(t)}encodeValue(t){return rc(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function rc(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class ic{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new nc,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ic({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function oc(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function sc(t){return"undefined"!=typeof Blob&&t instanceof Blob}function ac(t){return"undefined"!=typeof FormData&&t instanceof FormData}class uc{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new ec),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new ic,this.urlWithParams=e}serializeBody(){return null===this.body?null:oc(this.body)||sc(this.body)||ac(this.body)||"string"==typeof this.body?this.body:this.body instanceof ic?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ac(this.body)?null:sc(this.body)?this.body.type||null:oc(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ic?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new uc(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var cc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class lc extends class{constructor(t,e=200,n="OK"){this.headers=t.headers||new ec,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=cc.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new lc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function hc(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let fc=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof uc)r=t;else{let i=void 0;i=n.headers instanceof ec?n.headers:new ec(n.headers);let o=void 0;n.params&&(o=n.params instanceof ic?n.params:new ic({fromObject:n.params})),r=new uc(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Et.a)(r).pipe(ce(t=>this.handler.handle(t)));if(t instanceof uc||"events"===n.observe)return i;const o=i.pipe(ne(t=>t instanceof lc));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(zt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(zt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(zt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(zt.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new ic).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,hc(n,e))}post(t,e,n={}){return this.request("POST",t,hc(n,e))}put(t,e,n={}){return this.request("PUT",t,hc(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(tc))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const dc=["*"];function pc(t){return Error(`Unable to find icon with the name "${t}"`)}function mc(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function gc(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class yc{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let vc=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new yc(n,null,r))}addSvgIconLiteralInNamespace(t,e,n,i){const o=this._sanitizer.sanitize(r.I.HTML,n);if(!o)throw gc(n);return this._addSvgIconConfig(t,e,new yc("",o,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new yc(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.I.HTML,e);if(!i)throw gc(e);return this._addSvgIconSetConfig(t,new yc("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.I.RESOURCE_URL,t);if(!e)throw mc(t);const n=this._cachedIconsByUrl.get(e);return n?Object(Et.a)(bc(n)):this._loadSvgIconFromConfig(new yc(t,null)).pipe(Object(Ee.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(zt.a)(t=>bc(t)))}getNamedSvgIcon(t,e=""){const n=wc(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(Qu.a)(pc(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(Et.a)(bc(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(zt.a)(t=>bc(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(Et.a)(n):function(...t){if(1===t.length){const e=t[0];if(Object(Ct.a)(e))return Xu(e,null);if(Object(Yu.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Xu(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Xu(t=1===t.length&&Object(Ct.a)(t[0])?t[0]:t,null).pipe(Object(zt.a)(t=>e(...t)))}return Xu(t,null)}(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(oe(e=>{const n=this._sanitizer.sanitize(r.I.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(Et.a)(null)})))).pipe(Object(zt.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw pc(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(Ee.a)(e=>t.svgText=e),Object(zt.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(Et.a)(null):this._fetchIcon(t).pipe(Object(Ee.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(i),this._setSvgAttributes(o,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,o=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(r.I.RESOURCE_URL,n);if(!s)throw mc(n);const a=this._inProgressUrlFetches.get(s);if(a)return a;const u=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Ie(()=>this._inProgressUrlFetches.delete(s)),Object(Zu.a)());return this._inProgressUrlFetches.set(s,u),u}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(wc(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(fc,8),r.Rb(mt),r.Rb(a,8),r.Rb(r.m))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(fc,8),Object(r.Rb)(mt),Object(r.Rb)(a,8),Object(r.Rb)(r.m))},token:t,providedIn:"root"}),t})();function bc(t){return t.cloneNode(!0)}function wc(t,e){return t+":"+e}class _c{constructor(t){this._elementRef=t}}const Ec=gu(_c),Sc=new r.q("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.V)(a),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Ic=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Tc=Ic.map(t=>`[${t}]`).join(", "),Oc=/^url\(['"]?#(.*?)['"]?\)$/;let Cc=(()=>{class t extends Ec{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=Se.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=ki(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(Tc),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)Ic.forEach(t=>{const i=e[r],o=i.getAttribute(t),s=o?o.match(Oc):null;if(s){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:s[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(Jt(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(vc),r.Sb("aria-hidden"),r.Kb(Sc),r.Kb(r.m))},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Bb("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.Cb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.xb],ngContentSelectors:dc,decls:1,vars:0,template:function(t,e){1&t&&(r.ac(),r.Zb(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),Ac=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[pu],pu]}),t})();const kc=function(t){return{selected:t}};let xc=(()=>{class t{constructor(){this.selected=""}ngOnInit(){}setSelected(t){this.selected=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-sidenav"]],decls:20,vars:9,consts:[["autosize","",1,"navigation-rail-page"],["mode","side","opened","",1,"example-sidenav"],["drawer",""],["routerLink","/home","mat-icon-button","",1,"nav-button",3,"ngClass","click"],[1,"nav-icon"],[1,"nav-button-text"],["routerLink","/closet","mat-icon-button","",1,"nav-button",3,"ngClass","click"],["routerLink","/favorites","mat-icon-button","",1,"nav-button",3,"ngClass","click"],[1,"example-sidenav-content"]],template:function(t,e){1&t&&(r.Nb(0,"div"),r.Nb(1,"mat-drawer-container",0),r.Nb(2,"mat-drawer",1,2),r.Nb(4,"button",3),r.Ub("click",function(){return e.setSelected("Home")}),r.Nb(5,"mat-icon",4),r.nc(6,"home"),r.Mb(),r.Nb(7,"div",5),r.nc(8,"Home"),r.Mb(),r.Mb(),r.Nb(9,"button",6),r.Ub("click",function(){return e.setSelected("Closet")}),r.Nb(10,"mat-icon",4),r.nc(11,"checkroom"),r.Mb(),r.Nb(12,"div",5),r.nc(13,"Closet"),r.Mb(),r.Mb(),r.Nb(14,"button",7),r.Ub("click",function(){return e.setSelected("Favorites")}),r.Nb(15,"mat-icon",4),r.nc(16,"favorite"),r.Mb(),r.Nb(17,"div",5),r.nc(18,"Favorites"),r.Mb(),r.Mb(),r.Mb(),r.Lb(19,"div",8),r.Mb(),r.Mb()),2&t&&(r.Ab(4),r.bc("ngClass",r.dc(3,kc,"Home"===e.selected)),r.Ab(5),r.bc("ngClass",r.dc(5,kc,"Closet"===e.selected)),r.Ab(5),r.bc("ngClass",r.dc(7,kc,"Favorites"===e.selected)))},directives:[qu,Vu,$u,Zr,k,Cc],styles:['.navigation-rail-page[_ngcontent-%COMP%]   br[_ngcontent-%COMP%]{display:block;margin:-25px 0;content:""}.navigation-rail-page[_ngcontent-%COMP%]   #thresholds[_ngcontent-%COMP%]{margin-top:24px}.navigation-rail-page[_ngcontent-%COMP%]   .example-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100vh;align-items:baseline;justify-content:center}.navigation-rail-page[_ngcontent-%COMP%]   .example-sidenav[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px}.navigation-rail-page[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]{width:72px;height:72px;border-radius:none;margin-bottom:16px;display:block}.navigation-rail-page[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]:hover{color:#039}.navigation-rail-page[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{margin-top:-4px}.navigation-rail-page[_ngcontent-%COMP%]   .nav-button-text[_ngcontent-%COMP%]{font-size:10px;text-transform:none}.navigation-rail-page[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%], .navigation-rail-page[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]:hover{color:#039}.navigation-rail-page[_ngcontent-%COMP%]   .fade[_ngcontent-%COMP%]{animation:fade-in .3s forwards}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.navigation-rail-page[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{text-align:center;margin-top:16px}']}),t})(),Nc=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-bottom-nav"]],decls:16,vars:0,consts:[[1,"bottom-nav"],["mat-icon-button",""],[1,"nav-icon"],[1,"nav-button-text"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"button",1),r.Nb(2,"mat-icon",2),r.nc(3,"home"),r.Mb(),r.Nb(4,"div",3),r.nc(5,"Home"),r.Mb(),r.Mb(),r.Nb(6,"button",1),r.Nb(7,"mat-icon",2),r.nc(8,"checkroom"),r.Mb(),r.Nb(9,"div",3),r.nc(10,"Closet"),r.Mb(),r.Mb(),r.Nb(11,"button",1),r.Nb(12,"mat-icon",2),r.nc(13,"favorite"),r.Mb(),r.Nb(14,"div",3),r.nc(15,"Favorites"),r.Mb(),r.Mb(),r.Mb())},directives:[$u,Cc],styles:[".bottom-nav[_ngcontent-%COMP%]{height:56px;width:100%;bottom:0;position:fixed;text-align:center;background-color:#d8ce40}"]}),t})(),jc=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-home"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Lb(0,"app-sidenav"),r.Lb(1,"app-bottom-nav"))},directives:[xc,Nc],styles:["@media only screen and (max-width:808px){app-sidenav[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width:809px){app-bottom-nav[_ngcontent-%COMP%]{display:none}}"]}),t})();function Rc(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(lI){o(lI)}}function a(t){try{u(r.throw(t))}catch(lI){o(lI)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}var Dc=n("Jgta");function Pc(t,e){return e?Kt(()=>t,e):Kt(()=>t)}n("6nsN");var Lc=n("tf+s"),Mc=n("spgP");const Fc=new r.q("angularfire2.auth.use-emulator"),Uc=new r.q("angularfire2.auth.settings"),Vc=new r.q("angularfire2.auth.tenant-id"),qc=new r.q("angularfire2.auth.langugage-code"),Hc=new r.q("angularfire2.auth.use-device-language"),zc=new r.q("angularfire.auth.persistence");let Bc=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Mc.d(i),f=Object(Mc.h)(h),d=new St.a,p=Object(Et.a)(void 0).pipe(Object(Qi.b)(h.outsideAngular),Kt(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(null,"6nsN")))),Object(zt.a)(()=>Object(Mc.g)(t,i,e)),Object(zt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Mc.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),to({bufferSize:1,refCount:!1}));if(V(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Et.a)(null);else{p.pipe(_e()).subscribe();const t=p.pipe(Kt(t=>t.getRedirectResult().then(t=>t,()=>null)),f,to({bufferSize:1,refCount:!1})),e=t=>new jt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Kt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Kt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Pc(n),Object(Lc.a)(h.outsideAngular),Object(Qi.b)(h.insideAngular)),this.user=t.pipe(Pc(r),Object(Lc.a)(h.outsideAngular),Object(Qi.b)(h.insideAngular)),this.idToken=this.user.pipe(Kt(t=>t?Object(_t.a)(t.getIdToken()):Object(Et.a)(null))),this.idTokenResult=this.user.pipe(Kt(t=>t?Object(_t.a)(t.getIdTokenResult()):Object(Et.a)(null))),this.credential=Object(Cu.a)(t,d,this.authState.pipe(ne(t=>!t))).pipe(Object(zt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Lc.a)(h.outsideAngular),Object(Qi.b)(h.insideAngular))}return Object(Mc.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Mc.c),r.Rb(Mc.b,8),r.Rb(r.B),r.Rb(r.z),r.Rb(Fc,8),r.Rb(Uc,8),r.Rb(Vc,8),r.Rb(qc,8),r.Rb(Hc,8),r.Rb(zc,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(Mc.c),Object(r.Rb)(Mc.b,8),Object(r.Rb)(r.B),Object(r.Rb)(r.z),Object(r.Rb)(Fc,8),Object(r.Rb)(Uc,8),Object(r.Rb)(Vc,8),Object(r.Rb)(qc,8),Object(r.Rb)(Hc,8),Object(r.Rb)(zc,8))},token:t,providedIn:"any"}),t})();Object(Mc.e)(Bc,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let Kc=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Bc]}),t})();var Gc=n("zIRd"),Wc=n("q/0M"),$c=n("qOnz"),Jc=function(t,e){return(Jc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Qc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Yc,Xc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Zc=Zc||{},tl=Xc||self;function el(){}function nl(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function rl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var il="closure_uid_"+(1e9*Math.random()>>>0),ol=0;function sl(t,e,n){return t.call.apply(t.bind,arguments)}function al(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ul(t,e,n){return(ul=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sl:al).apply(null,arguments)}function cl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ll(){return Date.now()}function hl(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function fl(){this.j=this.j,this.i=this.i}fl.prototype.j=!1,fl.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,il)&&t[il]||(t[il]=++ol)}(this)},fl.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var dl=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},pl=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function ml(t){return Array.prototype.concat.apply([],arguments)}function gl(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function yl(t){return/^[\s\xa0]*$/.test(t)}var vl,bl=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function wl(t,e){return-1!=t.indexOf(e)}function _l(t,e){return t<e?-1:t>e?1:0}t:{var El=tl.navigator;if(El){var Sl=El.userAgent;if(Sl){vl=Sl;break t}}vl=""}function Il(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Tl(t){var e={};for(var n in t)e[n]=t[n];return e}var Ol="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cl(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ol.length;o++)n=Ol[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Al(t){return Al[" "](t),t}Al[" "]=el;var kl,xl,Nl=wl(vl,"Opera"),jl=wl(vl,"Trident")||wl(vl,"MSIE"),Rl=wl(vl,"Edge"),Dl=Rl||jl,Pl=wl(vl,"Gecko")&&!(wl(vl.toLowerCase(),"webkit")&&!wl(vl,"Edge"))&&!(wl(vl,"Trident")||wl(vl,"MSIE"))&&!wl(vl,"Edge"),Ll=wl(vl.toLowerCase(),"webkit")&&!wl(vl,"Edge");function Ml(){var t=tl.document;return t?t.documentMode:void 0}t:{var Fl="",Ul=(xl=vl,Pl?/rv:([^\);]+)(\)|;)/.exec(xl):Rl?/Edge\/([\d\.]+)/.exec(xl):jl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(xl):Ll?/WebKit\/(\S+)/.exec(xl):Nl?/(?:Version)[ \/]?(\S+)/.exec(xl):void 0);if(Ul&&(Fl=Ul?Ul[1]:""),jl){var Vl=Ml();if(null!=Vl&&Vl>parseFloat(Fl)){kl=String(Vl);break t}}kl=Fl}var ql={};function Hl(t){return function(t,e){var n=ql;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=bl(String(kl)).split("."),r=bl(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=_l(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||_l(0==s[2].length,0==a[2].length)||_l(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var zl=tl.document&&jl&&(Ml()||parseInt(kl,10))||void 0,Bl=!jl||9<=Number(zl),Kl=jl&&!Hl("9"),Gl=function(){if(!tl.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{tl.addEventListener("test",el,e),tl.removeEventListener("test",el,e)}catch(n){}return t}();function Wl(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function $l(t,e){if(Wl.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Pl){t:{try{Al(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Jl[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Wl.prototype.b=function(){this.defaultPrevented=!0},hl($l,Wl);var Jl={2:"touch",3:"pen",4:"mouse"};$l.prototype.b=function(){$l.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Kl)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ql="closure_listenable_"+(1e6*Math.random()|0),Yl=0;function Xl(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Yl,this.Y=this.Z=!1}function Zl(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function th(t){this.src=t,this.a={},this.b=0}function eh(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=dl(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Zl(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function nh(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}th.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=nh(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Xl(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var rh="closure_lm_"+(1e6*Math.random()|0),ih={};function oh(t,e,n,r,i){if(r&&r.once)return ah(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)oh(t,e[o],n,r,i);return null}return n=mh(n),t&&t[Ql]?t.va(e,n,rl(r)?!!r.capture:!!r,i):sh(t,e,n,!1,r,i)}function sh(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=rl(i)?!!i.capture:!!i;if(s&&!Bl)return null;var a=dh(t);if(a||(t[rh]=a=new th(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=fh,e=Bl?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Gl||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(lh(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ah(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ah(t,e[o],n,r,i);return null}return n=mh(n),t&&t[Ql]?t.wa(e,n,rl(r)?!!r.capture:!!r,i):sh(t,e,n,!0,r,i)}function uh(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)uh(t,e[o],n,r,i);else r=rl(r)?!!r.capture:!!r,n=mh(n),t&&t[Ql]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=nh(o=t.a[e],n,r,i))&&(Zl(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=dh(t))&&(e=t.a[e.toString()],t=-1,e&&(t=nh(e,n,r,i)),(n=-1<t?e[t]:null)&&ch(n))}function ch(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ql])eh(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(lh(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=dh(e))?(eh(n,t),0==n.b&&(n.src=null,e[rh]=null)):Zl(t)}}}function lh(t){return t in ih?ih[t]:ih[t]="on"+t}function hh(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ch(t),n.call(r,e)}function fh(t,e){if(t.Y)return!0;if(!Bl){if(!e)t:{e=["window","event"];for(var n=tl,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return hh(t,e=new $l(e,this))}return hh(t,new $l(e,this))}function dh(t){return(t=t[rh])instanceof th?t:null}var ph="__closure_events_fn_"+(1e9*Math.random()>>>0);function mh(t){return"function"==typeof t?t:(t[ph]||(t[ph]=function(e){return t.handleEvent(e)}),t[ph])}function gh(){fl.call(this),this.c=new th(this),this.J=this,this.C=null}function yh(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Wl(e,t);else if(e instanceof Wl)e.target=e.target||t;else{var i=e;Cl(e=new Wl(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=vh(s,r,!0,e)&&i}if(i=vh(s=e.a=t,r,!0,e)&&i,i=vh(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=vh(s=e.a=n[o],r,!1,e)&&i}function vh(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&eh(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}hl(gh,fl),gh.prototype[Ql]=!0,(Yc=gh.prototype).addEventListener=function(t,e,n,r){oh(this,t,e,n,r)},Yc.removeEventListener=function(t,e,n,r){uh(this,t,e,n,r)},Yc.G=function(){if(gh.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Zl(n[r]);delete e.a[t],e.b--}}this.C=null},Yc.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Yc.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var bh=tl.JSON.stringify;function wh(){this.b=this.a=null}var _h,Eh=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ih},function(t){t.reset()});function Sh(){var t=Ah,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ih(){this.next=this.b=this.a=null}function Th(t){tl.setTimeout(function(){throw t},0)}function Oh(t,e){_h||function(){var t=tl.Promise.resolve(void 0);_h=function(){t.then(kh)}}(),Ch||(_h(),Ch=!0),Ah.add(t,e)}wh.prototype.add=function(t,e){var n=Eh.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ih.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ih.prototype.reset=function(){this.next=this.b=this.a=null};var Ch=!1,Ah=new wh;function kh(){for(var t;t=Sh();){try{t.a.call(t.b)}catch(n){Th(n)}var e=Eh;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ch=!1}function xh(t,e){gh.call(this),this.b=t||1,this.a=e||tl,this.f=ul(this.Za,this),this.g=ll()}function Nh(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function jh(t,e,n){if("function"==typeof t)n&&(t=ul(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ul(t.handleEvent,t)}return 2147483647<Number(e)?-1:tl.setTimeout(t,e||0)}function Rh(t){t.a=jh(function(){t.a=null,t.c&&(t.c=!1,Rh(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}hl(xh,gh),(Yc=xh.prototype).aa=!1,Yc.M=null,Yc.Za=function(){if(this.aa){var t=ll()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),yh(this,"tick"),this.aa&&(Nh(this),this.start()))}},Yc.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ll())},Yc.G=function(){xh.X.G.call(this),Nh(this),delete this.a};var Dh=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Jc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Rh(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(tl.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(fl);function Ph(t){fl.call(this),this.b=t,this.a={}}hl(Ph,fl);var Lh=[];function Mh(t,e,n,r){Array.isArray(n)||(n&&(Lh[0]=n.toString()),n=Lh);for(var i=0;i<n.length;i++){var o=oh(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Fh(t){Il(t.a,function(t,e){this.a.hasOwnProperty(e)&&ch(t)},t),t.a={}}function Uh(){this.a=!0}function Vh(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return bh(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Ph.prototype.G=function(){Ph.X.G.call(this),Fh(this)},Ph.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Uh.prototype.info=function(){};var qh={},Hh=null;function zh(){return Hh=Hh||new gh}function Bh(t){Wl.call(this,qh.Fa,t)}function Kh(t){var e=zh();yh(e,new Bh(e,t))}function Gh(t,e){Wl.call(this,qh.STAT_EVENT,t),this.stat=e}function Wh(t){var e=zh();yh(e,new Gh(e,t))}function $h(t){Wl.call(this,qh.Ga,t)}function Jh(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return tl.setTimeout(function(){t()},e)}qh.Fa="serverreachability",hl(Bh,Wl),qh.STAT_EVENT="statevent",hl(Gh,Wl),qh.Ga="timingevent",hl($h,Wl);var Qh={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Yh={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Xh(){}function Zh(){}Xh.prototype.a=null;var tf,ef={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function nf(){Wl.call(this,"d")}function rf(){Wl.call(this,"c")}function of(){}function sf(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Ph(this),this.P=af,this.R=new xh(t=Dl?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}hl(nf,Wl),hl(rf,Wl),hl(of,Xh),tf=new of;var af=45e3,uf={},cf={};function lf(t,e,n){t.H=1,t.i=jf(Of(e)),t.j=n,t.I=!0,hf(t,null)}function hf(t,e){t.u=ll(),pf(t),t.l=Of(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Kf(n.b,"t",r),t.D=0,t.a=Ud(t.g,t.g.C?e:null),0<t.O&&(t.F=new Dh(ul(t.Ca,t,t.a),t.O)),Mh(t.J,t.a,"readystatechange",t.Xa),e=t.B?Tl(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Kh(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function ff(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=df(t,n);if(i==cf){4==e&&(t.h=4,Wh(14),r=!1),Vh(t.c,t.f,null,"[Incomplete Response]");break}if(i==uf){t.h=4,Wh(15),Vh(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Vh(t.c,t.f,i,null),bf(t,i)}4==e&&0==n.length&&(t.h=1,Wh(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Nd(e),e.F=!0,Wh(11))):(Vh(t.c,t.f,n,"[Invalid Chunked Response]"),vf(t),yf(t))}function df(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?cf:(n=Number(e.substring(n,r)),isNaN(n)?uf:(r+=1)+n>e.length?cf:(e=e.substr(r,n),t.D=r+n,e))}function pf(t){t.T=ll()+t.P,mf(t,t.P)}function mf(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Jh(ul(t.Va,t),e)}function gf(t){t.o&&(tl.clearTimeout(t.o),t.o=null)}function yf(t){0==t.g.v||t.A||Dd(t.g,t)}function vf(t){gf(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Nh(t.R),Fh(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function bf(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Xf(n.b,t)))if(n.I=t.N,!t.C&&Xf(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(SS){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Rd(n),Ed(n)}xd(n),Wh(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Jh(ul(n.Sa,n),6e3));if(1>=Yf(n.b)&&n.ea){try{n.ea()}catch(SS){}n.ea=void 0}}else Ld(n,11)}else if((t.C||n.a==t)&&Rd(n),!yl(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(wl(l,"spdy")||wl(l,"quic")||wl(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Zf(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Nf(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ll()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Fd(u,u.C?u.ga:null,u.fa),d.C){td(u.b,d);var p=d,m=u.D;m&&p.setTimeout(m),p.o&&(gf(p),pf(p)),u.a=d}else kd(u);0<n.g.length&&Td(n)}else"stop"!=i[0]&&"close"!=i[0]||Ld(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Ld(n,7):_d(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Kh(4)}catch(SS){}}function wf(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(nl(t)||"string"==typeof t)pl(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(nl(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(nl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function _f(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof _f)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ef(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Sf(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Sf(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Sf(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Yc=sf.prototype).setTimeout=function(t){this.P=t},Yc.Xa=function(t){t=t.target;var e=this.F;e&&3==yd(t)?e.f():this.Ca(t)},Yc.Ca=function(t){try{if(t==this.a)t:{var e=yd(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Dl&&!this.a.$())){this.A||4!=e||7==n||Kh(8==n||0>=r?3:2),gf(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yl(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Wh(12),vf(this),yf(this);break t}Vh(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,bf(this,u)}this.I?(ff(this,e,o),Dl&&this.b&&3==e&&(Mh(this.J,this.R,"tick",this.Wa),this.R.start())):(Vh(this.c,this.f,o,null),bf(this,o)),4==e&&vf(this),this.b&&!this.A&&(4==e?Dd(this.g,this):(this.b=!1,pf(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Wh(12)):(this.h=0,Wh(13)),vf(this),yf(this)}}}catch(c){}},Yc.Wa=function(){if(this.a){var t=yd(this.a),e=this.a.$();this.D<e.length&&(gf(this),ff(this,t,e),this.b&&4!=t&&pf(this))}},Yc.cancel=function(){this.A=!0,vf(this)},Yc.Va=function(){this.o=null;var t=ll();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Kh(3),Wh(17)),vf(this),this.h=2,yf(this)):mf(this,this.T-t)},(Yc=_f.prototype).K=function(){Ef(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Yc.L=function(){return Ef(this),this.a.concat()},Yc.get=function(t,e){return Sf(this.b,t)?this.b[t]:e},Yc.set=function(t,e){Sf(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Yc.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var If=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Tf(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Tf){this.a=void 0!==e?e:t.a,Cf(this,t.f),this.j=t.j,Af(this,t.c),kf(this,t.h),this.g=t.g,e=t.b;var n=new qf;n.c=e.c,e.a&&(n.a=new _f(e.a),n.b=e.b),xf(this,n),this.i=t.i}else t&&(n=String(t).match(If))?(this.a=!!e,Cf(this,n[1]||"",!0),this.j=Rf(n[2]||""),Af(this,n[3]||"",!0),kf(this,n[4]),this.g=Rf(n[5]||"",!0),xf(this,n[6]||"",!0),this.i=Rf(n[7]||"")):(this.a=!!e,this.b=new qf(null,this.a))}function Of(t){return new Tf(t)}function Cf(t,e,n){t.f=n?Rf(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Af(t,e,n){t.c=n?Rf(e,!0):e}function kf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function xf(t,e,n){e instanceof qf?(t.b=e,function(t,e){e&&!t.f&&(Hf(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(zf(this,e),Kf(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Df(e,Uf)),t.b=new qf(e,t.a))}function Nf(t,e,n){t.b.set(e,n)}function jf(t){return Nf(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ll()).toString(36)),t}function Rf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Df(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Pf),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Pf(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Tf.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Df(e,Lf,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Df(e,Lf,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Df(n,"/"==n.charAt(0)?Ff:Mf,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Df(n,Vf)),t.join("")};var Lf=/[#\/\?@]/g,Mf=/[#\?:]/g,Ff=/[#\?]/g,Uf=/[#\?@]/g,Vf=/#/g;function qf(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Hf(t){t.a||(t.a=new _f,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function zf(t,e){Hf(t),e=Gf(t,e),Sf(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Sf((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ef(t)))}function Bf(t,e){return Hf(t),e=Gf(t,e),Sf(t.a.b,e)}function Kf(t,e,n){zf(t,e),0<n.length&&(t.c=null,t.a.set(Gf(t,e),gl(n)),t.b+=n.length)}function Gf(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Yc=qf.prototype).add=function(t,e){Hf(this),this.c=null,t=Gf(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Yc.forEach=function(t,e){Hf(this),this.a.forEach(function(n,r){pl(n,function(n){t.call(e,n,r,this)},this)},this)},Yc.L=function(){Hf(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Yc.K=function(t){Hf(this);var e=[];if("string"==typeof t)Bf(this,t)&&(e=ml(e,this.a.get(Gf(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=ml(e,t[n])}return e},Yc.set=function(t,e){return Hf(this),this.c=null,Bf(this,t=Gf(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Yc.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Yc.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Wf=function(){return function(t,e){this.b=t,this.a=e}}();function $f(t){this.g=t||Jf,t=tl.PerformanceNavigationTiming?0<(t=tl.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(tl.ia&&tl.ia.ya&&tl.ia.ya()&&tl.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Jf=10;function Qf(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Yf(t){return t.b?1:t.a?t.a.size:0}function Xf(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Zf(t,e){t.a?t.a.add(e):t.b=e}function td(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ed(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Qc(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return gl(t.c)}function nd(){}function rd(){this.a=new nd}function id(t,e,n){var r=n||"";try{wf(t,function(t,n){var i=t;rl(t)&&(i=bh(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(lI){throw e.push(r+"type="+encodeURIComponent("_badmap")),lI}}function od(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}$f.prototype.cancel=function(){var t,e;if(this.c=ed(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Qc(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},nd.prototype.stringify=function(t){return tl.JSON.stringify(t,void 0)},nd.prototype.parse=function(t){return tl.JSON.parse(t,void 0)};var sd=tl.JSON.parse;function ad(t){gh.call(this),this.headers=new _f,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ud,this.D=this.F=!1}hl(ad,gh);var ud="",cd=/^https?$/i,ld=["POST","PUT"];function hd(t){return"content-type"==t.toLowerCase()}function fd(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,dd(t),md(t)}function dd(t){t.u||(t.u=!0,yh(t,"complete"),yh(t,"error"))}function pd(t){if(t.b&&void 0!==Zc&&(!t.s[1]||4!=yd(t)||2!=t.W()))if(t.l&&4==yd(t))jh(t.za,0,t);else if(yh(t,"readystatechange"),4==yd(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(If)[1]||null;if(!o&&tl.self&&tl.self.location){var s=tl.self.location.protocol;o=s.substr(0,s.length-1)}i=!cd.test(o?o.toLowerCase():"")}e=i}if(e)yh(t,"complete"),yh(t,"success");else{t.h=6;try{var a=2<yd(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",dd(t)}}finally{md(t)}}}function md(t,e){if(t.a){gd(t);var n=t.a,r=t.s[0]?el:null;t.a=null,t.s=null,e||yh(t,"ready");try{n.onreadystatechange=r}catch(lI){}}}function gd(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(tl.clearTimeout(t.m),t.m=null)}function yd(t){return t.a?t.a.readyState:0}function vd(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Il(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Nf(t,e,n))}function bd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wd(t){this.pa=0,this.g=[],this.c=new Uh,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=bd("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=bd("baseRetryDelayMs",5e3,t),this.Ra=bd("retryDelaySeedMs",1e4,t),this.Ma=bd("forwardChannelMaxRetries",2,t),this.ma=bd("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new $f(t&&t.concurrentRequestLimit),this.ka=new rd,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function _d(t){if(Sd(t),3==t.v){var e=t.R++,n=Of(t.B);Nf(n,"SID",t.J),Nf(n,"RID",e),Nf(n,"TYPE","terminate"),Cd(t,n),(e=new sf(t,t.c,e,void 0)).H=2,e.i=jf(Of(n)),n=!1,tl.navigator&&tl.navigator.sendBeacon&&(n=tl.navigator.sendBeacon(e.i.toString(),"")),!n&&tl.Image&&((new Image).src=e.i,n=!0),n||(e.a=Ud(e.g,null),e.a.ba(e.i)),e.u=ll(),pf(e)}Md(t)}function Ed(t){t.a&&(Nd(t),t.a.cancel(),t.a=null)}function Sd(t){Ed(t),t.j&&(tl.clearTimeout(t.j),t.j=null),Rd(t),t.b.cancel(),t.h&&("number"==typeof t.h&&tl.clearTimeout(t.h),t.h=null)}function Id(t,e){t.g.push(new Wf(t.Oa++,e)),3==t.v&&Td(t)}function Td(t){Qf(t.b)||t.h||(t.h=!0,Oh(t.Ba,t),t.u=0)}function Od(t,e){var n;n=e?e.f:t.R++;var r=Of(t.B);Nf(r,"SID",t.J),Nf(r,"RID",n),Nf(r,"AID",t.P),Cd(t,r),t.i&&t.l&&vd(r,t.i,t.l),n=new sf(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ad(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Zf(t.b,n),lf(n,r,e)}function Cd(t,e){t.f&&wf({},function(t,n){Nf(e,n,t)})}function Ad(t,e,n){n=Math.min(t.g.length,n);var r=t.f?ul(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{id(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function kd(t){t.a||t.j||(t.T=1,Oh(t.Aa,t),t.o=0)}function xd(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Jh(ul(t.Aa,t),Pd(t,t.o)),t.o++,0))}function Nd(t){null!=t.s&&(tl.clearTimeout(t.s),t.s=null)}function jd(t){t.a=new sf(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Of(t.la);Nf(e,"RID","rpc"),Nf(e,"SID",t.J),Nf(e,"CI",t.H?"0":"1"),Nf(e,"AID",t.P),Cd(t,e),Nf(e,"TYPE","xmlhttp"),t.i&&t.l&&vd(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=jf(Of(e)),n.j=null,n.I=!0,hf(n,t)}function Rd(t){null!=t.m&&(tl.clearTimeout(t.m),t.m=null)}function Dd(t,e){var n=null;if(t.a==e){Rd(t),Nd(t),t.a=null;var r=2}else{if(!Xf(t.b,e))return;n=e.s,td(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ll()-e.u;var i=t.u;yh(r=zh(),new $h(r,n,e,i)),Td(t)}else kd(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Yf(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Jh(ul(t.Ba,t,e),Pd(t,t.u)),t.u++,0)))}(t,e)||2==r&&xd(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Ld(t,5);break;case 4:Ld(t,10);break;case 3:Ld(t,6);break;default:Ld(t,2)}}function Pd(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Ld(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=ul(t.Ya,t);n||(n=new Tf("//www.google.com/images/cleardot.gif"),tl.location&&"http"==tl.location.protocol||Cf(n,"https"),jf(n)),function(t,e){var n=new Uh;if(tl.Image){var r=new Image;r.onload=cl(od,n,r,"TestLoadImage: loaded",!0,e),r.onerror=cl(od,n,r,"TestLoadImage: error",!1,e),r.onabort=cl(od,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=cl(od,n,r,"TestLoadImage: timeout",!1,e),tl.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Wh(2);t.v=0,t.f&&t.f.ra(e),Md(t),Sd(t)}function Md(t){t.v=0,t.I=-1,t.f&&(0==ed(t.b).length&&0==t.g.length||(t.b.c.length=0,gl(t.g),t.g.length=0),t.f.qa())}function Fd(t,e,n){var r=function(t){return t instanceof Tf?Of(t):new Tf(t,void 0)}(n);if(""!=r.c)e&&Af(r,e+"."+r.c),kf(r,r.h);else{var i=tl.location;r=function(t,e,n,r){var i=new Tf(null,void 0);return t&&Cf(i,t),e&&Af(i,e),n&&kf(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Il(t.V,function(t,e){Nf(r,e,t)}),n=t.na,(e=t.A)&&n&&Nf(r,e,n),Nf(r,"VER",t.ha),Cd(t,r),r}function Ud(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ad(t.Na)).F=t.C,e}function Vd(){}function qd(){if(jl&&!(10<=Number(zl)))throw Error("Environmental error: no available transport.")}function Hd(t,e){gh.call(this),this.a=new wd(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!yl(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yl(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Kd(this)}function zd(t){nf.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Bd(){rf.call(this),this.status=1}function Kd(t){this.a=t}(Yc=ad.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:tf),this.a.onreadystatechange=ul(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void fd(this,o)}t=n||"";var i=new _f(this.headers);r&&wf(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=hd,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=tl.FormData&&t instanceof tl.FormData,!(0<=dl(ld,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{gd(this),0<this.o&&((this.D=function(t){return jl&&Hl(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ul(this.xa,this)):this.m=jh(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){fd(this,o)}},Yc.xa=function(){void 0!==Zc&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,yh(this,"timeout"),this.abort(8))},Yc.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,yh(this,"complete"),yh(this,"abort"),md(this))},Yc.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),md(this,!0)),ad.X.G.call(this)},Yc.za=function(){this.j||(this.A||this.l||this.g?pd(this):this.Ua())},Yc.Ua=function(){pd(this)},Yc.W=function(){try{return 2<yd(this)?this.a.status:-1}catch(xl){return-1}},Yc.$=function(){try{return this.a?this.a.responseText:""}catch(xl){return""}},Yc.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),sd(e)}},Yc.ua=function(){return this.h},Yc.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Yc=wd.prototype).ha=8,Yc.v=1,Yc.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new sf(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Cl(r=Tl(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ad(this,n,e),Nf(i=Of(this.B),"RID",t),Nf(i,"CVER",22),this.A&&Nf(i,"X-HTTP-Session-Id",this.A),Cd(this,i),this.i&&r&&vd(i,this.i,r),Zf(this.b,n),this.Ia&&Nf(i,"TYPE","init"),this.da?(Nf(i,"$req",e),Nf(i,"SID","null"),n.U=!0,lf(n,i,null)):lf(n,i,e),this.v=2}}else 3==this.v&&(t?Od(this,t):0==this.g.length||Qf(this.b)||Od(this))},Yc.Aa=function(){if(this.j=null,jd(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Jh(ul(this.Ta,this),t)}},Yc.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Wh(10),Ed(this),jd(this))},Yc.Sa=function(){null!=this.m&&(this.m=null,Ed(this),xd(this),Wh(19))},Yc.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Wh(2)):(this.c.info("Failed to ping google.com"),Wh(1))},(Yc=Vd.prototype).ta=function(){},Yc.sa=function(){},Yc.ra=function(){},Yc.qa=function(){},Yc.Ja=function(){},qd.prototype.a=function(t,e){return new Hd(t,e)},hl(Hd,gh),Hd.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Wh(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Fd(t,null,t.fa),Td(t)},Hd.prototype.close=function(){_d(this.a)},Hd.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Id(this.a,e)}else this.l?((e={}).__data__=bh(t),Id(this.a,e)):Id(this.a,t)},Hd.prototype.G=function(){this.a.f=null,delete this.f,_d(this.a),delete this.a,Hd.X.G.call(this)},hl(zd,nf),hl(Bd,rf),hl(Kd,Vd),Kd.prototype.ta=function(){yh(this.a,"a")},Kd.prototype.sa=function(t){yh(this.a,new zd(t))},Kd.prototype.ra=function(t){yh(this.a,new Bd(t))},Kd.prototype.qa=function(){yh(this.a,"b")},qd.prototype.createWebChannel=qd.prototype.a,Hd.prototype.send=Hd.prototype.h,Hd.prototype.open=Hd.prototype.g,Hd.prototype.close=Hd.prototype.close,Qh.NO_ERROR=0,Qh.TIMEOUT=8,Qh.HTTP_ERROR=6,Yh.COMPLETE="complete",Zh.EventType=ef,ef.OPEN="a",ef.CLOSE="b",ef.ERROR="c",ef.MESSAGE="d",gh.prototype.listen=gh.prototype.va,ad.prototype.listenOnce=ad.prototype.wa,ad.prototype.getLastError=ad.prototype.Qa,ad.prototype.getLastErrorCode=ad.prototype.ua,ad.prototype.getStatus=ad.prototype.W,ad.prototype.getResponseJson=ad.prototype.Pa,ad.prototype.getResponseText=ad.prototype.$,ad.prototype.send=ad.prototype.ba;var Gd=Qh,Wd=Yh,$d=qh,Jd=Zh,Qd=ad,Yd=n("30Go"),Xd=new Wc.b("@firebase/firestore");function Zd(){return Xd.logLevel}function tp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xd.logLevel<=Wc.a.DEBUG){var r=e.map(rp);Xd.debug.apply(Xd,Object(Yd.g)(["Firestore (8.2.2): "+t],r))}}function ep(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xd.logLevel<=Wc.a.ERROR){var r=e.map(rp);Xd.error.apply(Xd,Object(Yd.g)(["Firestore (8.2.2): "+t],r))}}function np(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Xd.logLevel<=Wc.a.WARN){var r=e.map(rp);Xd.warn.apply(Xd,Object(Yd.g)(["Firestore (8.2.2): "+t],r))}}function rp(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(lI){return t}}function ip(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.2) INTERNAL ASSERTION FAILED: "+t;throw ep(e),new Error(e)}function op(t,e){t||ip()}function sp(t,e){return t}function ap(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var up=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=ap(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function cp(t,e){return t<e?-1:t>e?1:0}function lp(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function hp(t){return t+"\0"}var fp=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return cp(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();fp.h=new fp("");var dp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Yd.c)(e,t),e}(Error),mp=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(fp.fromBase64String(e))}catch(e){throw new pp(dp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(fp.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),gp=function(t){this._=t};function yp(){if("undefined"==typeof Uint8Array)throw new pp(dp.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function vp(){if("undefined"==typeof atob)throw new pp(dp.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var bp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yd.c)(e,t),e.fromBase64String=function(t){return vp(),new e(mp.fromBase64String(t))},e.fromUint8Array=function(t){return yp(),new e(mp.fromUint8Array(t))},e.prototype.toBase64=function(){return vp(),this._.toBase64()},e.prototype.toUint8Array=function(){return yp(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(gp),wp=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},_p=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ep=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Ep.UNAUTHENTICATED=new Ep(null),Ep.P=new Ep("google-credentials-uid"),Ep.g=new Ep("first-party-uid");var Sp=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},Ip=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Ep.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Tp=function(){function t(t){var e=this;this.C=null,this.currentUser=Ep.UNAUTHENTICATED,this.N=!1,this.O=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.O++,e.currentUser=e.F(),e.N=!0,e.p&&e.p(e.currentUser)},this.O=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.O,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.O!==e?(tp("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(op("string"==typeof n.accessToken),new Sp(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return op(null===t||"string"==typeof t),new Ep(t)},t}(),Op=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Ep.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Cp=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Op(this.k,this.M))},t.prototype.S=function(t){t(Ep.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Ap=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Ap.U=-1;var kp=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new pp(dp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new pp(dp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new pp(dp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pp(dp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?cp(this.nanoseconds,t.nanoseconds):cp(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),xp=function(){function t(t){this.timestamp=t}return t.j=function(e){return new t(e)},t.min=function(){return new t(new kp(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Np=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ip(),void 0===n?n=t.length-e:n>t.length-e&&ip(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),jp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yd.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new pp(dp.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}(Np),Rp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yd.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Rp.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new pp(dp.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new pp(dp.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new pp(dp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new pp(dp.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Np),Pp=function(){function t(t){this.path=t}return t.ft=function(e){return new t(jp.ct(e))},t.dt=function(e){return new t(jp.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===jp.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return jp.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new jp(e.slice()))},t}();function Lp(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mp(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Fp(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Up=function(){function t(t){this.fields=t,t.sort(Dp.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return lp(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Vp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qp(t){if(op(!!t),"string"==typeof t){var e=0,n=Vp.exec(t);if(op(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Hp(t.seconds),nanos:Hp(t.nanos)}}function Hp(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function zp(t){return"string"==typeof t?fp.fromBase64String(t):fp.fromUint8Array(t)}function Bp(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Kp(t){var e=t.mapValue.fields.__previous_value__;return Bp(e)?Kp(e):e}function Gp(t){var e=qp(t.mapValue.fields.__local_write_time__.timestampValue);return new kp(e.seconds,e.nanos)}function Wp(t){return null==t}function $p(t){return 0===t&&1/t==-1/0}function Jp(t){return"number"==typeof t&&Number.isInteger(t)&&!$p(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Qp(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bp(t)?4:10:ip()}function Yp(t,e){var n=Qp(t);if(n!==Qp(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gp(t).isEqual(Gp(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=qp(t.timestampValue),r=qp(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return zp(t.bytesValue).isEqual(zp(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Hp(t.geoPointValue.latitude)===Hp(e.geoPointValue.latitude)&&Hp(t.geoPointValue.longitude)===Hp(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Hp(t.integerValue)===Hp(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Hp(t.doubleValue),r=Hp(e.doubleValue);return n===r?$p(n)===$p(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return lp(t.arrayValue.values||[],e.arrayValue.values||[],Yp);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Lp(n)!==Lp(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Yp(n[i],r[i])))return!1;return!0}(t,e);default:return ip()}}function Xp(t,e){return void 0!==(t.values||[]).find(function(t){return Yp(t,e)})}function Zp(t,e){var n=Qp(t),r=Qp(e);if(n!==r)return cp(n,r);switch(n){case 0:return 0;case 1:return cp(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Hp(t.integerValue||t.doubleValue),r=Hp(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return tm(t.timestampValue,e.timestampValue);case 4:return tm(Gp(t),Gp(e));case 5:return cp(t.stringValue,e.stringValue);case 6:return function(t,e){var n=zp(t),r=zp(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=cp(n[i],r[i]);if(0!==o)return o}return cp(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=cp(Hp(t.latitude),Hp(e.latitude));return 0!==n?n:cp(Hp(t.longitude),Hp(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Zp(n[i],r[i]);if(o)return o}return cp(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=cp(r[s],o[s]);if(0!==a)return a;var u=Zp(n[r[s]],i[o[s]]);if(0!==u)return u}return cp(r.length,o.length)}(t.mapValue,e.mapValue);default:throw ip()}}function tm(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return cp(t,e);var n=qp(t),r=qp(e),i=cp(n.seconds,r.seconds);return 0!==i?i:cp(n.nanos,r.nanos)}function em(t){return nm(t)}function nm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=qp(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?zp(t.bytesValue).toBase64():"referenceValue"in t?Pp.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=nm(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+nm(t.fields[o])}return e+"}"}(t.mapValue):ip();var e}function rm(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function im(t){return!!t&&"integerValue"in t}function om(t){return!!t&&"arrayValue"in t}function sm(t){return!!t&&"nullValue"in t}function am(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function um(t){return!!t&&"mapValue"in t}var cm=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!um(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return Yp(this.proto,t.proto)},t}(),lm=function(){function t(t){void 0===t&&(t=cm.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Qp(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Dp.at(),this.Rt);return null!=t?new cm(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=um(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function hm(t){var e=[];return Mp(t.fields||{},function(t,n){var r=new Dp([t]);if(um(n)){var i=hm(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Up(e)}var fm=function(t,e){this.key=t,this.version=e},dm=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Yd.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(fm),pm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Yd.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(fm),mm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yd.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(fm),gm=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function ym(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new gm(t,e,n,r,i,o,s)}function vm(t){var e=sp(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+em(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),Wp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Nm(e.startAt)),e.endAt&&(n+="|ub:",n+=Nm(e.endAt)),e.St=n}return e.St}function bm(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Rm(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Yp(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pm(t.startAt,e.startAt)&&Pm(t.endAt,e.endAt)}function wm(t){return Pp.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var _m=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Yd.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Em(t,n,r):"array-contains"===n?new Om(t,r):"in"===n?new Cm(t,r):"not-in"===n?new Am(t,r):"array-contains-any"===n?new km(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Sm(t,n):new Im(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Zp(e,this.value)):null!==e&&Qp(this.value)===Qp(e)&&this.Ct(Zp(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ip()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Em=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Pp.dt(r.referenceValue),i}return Object(Yd.c)(e,t),e.prototype.matches=function(t){var e=Pp.J(t.key,this.key);return this.Ct(e)},e}(_m),Sm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Tm(0,n),r}return Object(Yd.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(_m),Im=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Tm(0,n),r}return Object(Yd.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(_m);function Tm(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Pp.dt(t.referenceValue)})}var Om=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Yd.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return om(e)&&Xp(e.arrayValue,this.value)},e}(_m),Cm=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Yd.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Xp(this.value.arrayValue,e)},e}(_m),Am=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Yd.c)(e,t),e.prototype.matches=function(t){if(Xp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Xp(this.value.arrayValue,e)},e}(_m),km=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Yd.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!om(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Xp(e.value.arrayValue,t)})},e}(_m),xm=function(t,e){this.position=t,this.before=e};function Nm(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return em(t)}).join(",")}var jm=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Rm(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Dm(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?Pp.J(Pp.dt(s.referenceValue),n.key):Zp(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Pm(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Yp(t.position[n],e.position[n]))return!1;return!0}var Lm=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ot=null,this.Ft=null};function Mm(t,e,n,r,i,o,s,a){return new Lm(t,e,n,r,i,o,s,a)}function Fm(t){return new Lm(t)}function Um(t){return!Wp(t.limit)&&"F"===t.limitType}function Vm(t){return!Wp(t.limit)&&"L"===t.limitType}function qm(t){return t.Nt.length>0?t.Nt[0].field:null}function Hm(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function zm(t){return null!==t.collectionGroup}function Bm(t){var e=sp(t);if(null===e.Ot){e.Ot=[];var n=Hm(e),r=qm(e);if(null!==n&&null===r)n.ht()||e.Ot.push(new jm(n)),e.Ot.push(new jm(Dp.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var a=s[o];e.Ot.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ot.push(new jm(Dp.lt(),u))}}}return e.Ot}function Km(t){var e=sp(t);if(!e.Ft)if("F"===e.limitType)e.Ft=ym(e.path,e.collectionGroup,Bm(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Bm(e);r<i.length;r++){var o=i[r];n.push(new jm(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new xm(e.endAt.position,!e.endAt.before):null,a=e.startAt?new xm(e.startAt.position,!e.startAt.before):null;e.Ft=ym(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.Ft}function Gm(t,e,n){return new Lm(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wm(t,e){return bm(Km(t),Km(e))&&t.limitType===e.limitType}function $m(t){return vm(Km(t))+"|lt:"+t.limitType}function Jm(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+em(e.value);var e}).join(", ")+"]"),Wp(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Nm(t.startAt)),t.endAt&&(e+=", endAt: "+Nm(t.endAt)),"Target("+e+")"}(Km(t))+"; limitType="+t.limitType+")"}function Qm(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Pp.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Dm(t.startAt,Bm(t),e)||t.endAt&&Dm(t.endAt,Bm(t),e))}(t,e)}function Ym(t){return function(e,n){for(var r=!1,i=0,o=Bm(t);i<o.length;i++){var s=o[i],a=Xm(s,e,n);if(0!==a)return a;r=r||s.field.ht()}return 0}}function Xm(t,e,n){var r=t.field.ht()?Pp.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Zp(r,i):ip()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ip()}}var Zm=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=xp.min()),void 0===o&&(o=xp.min()),void 0===s&&(s=fp.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function tg(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$p(e)?"-0":e}}function eg(t){return{integerValue:""+t}}function ng(t,e){return Jp(e)?eg(e):tg(t,e)}var rg=function(){this.Ut=void 0};function ig(t,e,n){return t instanceof ag?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ug?cg(t,e):t instanceof lg?hg(t,e):function(t,e){var n=sg(t,e),r=dg(n)+dg(t.Qt);return im(n)&&im(t.Qt)?eg(r):tg(t.Kt,r)}(t,e)}function og(t,e,n){return t instanceof ug?cg(t,e):t instanceof lg?hg(t,e):n}function sg(t,e){return t instanceof fg?im(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var ag=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yd.c)(e,t),e}(rg),ug=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Yd.c)(e,t),e}(rg);function cg(t,e){for(var n=pg(e),r=function(t){n.some(function(e){return Yp(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var lg=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Yd.c)(e,t),e}(rg);function hg(t,e){for(var n=pg(e),r=function(t){n=n.filter(function(e){return!Yp(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var fg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(Yd.c)(e,t),e}(rg);function dg(t){return Hp(t.integerValue||t.doubleValue)}function pg(t){return om(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var mg=function(t,e){this.field=t,this.transform=e},gg=function(t,e){this.version=t,this.transformResults=e},yg=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.jt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function vg(t,e){return void 0!==t.updateTime?e instanceof dm&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof dm}var bg=function(){};function wg(t,e,n){return t instanceof Tg?function(t,e,n){var r=t.value;if(n.transformResults){var i=Ag(t.fieldTransforms,e,n.transformResults);r=xg(t.fieldTransforms,r,i)}return new dm(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Og?function(t,e,n){if(!vg(t.Gt,e))return new mm(t.key,n.version);var r=Cg(t,e,n.transformResults?Ag(t.fieldTransforms,e,n.transformResults):[]);return new dm(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new pm(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function _g(t,e,n,r){return t instanceof Tg?function(t,e,n,r){if(!vg(t.Gt,e))return e;var i=t.value,o=kg(t.fieldTransforms,n,e);i=xg(t.fieldTransforms,i,o);var s=Ig(e);return new dm(t.key,s,i,{bt:!0})}(t,e,r):t instanceof Og?function(t,e,n,r){if(!vg(t.Gt,e))return e;var i=Ig(e),o=Cg(t,e,kg(t.fieldTransforms,n,e));return new dm(t.key,i,o,{bt:!0})}(t,e,r):function(t,e){return vg(t.Gt,e)?new pm(t.key,xp.min()):e}(t,e)}function Eg(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof dm?e.field(o.field):void 0,a=sg(o.transform,s||null);null!=a&&(n=null==n?(new lm).set(o.field,a):n.set(o.field,a))}return n?n.yt():null}(t.fieldTransforms,e)}function Sg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&lp(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ug&&e instanceof ug||t instanceof lg&&e instanceof lg?lp(t.elements,e.elements,Yp):t instanceof fg&&e instanceof fg?Yp(t.Qt,e.Qt):t instanceof ag&&e instanceof ag}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Ig(t){return t instanceof dm?t.version:xp.min()}var Tg=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(Yd.c)(e,t),e}(bg),Og=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(Yd.c)(e,t),e}(bg);function Cg(t,e,n){var r;return r=function(t,e){var n=new lm(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof dm?e.data():cm.empty()),xg(t.fieldTransforms,r,n)}function Ag(t,e,n){var r=[];op(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof dm&&(a=e.field(o.field)),r.push(og(s,a,n[i]))}return r}function kg(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof dm&&(c=n.field(a.field)),i.push(ig(u,c,e))}return i}function xg(t,e,n){for(var r=new lm(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var Ng,jg,Rg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(Yd.c)(e,t),e}(bg),Dg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(Yd.c)(e,t),e}(bg),Pg=function(t){this.count=t};function Lg(t){switch(t){case dp.OK:return ip();case dp.CANCELLED:case dp.UNKNOWN:case dp.DEADLINE_EXCEEDED:case dp.RESOURCE_EXHAUSTED:case dp.INTERNAL:case dp.UNAVAILABLE:case dp.UNAUTHENTICATED:return!1;case dp.INVALID_ARGUMENT:case dp.NOT_FOUND:case dp.ALREADY_EXISTS:case dp.PERMISSION_DENIED:case dp.FAILED_PRECONDITION:case dp.ABORTED:case dp.OUT_OF_RANGE:case dp.UNIMPLEMENTED:case dp.DATA_LOSS:return!0;default:return ip()}}function Mg(t){if(void 0===t)return ep("GRPC error has no .code"),dp.UNKNOWN;switch(t){case Ng.OK:return dp.OK;case Ng.CANCELLED:return dp.CANCELLED;case Ng.UNKNOWN:return dp.UNKNOWN;case Ng.DEADLINE_EXCEEDED:return dp.DEADLINE_EXCEEDED;case Ng.RESOURCE_EXHAUSTED:return dp.RESOURCE_EXHAUSTED;case Ng.INTERNAL:return dp.INTERNAL;case Ng.UNAVAILABLE:return dp.UNAVAILABLE;case Ng.UNAUTHENTICATED:return dp.UNAUTHENTICATED;case Ng.INVALID_ARGUMENT:return dp.INVALID_ARGUMENT;case Ng.NOT_FOUND:return dp.NOT_FOUND;case Ng.ALREADY_EXISTS:return dp.ALREADY_EXISTS;case Ng.PERMISSION_DENIED:return dp.PERMISSION_DENIED;case Ng.FAILED_PRECONDITION:return dp.FAILED_PRECONDITION;case Ng.ABORTED:return dp.ABORTED;case Ng.OUT_OF_RANGE:return dp.OUT_OF_RANGE;case Ng.UNIMPLEMENTED:return dp.UNIMPLEMENTED;case Ng.DATA_LOSS:return dp.DATA_LOSS;default:return ip()}}(jg=Ng||(Ng={}))[jg.OK=0]="OK",jg[jg.CANCELLED=1]="CANCELLED",jg[jg.UNKNOWN=2]="UNKNOWN",jg[jg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jg[jg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jg[jg.NOT_FOUND=5]="NOT_FOUND",jg[jg.ALREADY_EXISTS=6]="ALREADY_EXISTS",jg[jg.PERMISSION_DENIED=7]="PERMISSION_DENIED",jg[jg.UNAUTHENTICATED=16]="UNAUTHENTICATED",jg[jg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jg[jg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jg[jg.ABORTED=10]="ABORTED",jg[jg.OUT_OF_RANGE=11]="OUT_OF_RANGE",jg[jg.UNIMPLEMENTED=12]="UNIMPLEMENTED",jg[jg.INTERNAL=13]="INTERNAL",jg[jg.UNAVAILABLE=14]="UNAVAILABLE",jg[jg.DATA_LOSS=15]="DATA_LOSS";var Fg=function(){function t(t,e){this.J=t,this.root=e||Vg.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,Vg.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,Vg.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new Ug(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new Ug(this.root,t,this.J,!1)},t.prototype.se=function(){return new Ug(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new Ug(this.root,t,this.J,!0)},t}(),Ug=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),Vg=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw ip();if(this.right._e())throw ip();var t=this.left.me();if(t!==this.right.me())throw ip();return t+(this._e()?0:1)},t}();Vg.EMPTY=null,Vg.RED=!0,Vg.Jt=!1,Vg.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ip()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ip()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ip()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ip()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ip()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new Vg(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var qg=function(){function t(t){this.J=t,this.data=new Fg(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new Hg(this.data.ee())},t.prototype.ne=function(t){return new Hg(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),Hg=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),zg=new Fg(Pp.J);function Bg(){return zg}function Kg(){return Bg()}var Gg=new Fg(Pp.J);function Wg(){return Gg}var $g=new Fg(Pp.J);function Jg(){return $g}var Qg=new qg(Pp.J);function Yg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Qg,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Xg=new qg(cp);function Zg(){return Xg}var ty=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Pp.J(e.key,n.key)}:function(t,e){return Pp.J(t.key,e.key)},this.Ve=Wg(),this.pe=new Fg(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),ey=function(){function t(){this.ve=new Fg(Pp.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):ip():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),ny=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=a}return t.Oe=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,ty.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&Wm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ry=function(){function t(t,e,n,r,i){this.Mt=t,this.Fe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,iy.Be(e,n)),new t(xp.min(),r,Zg(),Bg(),Yg())},t}(),iy=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(fp.h,n,Yg(),Yg(),Yg())},t}(),oy=function(t,e,n,r){this.je=t,this.removedTargetIds=e,this.key=n,this.We=r},sy=function(t,e){this.targetId=t,this.Ge=e},ay=function(t,e,n,r){void 0===n&&(n=fp.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},uy=function(){function t(){this.ze=0,this.He=hy(),this.Je=fp.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=Yg(),e=Yg(),n=Yg();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ip()}}),new iy(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=hy()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),cy=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Bg(),this.fn=ly(),this.dn=new qg(cp)}return t.prototype.wn=function(t){for(var e=0,n=t.je;e<n.length;e++){var r=n[e];t.We instanceof dm?this.En(r,t.We):t.We instanceof pm&&this.Tn(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.We)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:ip()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(wm(i))if(0===n){var o=new Pp(i.path);this.Tn(e,o,new pm(o,xp.min()))}else op(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var o=e.gn(i);if(o){if(r.qe&&wm(o.target)){var s=new Pp(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new pm(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=Yg();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new ry(t,n,this.dn,this._n,r);return this._n=Bg(),this.fn=ly(),this.dn=new qg(cp),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new uy,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new qg(cp),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||tp("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new uy),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function ly(){return new Fg(Pp.J)}function hy(){return new Fg(Pp.J)}var fy={asc:"ASCENDING",desc:"DESCENDING"},dy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},py=function(t,e){this.T=t,this.qt=e};function my(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function gy(t,e){return t.qt?e.toBase64():e.toUint8Array()}function yy(t,e){return my(t,e.G())}function vy(t){return op(!!t),xp.j(function(t){var e=qp(t);return new kp(e.seconds,e.nanos)}(t))}function by(t,e){return function(t){return new jp(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function wy(t){var e=jp.ct(t);return op(By(e)),e}function _y(t,e){return by(t.T,e.path)}function Ey(t,e){var n=wy(e);if(n.get(1)!==t.T.projectId)throw new pp(dp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new pp(dp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Pp(Oy(n))}function Sy(t,e){return by(t.T,e)}function Iy(t){var e=wy(t);return 4===e.length?jp.at():Oy(e)}function Ty(t){return new jp(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Oy(t){return op(t.length>4&&"documents"===t.get(4)),t.X(5)}function Cy(t,e,n){return{name:_y(t,e),fields:n.proto.mapValue.fields}}function Ay(t,e,n){var r=Ey(t,e.name),i=vy(e.updateTime),o=new cm({mapValue:{fields:e.fields}});return new dm(r,i,o,{hasCommittedMutations:!!n})}function ky(t,e){var n;if(e instanceof Tg)n={update:Cy(t,e.key,e.value)};else if(e instanceof Rg)n={delete:_y(t,e.key)};else if(e instanceof Og)n={update:Cy(t,e.key,e.data),updateMask:zy(e.zt)};else{if(!(e instanceof Dg))return ip();n={verify:_y(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof ag)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof ug)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof lg)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof fg)return{fieldPath:e.field.ot(),increment:n.Qt};throw ip()}(0,t)})),e.Gt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:yy(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ip()}(t,e.Gt)),n}function xy(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?yg.updateTime(vy(t.updateTime)):void 0!==t.exists?yg.exists(t.exists):yg.jt()}(e.currentDocument):yg.jt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(op("REQUEST_TIME"===e.setToServerValue),n=new ag):"appendMissingElements"in e?n=new ug(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new lg(e.removeAllFromArray.values||[]):"increment"in e?n=new fg(t,e.increment):ip();var r=Dp._t(e.fieldPath);return new mg(r,n)}(t,e)}):[];if(e.update){var i=Ey(t,e.update.name),o=new cm({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Up((t.fieldPaths||[]).map(function(t){return Dp._t(t)}))}(e.updateMask);return new Og(i,o,s,n,r)}return new Tg(i,o,n,r)}if(e.delete){var a=Ey(t,e.delete);return new Rg(a,n)}if(e.verify){var u=Ey(t,e.verify);return new Dg(u,n)}return ip()}function Ny(t,e){return{documents:[Sy(t,e.path)]}}function jy(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Sy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Sy(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(am(t.value))return{unaryFilter:{field:Uy(t.field),op:"IS_NAN"}};if(sm(t.value))return{unaryFilter:{field:Uy(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(am(t.value))return{unaryFilter:{field:Uy(t.field),op:"IS_NOT_NAN"}};if(sm(t.value))return{unaryFilter:{field:Uy(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uy(t.field),op:Fy(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Uy(t.field),direction:My(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||Wp(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Py(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Py(e.endAt)),n}function Ry(t){var e=Iy(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){op(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Dy(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new jm(Vy(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Wp(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ly(n.startAt));var l=null;return n.endAt&&(l=Ly(n.endAt)),Mm(e,i,a,s,u,"F",c,l)}function Dy(t){return t?void 0!==t.unaryFilter?[Hy(t)]:void 0!==t.fieldFilter?[qy(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Dy(t)}).reduce(function(t,e){return t.concat(e)}):ip():[]}function Py(t){return{before:t.before,values:t.position}}function Ly(t){return new xm(t.values||[],!!t.before)}function My(t){return fy[t]}function Fy(t){return dy[t]}function Uy(t){return{fieldPath:t.ot()}}function Vy(t){return Dp._t(t.fieldPath)}function qy(t){return _m.create(Vy(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ip()}}(t.fieldFilter.op),t.fieldFilter.value)}function Hy(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Vy(t.unaryFilter.field);return _m.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Vy(t.unaryFilter.field);return _m.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Vy(t.unaryFilter.field);return _m.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Vy(t.unaryFilter.field);return _m.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ip()}}function zy(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function By(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ky=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Gy=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.On=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.On&&ip(),this.On=!0,this.Nn?this.error?this.Fn(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.Fn(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),Wy=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new Ky,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new Qy(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=ev(e.target.error);n.qn.reject(new Qy(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Qy(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(tp("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Xy(e)},t}(),$y=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object($c.g)())&&ep("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return tp("SimpleDb","Removing database:",t),Zy(window.indexedDB.deleteDatabase(t)).Mn()},t.jn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object($c.g)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(Yd.b)(this,void 0,void 0,function(){var e,n=this;return Object(Yd.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(tp("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Qy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new pp(dp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Qy(t,n))},i.onupgradeneeded=function(t){tp("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){tp("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Yd.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(Yd.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Yd.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=Wy.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Gy.reject(t)}).Mn(),u={},s.catch(function(){}),[4,e.Un];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return tp("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Jy=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return Zy(this.ts.delete())},t}(),Qy=function(t){function e(e,n){var r=this;return(r=t.call(this,dp.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Yd.c)(e,t),e}(pp);function Yy(t){return"IndexedDbTransactionError"===t.name}var Xy=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(tp("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(tp("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Zy(n)},t.prototype.add=function(t){return tp("SimpleDb","ADD",this.store.name,t,t),Zy(this.store.add(t))},t.prototype.get=function(t){var e=this;return Zy(this.store.get(t)).next(function(n){return void 0===n&&(n=null),tp("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return tp("SimpleDb","DELETE",this.store.name,t),Zy(this.store.delete(t))},t.prototype.count=function(){return tp("SimpleDb","COUNT",this.store.name),Zy(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){tp("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new Gy(function(n,r){e.onerror=function(t){var e=ev(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new Gy(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Jy(i),s=e(i.primaryKey,i.value,o);if(s instanceof Gy){var a=s.catch(function(t){return o.done(),Gy.reject(t)});n.push(a)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}}).next(function(){return Gy.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Zy(t){return new Gy(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ev(t.target.error);n(e)}})}var tv=!1;function ev(t){var e=$y.Kn(Object($c.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new pp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return tv||(tv=!0,setTimeout(function(){throw r},0)),r}}return t}var nv=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new Ky,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new pp(dp.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function rv(t,e){if(ep("AsyncQueue",e+": "+t),Yy(t))return new pp(dp.UNAVAILABLE,e+": "+t);throw t}var iv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ov=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach(function(t){return t()})},t}();function sv(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=uv(e)),e=av(t.get(n),e);return uv(e)}function av(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function uv(t){return t+"\x01\x01"}function cv(t){var e=t.length;if(op(e>=2),2===e)return op("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),jp.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&ip(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:ip()}o=s+2}return new jp(r)}var lv=function(t,e){this.seconds=t,this.nanoseconds=e},hv=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};hv.store="owner",hv.key="owner";var fv=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};fv.store="mutationQueues",fv.keyPath="userId";var dv=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};dv.store="mutations",dv.keyPath="batchId",dv.userMutationsIndex="userMutationsIndex",dv.userMutationsKeyPath=["userId","batchId"];var pv=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,sv(e)]},t.key=function(t,e,n){return[t,sv(e),n]},t}();pv.store="documentMutations",pv.PLACEHOLDER=new pv;var mv=function(t,e){this.path=t,this.readTime=e},gv=function(t,e){this.path=t,this.version=e},yv=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};yv.store="remoteDocuments",yv.readTimeIndex="readTimeIndex",yv.readTimeIndexPath="readTime",yv.collectionReadTimeIndex="collectionReadTimeIndex",yv.collectionReadTimeIndexPath=["parentPath","readTime"];var vv=function(t){this.byteSize=t};vv.store="remoteDocumentGlobal",vv.key="remoteDocumentGlobalKey";var bv=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};bv.store="targets",bv.keyPath="targetId",bv.queryTargetsIndexName="queryTargetsIndex",bv.queryTargetsKeyPath=["canonicalId","targetId"];var wv=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};wv.store="targetDocuments",wv.keyPath=["targetId","path"],wv.documentTargetsIndex="documentTargetsIndex",wv.documentTargetsKeyPath=["path","targetId"];var _v=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};_v.key="targetGlobalKey",_v.store="targetGlobal";var Ev=function(t,e){this.collectionId=t,this.parent=e};Ev.store="collectionParents",Ev.keyPath=["collectionId","parent"];var Sv=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Sv.store="clientMetadata",Sv.keyPath="clientId";var Iv=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Iv.store="bundles",Iv.keyPath="bundleId";var Tv=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Tv.store="namedQueries",Tv.keyPath="name";var Ov=Object(Yd.g)(Object(Yd.g)(Object(Yd.g)(Object(Yd.g)([fv.store,dv.store,pv.store,yv.store,bv.store,hv.store,_v.store,wv.store],[Sv.store]),[vv.store]),[Ev.store]),[Iv.store,Tv.store]),Cv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(Yd.c)(e,t),e}(ov);function Av(t,e){var n=sp(t);return $y.Hn(n.bs,e)}var kv=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=wg(o,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=_g(s,e,0,this.Ss));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=_g(s,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Yg())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&lp(this.mutations,t.mutations,function(t,e){return Sg(t,e)})&&lp(this.baseMutations,t.baseMutations,function(t,e){return Sg(t,e)})},t}(),xv=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.Cs=n,this.Fs=r}return t.from=function(e,n,r){op(e.mutations.length===r.length);for(var i=Jg(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Nv=function(t){this.ks=t};function jv(t,e){if(e.document)return Ay(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Pp.Tt(e.noDocument.path),r=Mv(e.noDocument.readTime);return new pm(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Pp.Tt(e.unknownDocument.path);return r=Mv(e.unknownDocument.version),new mm(i,r)}return ip()}function Rv(t,e,n){var r=Dv(n),i=e.key.path.Z().rt();if(e instanceof dm){var o=function(t,e){return{name:_y(t,e.key),fields:e.vt().mapValue.fields,updateTime:my(t,e.version.G())}}(t.ks,e),s=e.hasCommittedMutations;return new yv(null,null,o,s,r,i)}if(e instanceof pm){var a=e.key.path.rt(),u=Lv(e.version);return s=e.hasCommittedMutations,new yv(null,new mv(a,u),null,s,r,i)}if(e instanceof mm){var c=e.key.path.rt(),l=Lv(e.version);return new yv(new gv(c,l),null,null,!0,r,i)}return ip()}function Dv(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Pv(t){var e=new kp(t[0],t[1]);return xp.j(e)}function Lv(t){var e=t.G();return new lv(e.seconds,e.nanoseconds)}function Mv(t){var e=new kp(t.seconds,t.nanoseconds);return xp.j(e)}function Fv(t,e){for(var n=(e.baseMutations||[]).map(function(e){return xy(t.ks,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map(function(e){return xy(t.ks,e)}),s=kp.fromMillis(e.localWriteTimeMs);return new kv(e.batchId,s,n,o)}function Uv(t){var e,n,r=Mv(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Mv(t.lastLimboFreeSnapshotVersion):xp.min();return void 0!==t.query.documents?(op(1===(n=t.query).documents.length),e=Km(Fm(Iy(n.documents[0])))):e=function(t){return Km(Ry(t))}(t.query),new Zm(e,t.targetId,0,t.lastListenSequenceNumber,r,i,fp.fromBase64String(t.resumeToken))}function Vv(t,e){var n,r=Lv(e.Mt),i=Lv(e.lastLimboFreeSnapshotVersion);n=wm(e.target)?Ny(t.ks,e.target):jy(t.ks,e.target);var o=e.resumeToken.toBase64();return new bv(e.targetId,vm(e.target),r,o,e.sequenceNumber,i,n)}function qv(t){var e=Ry({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Gm(e,e.limit,"L"):e}var Hv=function(){function t(){}return t.prototype.Ms=function(t,e){return zv(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Mv(e.createTime),version:e.version};var e})},t.prototype.Ls=function(t,e){return zv(t).put({bundleId:(n=e).id,createTime:Lv(vy(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return Bv(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:qv(e.bundledQuery),readTime:Mv(e.readTime)};var e})},t.prototype.Bs=function(t,e){return Bv(t).put(function(t){return{name:t.name,readTime:Lv(vy(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function zv(t){return Av(t,Iv.store)}function Bv(t){return Av(t,Tv.store)}var Kv=function(){function t(){this.qs=new Gv}return t.prototype.Us=function(t,e){return this.qs.add(e),Gy.resolve()},t.prototype.Qs=function(t,e){return Gy.resolve(this.qs.getEntries(e))},t}(),Gv=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new qg(jp.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new qg(jp.J)).rt()},t}(),Wv=function(){function t(){this.Ks=new Gv}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs(function(){n.Ks.add(e)});var o={collectionId:r,parent:sv(i)};return $v(t).put(o)}return Gy.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[hp(e),""],!1,!0);return $v(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(cv(o.parent))}return n})},t}();function $v(t){return Av(t,Ev.store)}var Jv={js:!1,Ws:0,Gs:0,zs:0},Qv=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function Yv(t){return Object(Yd.b)(this,void 0,void 0,function(){return Object(Yd.d)(this,function(e){if(t.code!==dp.FAILED_PRECONDITION||t.message!==iv)throw t;return tp("LocalStore","Unexpectedly lost primary lease"),[2]})})}Qv.Zs=10,Qv.ti=1e3,Qv.ei=new Qv(41943040,Qv.Zs,Qv.ti),Qv.ni=new Qv(-1,0,0);var Xv=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ii(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Mp(this.ri,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.nt=function(){return Fp(this.ri)},t}(),Zv=function(){function t(){this.oi=new Xv(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:xp.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?Gy.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function tb(t,e,n){var r=t.store(dv.store),i=t.store(pv.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){op(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=pv.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Gy.$n(o).next(function(){return c})}function eb(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ip();e=t.noDocument}return JSON.stringify(e).length}var nb=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return op(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ib(t).ls({index:dv.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Pi=function(t,e,n,r){var i=this,o=ob(t),s=ib(t);return s.add({}).next(function(a){op("number"==typeof a);for(var u=new kv(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return ky(t.ks,e)}),i=n.mutations.map(function(e){return ky(t.ks,e)});return new dv(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new qg(function(t,e){return cp(t.ot(),e.ot())}),f=0,d=r;f<d.length;f++){var p=d[f],m=pv.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(s.put(c)),l.push(o.put(m,pv.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ti.Us(t,e))}),t.Vs(function(){i.mi[a]=u.keys()}),Gy.$n(l).next(function(){return u})})},t.prototype.yi=function(t,e){var n=this;return ib(t).get(e).next(function(t){return t?(op(t.userId===n.userId),Fv(n.Kt,t)):null})},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?Gy.resolve(this.mi[e]):this.yi(t,e).next(function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null})},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ib(t).ls({index:dv.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(op(e.batchId>=r),o=Fv(n.Kt,e)),i.done()}).next(function(){return o})},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ib(t).ls({index:dv.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ib(t).os(dv.userMutationsIndex,n).next(function(t){return t.map(function(t){return Fv(e.Kt,t)})})},t.prototype.vi=function(t,e){var n=this,r=pv.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ob(t).ls({range:i},function(r,i,s){var a=r[0],u=r[2],c=cv(r[1]);if(a===n.userId&&e.path.isEqual(c))return ib(t).get(u).next(function(t){if(!t)throw ip();op(t.userId===n.userId),o.push(Fv(n.Kt,t))});s.done()}).next(function(){return o})},t.prototype.Si=function(t,e){var n=this,r=new qg(cp),i=[];return e.forEach(function(e){var o=pv.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=ob(t).ls({range:s},function(t,i,o){var s=t[0],a=t[2],u=cv(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Gy.$n(i).next(function(){return n.Di(t,r)})},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,o=pv.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new qg(cp);return ob(t).ls({range:s},function(t,e,o){var s=t[0],u=t[2],c=cv(t[1]);s===n.userId&&r.st(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Di(t,a)})},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(ib(t).get(e).next(function(t){if(null===t)throw ip();op(t.userId===n.userId),r.push(Fv(n.Kt,t))}))}),Gy.$n(i).next(function(){return r})},t.prototype.xi=function(t,e){var n=this;return tb(t.bs,this.userId,e).next(function(r){return t.Vs(function(){n.Ni(e.batchId)}),Gy.forEach(r,function(e){return n.Ii.Oi(t,e)})})},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Fi=function(t){var e=this;return this.Ri(t).next(function(n){if(!n)return Gy.resolve();var r=IDBKeyRange.lowerBound(pv.prefixForUser(e.userId)),i=[];return ob(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var o=cv(t[1]);i.push(o)}else r.done()}).next(function(){op(0===i.length)})})},t.prototype.ki=function(t,e){return rb(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return sb(t).get(this.userId).next(function(t){return t||new fv(e.userId,-1,"")})},t}();function rb(t,e,n){var r=pv.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return ob(t).ls({range:o,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function ib(t){return Av(t,dv.store)}function ob(t){return Av(t,pv.store)}function sb(t){return Av(t,fv.store)}var ab=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),ub=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next(function(n){var r=new ab(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next(function(){return n.highestTargetId})})},t.prototype.Ki=function(t){return this.Ui(t).next(function(t){return xp.j(new kp(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.ji=function(t){return this.Ui(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.Ui(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)})},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next(function(){return n.Ui(t).next(function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)})})},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next(function(){return cb(t).delete(e.targetId)}).next(function(){return n.Ui(t)}).next(function(e){return op(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)})},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return cb(t).ls(function(s,a){var u=Uv(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Yi(t,u)))}).next(function(){return Gy.$n(o)}).next(function(){return i})},t.prototype.mn=function(t,e){return cb(t).ls(function(t,n){var r=Uv(n);e(r)})},t.prototype.Ui=function(t){return lb(t).get(_v.key).next(function(t){return op(null!==t),t})},t.prototype.Qi=function(t,e){return lb(t).put(_v.key,e)},t.prototype.zi=function(t,e){return cb(t).put(Vv(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next(function(t){return t.targetCount})},t.prototype.er=function(t,e){var n=vm(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return cb(t).ls({range:r,index:bv.queryTargetsIndexName},function(t,n,r){var o=Uv(n);bm(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.nr=function(t,e,n){var r=this,i=[],o=hb(t);return e.forEach(function(e){var s=sv(e.path);i.push(o.put(new wv(n,s))),i.push(r.Ii.sr(t,n,e))}),Gy.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=hb(t);return Gy.forEach(e,function(e){var o=sv(e.path);return Gy.$n([i.delete([n,o]),r.Ii.rr(t,n,e)])})},t.prototype.Xi=function(t,e){var n=hb(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=hb(t),i=Yg();return r.ls({range:n,hs:!0},function(t,e,n){var r=cv(t[1]),o=new Pp(r);i=i.add(o)}).next(function(){return i})},t.prototype.ki=function(t,e){var n=sv(e.path),r=IDBKeyRange.bound([n],[hp(n)],!1,!0),i=0;return hb(t).ls({index:wv.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return cb(t).get(e).next(function(t){return t?Uv(t):null})},t}();function cb(t){return Av(t,bv.store)}function lb(t){return Av(t,_v.store)}function hb(t){return Av(t,wv.store)}function fb(t,e){var n=t[1],r=e[1],i=cp(t[0],e[0]);return 0===i?cp(n,r):i}var db=function(){function t(t){this.ar=t,this.buffer=new qg(fb),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();fb(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),pb=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;tp("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,function(){return Object(Yd.b)(e,void 0,void 0,function(){var e;return Object(Yd.d)(this,function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return Yy(e=n.sent())?(tp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Yv(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}})})})},t}(),mb=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.yr=function(t,e){var n=this;if(0===e)return Gy.resolve(Ap.U);var r=new db(e);return this.Ar.mn(t,function(t){return r.lr(t.sequenceNumber)}).next(function(){return n.Ar.gr(t,function(t){return r.lr(t)})}).next(function(){return r.maxValue})},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(tp("LruGarbageCollector","Garbage collection skipped; disabled"),Gy.resolve(Jv)):this.br(t).next(function(r){return r<n.params.Hs?(tp("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),Jv):n.vr(t,e)})},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Rr(t,this.params.Js).next(function(e){return e>c.params.Ys?(tp("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),r=c.params.Ys):r=e,o=Date.now(),c.yr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Zi(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.Vr(t,n)}).next(function(t){return u=Date.now(),Zd()<=Wc.a.DEBUG&&tp("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Gy.resolve({js:!0,Ws:r,Gs:i,zs:t})})},t}(),gb=function(){function t(t,e){this.db=t,this._r=function(t,e){return new mb(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Sr=function(t){var e=0;return this.gr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,function(t,n){return e(n)})},t.prototype.sr=function(t,e,n){return yb(t,n)},t.prototype.rr=function(t,e,n){return yb(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Oi=function(t,e){return yb(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return sb(t)._s(function(r){return rb(t,r,e).next(function(t){return t&&(n=!0),Gy.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Fr().Or(),i=[],o=0;return this.Cr(t,function(s,a){if(a<=e){var u=n.Nr(t,s).next(function(e){if(!e)return o++,r.fi(t,s).next(function(){return r._i(s),hb(t).delete([0,sv(s.path)])})});i.push(u)}}).next(function(){return Gy.$n(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return yb(t,e)},t.prototype.Cr=function(t,e){var n,r=hb(t),i=Ap.U;return r.ls({index:wv.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Ap.U&&e(new Pp(cv(n)),i),i=s,n=o):i=Ap.U}).next(function(){i!==Ap.U&&e(new Pp(cv(n)),i)})},t.prototype.br=function(t){return this.db.Fr().Mr(t)},t}();function yb(t,e){return hb(t).put(function(t,e){return new wv(0,sv(t.path),e)}(e,t.vs))}var vb=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return _b(t).put(Eb(e),n)},t.prototype._i=function(t,e){var n=_b(t),r=Eb(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Lr(t,r)})},t.prototype.fi=function(t,e){var n=this;return _b(t).get(Eb(e)).next(function(t){return n.$r(t)})},t.prototype.Br=function(t,e){var n=this;return _b(t).get(Eb(e)).next(function(t){var e=n.$r(t);return e?{li:e,size:eb(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Kg();return this.qr(t,e,function(t,e){var i=n.$r(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Ur=function(t,e){var n=this,r=Kg(),i=new Fg(Pp.J);return this.qr(t,e,function(t,e){var o=n.$r(e);o?(r=r.Ht(t,o),i=i.Ht(t,eb(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Qr:r,Kr:i}})},t.prototype.qr=function(t,e,n){if(e.nt())return Gy.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return _b(t).ls({range:r},function(t,e,r){for(var s=Pp.Tt(t);o&&Pp.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ae()?i.ce():null})},t.prototype.jr=function(t,e,n){var r=this,i=Wg(),o=e.path.length+1,s={};if(n.isEqual(xp.min())){var a=e.path.rt();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=Dv(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=yv.collectionReadTimeIndex}return _b(t).ls(s,function(t,n,s){if(t.length===o){var a=jv(r.Kt,n);e.path.st(a.key.path)?a instanceof dm&&Qm(e,a)&&(i=i.Ht(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.Or=function(t){return new bb(this,!!t&&t.Wr)},t.prototype.Mr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return wb(t).get(vv.key).next(function(t){return op(!!t),t})},t.prototype.Lr=function(t,e){return wb(t).put(vv.key,e)},t.prototype.$r=function(t){if(t){var e=jv(this.Kt,t);return e instanceof pm&&e.version.isEqual(xp.min())?null:e}return null},t}(),bb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.Wr=n,r.zr=new Xv(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Yd.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new qg(function(t,e){return cp(t.ot(),e.ot())});return this.oi.forEach(function(o,s){var a=e.zr.get(o);if(s.li){var u=Rv(e.Gr.Kt,s.li,e.ai(o));i=i.add(o.path.Z());var c=eb(u);r+=c-a,n.push(e.Gr.ui(t,o,u))}else if(r-=a,e.Wr){var l=Rv(e.Gr.Kt,new pm(o,xp.min()),e.ai(o));n.push(e.Gr.ui(t,o,l))}else n.push(e.Gr._i(t,o))}),i.forEach(function(r){n.push(e.Gr.Ti.Us(t,r))}),n.push(this.Gr.updateMetadata(t,r)),Gy.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next(function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)})},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next(function(t){var e=t.Qr;return t.Kr.forEach(function(t,e){n.zr.set(t,e)}),e})},e}(Zv);function wb(t){return Av(t,vv.store)}function _b(t){return Av(t,yv.store)}function Eb(t){return t.path.rt()}var Sb=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;op(n<r&&n>=0&&r<=11);var o=new Wy("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(hv.store)}(t),function(t){t.createObjectStore(fv.store,{keyPath:fv.keyPath}),t.createObjectStore(dv.store,{keyPath:dv.keyPath,autoIncrement:!0}).createIndex(dv.userMutationsIndex,dv.userMutationsKeyPath,{unique:!0}),t.createObjectStore(pv.store)}(t),Ib(t),function(t){t.createObjectStore(yv.store)}(t));var s=Gy.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(wv.store),t.deleteObjectStore(bv.store),t.deleteObjectStore(_v.store)}(t),Ib(t)),s=s.next(function(){return function(t){var e=t.store(_v.store),n=new _v(0,0,xp.min().G(),0);return e.put(_v.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(dv.store).os().next(function(n){t.deleteObjectStore(dv.store),t.createObjectStore(dv.store,{keyPath:dv.keyPath,autoIncrement:!0}).createIndex(dv.userMutationsIndex,dv.userMutationsKeyPath,{unique:!0});var r=e.store(dv.store),i=n.map(function(t){return r.put(t)});return Gy.$n(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Sv.store,{keyPath:Sv.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Hr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(vv.store)}(t),i.Jr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Yr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Xr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(yv.store);e.createIndex(yv.readTimeIndex,yv.readTimeIndexPath,{unique:!1}),e.createIndex(yv.collectionReadTimeIndex,yv.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Zr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Iv.store,{keyPath:Iv.keyPath})}(t),function(t){t.createObjectStore(Tv.store,{keyPath:Tv.keyPath})}(t)})),s},t.prototype.Jr=function(t){var e=0;return t.store(yv.store).ls(function(t,n){e+=eb(n)}).next(function(){var n=new vv(e);return t.store(vv.store).put(vv.key,n)})},t.prototype.Hr=function(t){var e=this,n=t.store(fv.store),r=t.store(dv.store);return n.os().next(function(n){return Gy.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(dv.userMutationsIndex,i).next(function(r){return Gy.forEach(r,function(r){op(r.userId===n.userId);var i=Fv(e.Kt,r);return tb(t,n.userId,i).next(function(){})})})})})},t.prototype.Yr=function(t){var e=t.store(wv.store),n=t.store(yv.store);return t.store(_v.store).get(_v.key).next(function(t){var r=[];return n.ls(function(n,i){var o=new jp(n),s=function(t){return[0,sv(t)]}(o);r.push(e.get(s).next(function(n){return n?Gy.resolve():function(n){return e.put(new wv(0,sv(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Gy.$n(r)})})},t.prototype.Xr=function(t,e){t.createObjectStore(Ev.store,{keyPath:Ev.keyPath});var n=e.store(Ev.store),r=new Gv,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:sv(i)})}};return e.store(yv.store).ls({hs:!0},function(t,e){var n=new jp(t);return i(n.Z())}).next(function(){return e.store(pv.store).ls({hs:!0},function(t,e){var n=cv(t[1]);return i(n.Z())})})},t.prototype.Zr=function(t){var e=this,n=t.store(bv.store);return n.ls(function(t,r){var i=Uv(r),o=Vv(e.Kt,i);return n.put(o)})},t}();function Ib(t){t.createObjectStore(wv.store,{keyPath:wv.keyPath}).createIndex(wv.documentTargetsIndex,wv.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(bv.store,{keyPath:bv.keyPath}).createIndex(bv.queryTargetsIndexName,bv.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(_v.store)}var Tb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ob=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=o,this.window=s,this.document=a,this.no=c,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.jn())throw new pp(dp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new gb(this,i),this.lo=n+"main",this.Kt=new Nv(u),this._o=new $y(this.lo,11,new Sb(this.Kt)),this.fo=new ub(this.Ii,this.Kt),this.Ti=new Wv,this.wo=function(t,e){return new vb(t,e)}(this.Kt,this.Ti),this.Eo=new Hv,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&ep("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new pp(dp.FAILED_PRECONDITION,Tb);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.fo.ji(e)})}).then(function(e){t.io=new Ap(e,t.no)}).then(function(){t.ro=!0}).catch(function(e){return t._o&&t._o.close(),Promise.reject(e)})},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(Yd.b)(e,void 0,void 0,function(){return Object(Yd.d)(this,function(e){return this.Tr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn(function(n){return Object(Yd.b)(e,void 0,void 0,function(){return Object(Yd.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys(function(){return Object(Yd.b)(e,void 0,void 0,function(){return Object(Yd.d)(this,function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Ab(e).put(new Sv(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.po(e).next(function(e){e||(t.isPrimary=!1,t.eo.bo(function(){return t.ho(!1)}))})}).next(function(){return t.vo(e)}).next(function(n){return t.isPrimary&&!n?t.So(e).next(function(){return!1}):!!n&&t.Do(e).next(function(){return!0})})}).catch(function(e){if(Yy(e))return tp("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return tp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.eo.bo(function(){return t.ho(e)}),t.isPrimary=e})},t.prototype.po=function(t){var e=this;return Cb(t).get(hv.key).next(function(t){return Gy.resolve(e.Co(t))})},t.prototype.xo=function(t){return Ab(t).delete(this.clientId)},t.prototype.No=function(){return Object(Yd.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Yd.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Av(t,Sv.store);return e.os().next(function(t){var n=r.Fo(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Gy.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,function(){return t.Io().then(function(){return t.No()}).then(function(){return t.Ro()})})},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?Gy.resolve(!0):Cb(t).get(hv.key).next(function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new pp(dp.FAILED_PRECONDITION,Tb);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ab(t).os().next(function(t){return void 0===e.Fo(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&tp("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Lo=function(){return Object(Yd.b)(this,void 0,void 0,function(){var t=this;return Object(Yd.d)(this,function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[hv.store,Sv.store],function(e){var n=new Cv(e,Ap.U);return t.So(n).next(function(){return t.xo(n)})})];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}})})},t.prototype.Fo=function(t,e){var n=this;return t.filter(function(t){return n.Oo(t.updateTimeMs,e)&&!n.Mo(t.clientId)})},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Ab(e).os().next(function(e){return t.Fo(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return nb.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.jo=function(){return this.Ti},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return tp("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",Ov,function(o){return r=new Cv(o,i.io?i.io.next():Ap.U),"readwrite-primary"===e?i.po(r).next(function(t){return!!t||i.vo(r)}).next(function(e){if(!e)throw ep("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo(function(){return i.ho(!1)}),new pp(dp.FAILED_PRECONDITION,iv);return n(r)}).next(function(t){return i.Do(r).next(function(){return t})}):i.Go(r).next(function(){return n(r)})}).then(function(t){return r.ps(),t})},t.prototype.Go=function(t){var e=this;return Cb(t).get(hv.key).next(function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new pp(dp.FAILED_PRECONDITION,Tb)})},t.prototype.Do=function(t){var e=new hv(this.clientId,this.allowTabSynchronization,Date.now());return Cb(t).put(hv.key,e)},t.jn=function(){return $y.jn()},t.prototype.So=function(t){var e=this,n=Cb(t);return n.get(hv.key).next(function(t){return e.Co(t)?(tp("IndexedDbPersistence","Releasing primary lease."),n.delete(hv.key)):Gy.resolve()})},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ep("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()})},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys(function(){return e.Lo()})},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return tp("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ep("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){ep("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Cb(t){return Av(t,hv.store)}function Ab(t){return Av(t,Sv.store)}function kb(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var xb=function(t,e){this.progress=t,this.zo=e},Nb=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=Kg();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].xs(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){var i=n.Xo(t,e,r),o=Bg();return i.forEach(function(t,e){e||(e=new pm(t,xp.min())),o=o.Ht(t,e)}),o})},t.prototype.jr=function(t,e,n){return function(t){return Pp.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):zm(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Pp(e)).next(function(t){var e=Wg();return t instanceof dm&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=Wg();return this.Ti.Qs(t,i).next(function(s){return Gy.forEach(s,function(s){var a=function(t,e){return new Lm(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,a,n).next(function(t){t.forEach(function(t,e){o=o.Ht(t,e)})})}).next(function(){return o})})},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.wo.jr(t,e,n).next(function(n){return r=n,o.Ho.Ci(t,e)}).next(function(e){return o.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=_g(u,r.get(c),0,o.Ss);r=l instanceof dm?r.Ht(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Qm(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=Yg(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Og&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.wo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof dm&&(c=c.Ht(t,e))}),c})},t}(),jb=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=Yg(),i=Yg(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Rb=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(xp.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(o){var s=i.lc(e,o);return(Um(e)||Vm(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(Zd()<=Wc.a.DEBUG&&tp("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Jm(e)),i.uc.jr(t,e,n).next(function(t){return s.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new qg(Ym(t));return e.forEach(function(e,r){r instanceof dm&&Qm(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Zd()<=Wc.a.DEBUG&&tp("QueryEngine","Using full collection scan to execute query:",Jm(e)),this.uc.jr(t,e,xp.min())},t}(),Db=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new Fg(cp),this.wc=new Xv(function(t){return vm(t)},bm),this.Ec=xp.min(),this.Ho=t.Ko(n),this.Tc=t.Fr(),this.fo=t.Dr(),this.Ic=new Nb(this.Tc,this.Ho,this.persistence.jo()),this.Eo=t.Wo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.pr(n,e.dc)})},t}();function Pb(t,e,n,r){return new Db(t,e,n,r)}function Lb(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Yd.d)(this,function(s){switch(s.label){case 0:return n=sp(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Ho.bi(t).next(function(s){return o=s,r=n.persistence.Ko(e),i=new Nb(n.Tc,r,n.persistence.jo()),r.bi(t)}).next(function(e){for(var n=[],r=[],s=Yg(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)s=s.add(g[m].key)}return i.Zo(t,s).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}})})}function Mb(t,e){var n=sp(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Or({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Gy.resolve();return o.forEach(function(t){s=s.next(function(){return r.fi(e,t)}).next(function(e){var o=e,s=n.Fs.get(t);op(null!==s),(!o||o.version.u(s)<0)&&(o=i.Ds(t,o,n))&&r.ui(o,n.Os)})}),s.next(function(){return t.Ho.xi(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.Fi(t)}).next(function(){return n.Ic.Zo(t,r)})})}function Fb(t){var e=sp(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.fo.Ki(t)})}function Ub(t,e){var n=sp(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Tc.Or({Wr:!0});i=n.dc;var s=[];e.Fe.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.fo.ir(t,e.Ke,o).next(function(){return n.fo.nr(t,e.Ue,o)}));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.vs);i=i.Ht(o,c),function(t,e,n){return op(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.W()-t.Mt.W()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&s.push(n.fo.Ji(t,c))}}});var a=Bg();if(e.Me.forEach(function(r,i){e.Le.has(r)&&s.push(n.persistence.Ii.kr(t,r))}),s.push(Vb(t,o,e.Me,r,void 0).next(function(t){a=t})),!r.isEqual(xp.min())){var u=n.fo.Ki(t).next(function(e){return n.fo.Wi(t,t.vs,r)});s.push(u)}return Gy.$n(s).next(function(){return o.apply(t)}).next(function(){return n.Ic.tc(t,a)})}).then(function(t){return n.dc=i,t})}function Vb(t,e,n,r,i){var o=Yg();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Bg();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof pm&&s.version.isEqual(xp.min())?(e._i(n,u),o=o.Ht(n,s)):null==a||s.version.u(a.version)>0||0===s.version.u(a.version)&&a.hasPendingWrites?(e.ui(s,u),o=o.Ht(n,s)):tp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function qb(t,e){var n=sp(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)})}function Hb(t,e){var n=sp(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.fo.er(t,e).next(function(i){return i?Gy.resolve(r=i):n.fo.qi(t).next(function(i){return r=new Zm(e,i,0,t.vs),n.fo.Gi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function zb(t,e,n){return Object(Yd.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Yd.d)(this,function(a){switch(a.label){case 0:r=sp(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ii.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Yy(s=a.sent()))throw s;return tp("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function Bb(t,e,n){var r=sp(t),i=xp.min(),o=Yg();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=sp(t),i=r.wc.get(n);return void 0!==i?Gy.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,Km(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next(function(t){o=t})}).next(function(){return r.fc.jr(t,e,n?i:xp.min(),n?o:Yg())}).next(function(t){return{documents:t,Pc:o}})})}function Kb(t,e){var n=sp(t),r=sp(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function Gb(t){var e=sp(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=sp(t),i=Bg(),o=Dv(n),s=_b(e),a=IDBKeyRange.lowerBound(o,!0);return s.ls({index:yv.readTimeIndex,range:a},function(t,e){var n=jv(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime}).next(function(){return{zo:i,readTime:Pv(o)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.zo;return e.Ec=t.readTime,n})}function Wb(t){return Object(Yd.b)(this,void 0,void 0,function(){var e;return Object(Yd.d)(this,function(n){return[2,(e=sp(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=_b(t),n=xp.min();return e.ls({index:yv.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Pv(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function $b(t,e,n,r){return Object(Yd.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(Yd.d)(this,function(p){switch(p.label){case 0:for(i=sp(t),o=Yg(),s=Bg(),a=Jg(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Wr:!0}),[4,Hb(i,function(t){return Km(Fm(jp.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Vb(t,f,s,xp.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.fo.Xi(t,d.targetId).next(function(){return i.fo.nr(t,o,d.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function Jb(t,e,n){return void 0===n&&(n=Yg()),Object(Yd.b)(this,void 0,void 0,function(){var r,i;return Object(Yd.d)(this,function(o){switch(o.label){case 0:return[4,Hb(t,Km(qv(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=sp(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=vy(e.readTime);if(r.Mt.u(o)>=0)return i.Eo.Bs(t,e);var s=r.$t(fp.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.fo.Ji(t,s).next(function(){return i.fo.Xi(t,r.targetId)}).next(function(){return i.fo.nr(t,n,r.targetId)}).next(function(){return i.Eo.Bs(t,e)})})]}})})}var Qb=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return Gy.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:vy(n.createTime)}),Gy.resolve()},t.prototype.$s=function(t,e){return Gy.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:qv(t.bundledQuery),readTime:vy(t.readTime)}}(e)),Gy.resolve()},t}(),Yb=function(){function t(){this.Sc=new qg(Xb.Dc),this.Cc=new qg(Xb.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new Xb(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.sr(t,e)})},t.prototype.rr=function(t,e){this.Oc(new Xb(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach(function(t){return n.rr(t,e)})},t.prototype.kc=function(t){var e=this,n=new Pp(new jp([])),r=new Xb(n,t),i=new Xb(n,t+1),o=[];return this.Cc.Ae([r,i],function(t){e.Oc(t),o.push(t.key)}),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Oc(e)})},t.prototype.Oc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Pp(new jp([])),n=new Xb(e,t),r=new Xb(e,t+1),i=Yg();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.ki=function(t){var e=new Xb(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Xb=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Pp.J(t.key,e.key)||cp(t.$c,e.$c)},t.xc=function(t,e){return cp(t.$c,e.$c)||Pp.J(t.key,e.key)},t}(),Zb=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new qg(Xb.Dc)}return t.prototype.Ri=function(t){return Gy.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new kv(i,e,n,r);this.Ho.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.qc=this.qc.add(new Xb(u.key,i)),this.Ti.Us(t,u.key.path.Z())}return Gy.resolve(o)},t.prototype.yi=function(t,e){return Gy.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return Gy.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return Gy.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return Gy.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new Xb(e,0),i=new Xb(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);o.push(e)}),Gy.resolve(o)},t.prototype.Si=function(t,e){var n=this,r=new qg(cp);return e.forEach(function(t){var e=new Xb(t,0),i=new Xb(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),Gy.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;Pp.Et(i)||(i=i.child(""));var o=new Xb(new Pp(i),0),s=new qg(cp);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)},o),Gy.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.xi=function(t,e){var n=this;op(0===this.jc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return Gy.forEach(e.mutations,function(i){var o=new Xb(i.key,e.batchId);return r=r.delete(o),n.Ii.Oi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new Xb(e,0),r=this.qc.Pe(n);return Gy.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return Gy.resolve()},t.prototype.jc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),tw=function(){function t(t,e){this.Ti=t,this.Wc=e,this.docs=new Fg(Pp.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.Ht(r,{li:e,size:s,readTime:n}),this.size+=s-o,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return Gy.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=Kg();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)}),Gy.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=Wg(),i=new Pp(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),a=s.value,u=a.li,c=a.readTime;if(!e.path.st(s.key.path))break;c.u(n)<=0||u instanceof dm&&Qm(e,u)&&(r=r.Ht(u.key,u))}return Gy.resolve(r)},t.prototype.Gc=function(t,e){return Gy.forEach(this.docs,function(t){return e(t)})},t.prototype.Or=function(t){return new ew(this)},t.prototype.Mr=function(t){return Gy.resolve(this.size)},t}(),ew=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(Yd.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach(function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)}),Gy.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(Zv),nw=function(){function t(t){this.persistence=t,this.zc=new Xv(function(t){return vm(t)},bm),this.lastRemoteSnapshotVersion=xp.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new Yb,this.targetCount=0,this.Yc=ab.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),Gy.resolve()},t.prototype.Ki=function(t){return Gy.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return Gy.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),Gy.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Gy.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new ab(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,Gy.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),Gy.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,Gy.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(s),o.push(r.Xi(t,a.targetId)),i++)}),Gy.$n(o).next(function(){return i})},t.prototype.tr=function(t){return Gy.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return Gy.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),Gy.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Fc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach(function(e){i.push(r.Oi(t,e))}),Gy.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),Gy.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return Gy.resolve(n)},t.prototype.ki=function(t,e){return Gy.resolve(this.Jc.ki(e))},t}(),rw=function(){function t(t,e){var n=this;this.Xc={},this.io=new Ap(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new nw(this),this.Ti=new Kv,this.wo=function(t,e){return new tw(t,function(t){return n.Ii.Zc(t)})}(this.Ti),this.Kt=new Nv(e),this.Eo=new Qb(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.jo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new Zb(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;tp("MemoryPersistence","Starting transaction:",t);var i=new iw(this.io.next());return this.Ii.ta(),n(i).next(function(t){return r.Ii.ea(i).next(function(){return t})}).Mn().then(function(t){return i.ps(),t})},t.prototype.na=function(t,e){return Gy.Bn(Object.values(this.Xc).map(function(n){return function(){return n.ki(t,e)}}))},t}(),iw=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(Yd.c)(e,t),e}(ov),ow=function(){function t(t){this.persistence=t,this.sa=new Yb,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw ip()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),Gy.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),Gy.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),Gy.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Dr();return r.cr(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Yi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Fr().Or();return Gy.forEach(this.oa,function(r){var i=Pp.ft(r);return e.ca(t,i).next(function(t){t||n._i(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return Gy.Bn([function(){return Gy.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function sw(t,e){return"firestore_clients_"+t+"_"+e}function aw(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function uw(t,e){return"firestore_targets_"+t+"_"+e}var cw=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new pp(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(ep("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),lw=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new pp(r.error.code,r.error.message)),i?new t(e,r.state,o):(ep("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),hw=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Zg(),s=0;i&&s<r.activeTargetIds.length;++s)i=Jp(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(ep("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),fw=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ep("SharedClientState","Failed to parse online state: "+e),null)},t}(),dw=function(){function t(){this.activeTargetIds=Zg()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),pw=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new Fg(cp),this.Tr=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=sw(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new dw),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.jn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Yd.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Yd.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(sw(this.persistenceKey,r)))&&(o=hw.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(a=this.ba(s))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.Lo()}),this.Tr=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Oa=function(t,e,n){this.Na(t,e,n),this.Fa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(uw(this.persistenceKey,t));if(n){var r=lw.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(uw(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Fa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.ja(t)},t.prototype.Wa=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return tp("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){tp("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){tp("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(tp("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void ep("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo(function(){return Object(Yd.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Yd.d)(this,function(a){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=Ap.U;if(null!=t)try{var n=JSON.parse(t);op("number"==typeof n),e=n}catch(t){ep("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ap.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new cw(this.currentUser,t,e,n),i=aw(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Fa=function(t){var e=aw(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ja=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=uw(this.persistenceKey,t),i=new lw(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return hw.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return cw.aa(new Ep(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return lw.aa(r,e)},t.prototype.ba=function(t){return fw.aa(t)},t.prototype.Xa=function(t){return Object(Yd.b)(this,void 0,void 0,function(){return Object(Yd.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(tp("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.fa.iu(s,a).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Zg();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),mw=function(){function t(){this.ru=new dw,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Oa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new dw,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.Wa=function(){},t}(),gw=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),yw=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){tp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){tp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.jn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),vw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},bw=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),ww=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(Yd.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,o){var s=new Qd;s.listenOnce(Wd.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Gd.NO_ERROR:var e=s.getResponseJson();tp("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Gd.TIMEOUT:tp("Connection",'RPC "'+t+'" timed out'),o(new pp(dp.DEADLINE_EXCEEDED,"Request time out"));break;case Gd.HTTP_ERROR:var n=s.getStatus();if(tp("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(dp).indexOf(e)>=0?e:dp.UNKNOWN}(r.status);o(new pp(a,r.message))}else o(new pp(dp.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new pp(dp.UNAVAILABLE,"Connection failed."));break;default:ip()}}finally{tp("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new qd,i=zh(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object($c.l)()||Object($c.n)()||Object($c.j)()||Object($c.k)()||Object($c.o)()||Object($c.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");tp("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new bw({du:function(t){c?tp("Connection","Not sending because WebChannel is closed:",t):(u||(tp("Connection","Opening WebChannel transport."),a.open(),u=!0),tp("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Jd.EventType.OPEN,function(){c||tp("Connection","WebChannel transport opened.")}),h(a,Jd.EventType.CLOSE,function(){c||(c=!0,tp("Connection","WebChannel transport closed"),l.Pu())}),h(a,Jd.EventType.ERROR,function(t){c||(c=!0,np("Connection","WebChannel transport errored:",t),l.Pu(new pp(dp.UNAVAILABLE,"The operation could not be completed")))}),h(a,Jd.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];op(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){tp("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Ng[t];if(void 0!==e)return Mg(e)}(i),s=r.message;void 0===o&&(o=dp.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new pp(o,s)),a.close()}else tp("Connection","WebChannel received:",n),l.yu(n)}}),h(i,$d.STAT_EVENT,function(t){10===t.stat?tp("Connection","Detected buffering proxy"):11===t.stat&&tp("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);tp("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then(function(t){return tp("RestConnection","Received: ",t),t},function(e){throw np("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.2",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+vw[t]},t}());function _w(){return"undefined"!=typeof window?window:null}function Ew(){return"undefined"!=typeof document?document:null}function Sw(t){return new py(t,!0)}var Iw=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Ou=r,this.Fu=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Fu},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&tp("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Ou,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Fu&&(this.ku=this.Fu)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Tw=function(){function t(t,e,n,r,i,o){this.eo=t,this.Qu=n,this.Ku=r,this.ju=i,this.listener=o,this.state=0,this.Wu=0,this.Gu=null,this.stream=null,this.zu=new Iw(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(Yd.b)(this,void 0,void 0,function(){return Object(Yd.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(Yd.b)(this,void 0,void 0,function(){return Object(Yd.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(Yd.b)(this,void 0,void 0,function(){return Object(Yd.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.Wu++,3!==t?this.zu.reset():e&&e.code===dp.RESOURCE_EXHAUSTED?(ep(e.toString()),ep("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===dp.UNAUTHENTICATED&&this.ju.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.Wu),n=this.Wu;this.ju.getToken().then(function(e){t.Wu===n&&t.rh(e)},function(n){e(function(){var e=new pp(dp.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.Wu);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(Yd.b)(t,void 0,void 0,function(){return Object(Yd.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return tp("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys(function(){return e.Wu===t?n():(tp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Ow=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(Yd.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ip()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(op(void 0===e||"string"==typeof e),fp.fromBase64String(e||"")):(op(void 0===e||e instanceof Uint8Array),fp.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?dp.UNKNOWN:Mg(t.code);return new pp(e,t.message||"")}(a);n=new ay(r,i,o,s||null)}else if("documentChange"in e){i=Ey(t,(r=e.documentChange).document.name),o=vy(r.document.updateTime);var a=new cm({mapValue:{fields:r.document.fields}}),u=(s=new dm(i,o,a,{}),r.targetIds||[]);n=new oy(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Ey(t,(r=e.documentDelete).document),o=r.readTime?vy(r.readTime):xp.min(),a=new pm(i,o),n=new oy([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Ey(t,(r=e.documentRemove).document),n=new oy([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return ip();var c=e.filter;i=new Pg(r=c.count||0),n=new sy(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return xp.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?xp.min():e.readTime?vy(e.readTime):xp.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=Ty(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=wm(r)?{documents:Ny(t,r)}:{query:jy(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=gy(t,e.resumeToken):e.Mt.u(xp.min())>0&&(n.readTime=my(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ip()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=Ty(this.Kt),e.removeTarget=t,this.eh(e)},e}(Tw),Cw=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(Yd.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(op(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(op(void 0!==e),t.map(function(t){return function(t,e){var n=vy(t.updateTime?t.updateTime:e);n.isEqual(xp.min())&&(n=vy(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new gg(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=vy(t.commitTime);return this.listener.wh(n,e)}return op(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=Ty(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return ky(e.Kt,t)})};this.eh(n)},e}(Tw),Aw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(Yd.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new pp(dp.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===dp.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===dp.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),kw=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(ep(e),this.Ph=!1):tp("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),xw=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Oh=new Set,this.Fh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(Yd.b)(o,void 0,void 0,function(){return Object(Yd.d)(this,function(t){switch(t.label){case 0:return Uw(this)?(tp("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Yd.b)(this,void 0,void 0,function(){var e;return Object(Yd.d)(this,function(n){switch(n.label){case 0:return(e=sp(t)).Oh.add(4),[4,jw(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Oh.delete(4),[4,Nw(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new kw(n,r)};function Nw(t){return Object(Yd.b)(this,void 0,void 0,function(){var e,n;return Object(Yd.d)(this,function(r){switch(r.label){case 0:if(!Uw(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function jw(t){return Object(Yd.b)(this,void 0,void 0,function(){var e,n;return Object(Yd.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Rw(t,e){var n=sp(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),Fw(n)?Mw(n):t_(n).Ju()&&Pw(n,e))}function Dw(t,e){var n=sp(t),r=t_(n);n.Nh.delete(e),r.Ju()&&Lw(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():Uw(n)&&n.Mh.set("Unknown"))}function Pw(t,e){t.Lh.cn(e.targetId),t_(t).hh(e)}function Lw(t,e){t.Lh.cn(e),t_(t).lh(e)}function Mw(t){t.Lh=new cy({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),t_(t).start(),t.Mh.yh()}function Fw(t){return Uw(t)&&!t_(t).Hu()&&t.Nh.size>0}function Uw(t){return 0===sp(t).Oh.size}function Vw(t){t.Lh=void 0}function qw(t){return Object(Yd.b)(this,void 0,void 0,function(){return Object(Yd.d)(this,function(e){return t.Nh.forEach(function(e,n){Pw(t,e)}),[2]})})}function Hw(t,e){return Object(Yd.b)(this,void 0,void 0,function(){return Object(Yd.d)(this,function(n){return Vw(t),Fw(t)?(t.Mh.ph(e),Mw(t)):t.Mh.set("Unknown"),[2]})})}function zw(t,e,n){return Object(Yd.b)(this,void 0,void 0,function(){var r,i,o;return Object(Yd.d)(this,function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof ay&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Yd.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),tp("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Bw(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof oy?t.Lh.wn(e):e instanceof sy?t.Lh.yn(e):t.Lh.In(e),n.isEqual(xp.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Fb(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Fe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(fp.h,n.Mt)),Lw(t,e);var r=new Zm(n.target,e,1,n.sequenceNumber);Pw(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return tp("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Bw(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Bw(t,e,n){return Object(Yd.b)(this,void 0,void 0,function(){var r=this;return Object(Yd.d)(this,function(i){switch(i.label){case 0:if(!Yy(e))throw e;return t.Oh.add(1),[4,jw(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return Fb(t.Sh)}),t.fs.bo(function(){return Object(Yd.b)(r,void 0,void 0,function(){return Object(Yd.d)(this,function(e){switch(e.label){case 0:return tp("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Oh.delete(1),[4,Nw(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Kw(t,e){return e().catch(function(n){return Bw(t,n,e)})}function Gw(t){return Object(Yd.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Yd.d)(this,function(s){switch(s.label){case 0:e=sp(t),n=e_(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Uw(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,qb(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=e_(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Bw(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Ww(e)&&$w(e),[2]}})})}function Ww(t){return Uw(t)&&!e_(t).Hu()&&t.xh.length>0}function $w(t){e_(t).start()}function Jw(t){return Object(Yd.b)(this,void 0,void 0,function(){return Object(Yd.d)(this,function(e){return e_(t).Th(),[2]})})}function Qw(t){return Object(Yd.b)(this,void 0,void 0,function(){var e,n,r;return Object(Yd.d)(this,function(i){for(e=e_(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function Yw(t,e,n){return Object(Yd.b)(this,void 0,void 0,function(){var r,i;return Object(Yd.d)(this,function(o){switch(o.label){case 0:return r=t.xh.shift(),i=xv.from(r,e,n),[4,Kw(t,function(){return t.Ch.qh(i)})];case 1:return o.sent(),[4,Gw(t)];case 2:return o.sent(),[2]}})})}function Xw(t,e){return Object(Yd.b)(this,void 0,void 0,function(){return Object(Yd.d)(this,function(n){switch(n.label){case 0:return e&&e_(t).fh?[4,function(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n,r;return Object(Yd.d)(this,function(i){switch(i.label){case 0:return Lg(r=e.code)&&r!==dp.ABORTED?(n=t.xh.shift(),e_(t).Xu(),[4,Kw(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Gw(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ww(t)&&$w(t),[2]}})})}function Zw(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n;return Object(Yd.d)(this,function(r){switch(r.label){case 0:return n=sp(t),e?(n.Oh.delete(2),[4,Nw(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Oh.add(2),[4,jw(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function t_(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=sp(t);return r.mh(),new Ow(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:qw.bind(null,t),Iu:Hw.bind(null,t),uh:zw.bind(null,t)}),t.Fh.push(function(n){return Object(Yd.b)(e,void 0,void 0,function(){return Object(Yd.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),Fw(t)?Mw(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),Vw(t),e.label=3;case 3:return[2]}})})})),t.Qh}function e_(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=sp(t);return r.mh(),new Cw(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Jw.bind(null,t),Iu:Xw.bind(null,t),Eh:Qw.bind(null,t),wh:Yw.bind(null,t)}),t.Fh.push(function(n){return Object(Yd.b)(e,void 0,void 0,function(){return Object(Yd.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,Gw(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(tp("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var n_=function(){this.jh=void 0,this.listeners=[]},r_=function(){this.queries=new Xv(function(t){return $m(t)},Wm),this.onlineState="Unknown",this.Wh=new Set};function i_(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Yd.d)(this,function(c){switch(c.label){case 0:if(n=sp(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new n_),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.jh=c.sent(),[3,4];case 3:return a=c.sent(),u=rv(a,"Initialization of query '"+Jm(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.jh&&e.Hh(o.jh)&&u_(n),[2]}})})}function o_(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Yd.d)(this,function(a){return n=sp(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function s_(t,e){for(var n=sp(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(s)&&(r=!0);a.jh=s}}r&&u_(n)}function a_(t,e,n){var r=sp(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function u_(t){t.Wh.forEach(function(t){t.next()})}var c_=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ny(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=ny.Oe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),l_=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),h_=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Ey(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Ay(this.Kt,t.document,!1):new pm(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return vy(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new h_(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Yg()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Yd.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Yd.d)(this,function(o){switch(o.label){case 0:return[4,$b(this.Sh,new h_(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Jb(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new xb(Object.assign({},this.progress),t))]}})})}}();var f_=function(t){this.key=t},d_=function(t){this.key=t},p_=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=Yg(),this.Ce=Yg(),this.ll=Ym(t),this._l=new ty(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new ey,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,a=!1,u=Um(this.query)&&i.size===this.query.limit?i.last():null,c=Vm(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var l=i.get(t),h=e instanceof dm?e:null;h&&(h=Qm(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Um(this.query)||Vm(this.query))for(;s.size>this.query.limit;){var l=Um(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:a,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ip()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var s=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==o.length||u?{snapshot:new ny(this.query,t._l,i,o,t.Ce,0===a,u,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new ey,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=Yg(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new d_(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new f_(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=Yg();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return ny.Oe(this.query,this._l,this.Ce,0===this.ul)},t}(),m_=function(t,e,n){this.query=t,this.targetId=e,this.view=n},g_=function(t){this.key=t,this.yl=!1},y_=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new Xv(function(t){return $m(t)},Wm),this.Dl=new Map,this.Cl=[],this.xl=new Fg(Pp.J),this.Nl=new Map,this.Ol=new Yb,this.Fl={},this.kl=new Map,this.Ml=ab.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function v_(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Yd.d)(this,function(a){switch(a.label){case 0:return n=W_(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,Hb(n.Sh,Km(e))];case 2:return o=a.sent(),s=n.pl.ka(o.targetId),[4,b_(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.$l&&Rw(n.gl,o),a.label=4;case 4:return[2,r]}})})}function b_(t,e,n,r){return Object(Yd.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(Yd.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(Yd.b)(this,void 0,void 0,function(){var i,o,s;return Object(Yd.d)(this,function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,Bb(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Fe.get(e.targetId),s=e.view.Ei(i,t.$l,o),[2,(j_(t,e.targetId,s.ml),s.snapshot)]}})})}(t,e,n,r)},[4,Bb(t.Sh,e,!0)];case 1:return i=l.sent(),o=new p_(e,i.Pc),s=o.dl(i.documents),a=iy.Be(n,r&&"Offline"!==t.onlineState),u=o.Ei(s,t.$l,a),j_(t,n,u.ml),c=new m_(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}})})}function w_(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n,r,i;return Object(Yd.d)(this,function(o){switch(o.label){case 0:return n=sp(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!Wm(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,zb(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),Dw(n.gl,r.targetId),x_(n,r.targetId)}).catch(Yv)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return x_(n,r.targetId),[4,zb(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function __(t,e,n){return Object(Yd.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Yd.d)(this,function(a){switch(a.label){case 0:r=$_(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=sp(t),i=kp.now(),o=e.reduce(function(t,e){return t.add(e.key)},Yg());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Eg(c,n.get(c.key));null!=l&&s.push(new Og(c.key,l,hm(l.proto.mapValue),yg.exists(!0)))}return r.Ho.Pi(t,i,s,e)})}).then(function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}})}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.R()];r||(r=new Fg(cp)),r=r.Ht(e,n),t.Fl[t.currentUser.R()]=r}(r,i.batchId,n),[4,P_(r,i.oi)];case 3:return a.sent(),[4,Gw(r.gl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=rv(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function E_(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n,r;return Object(Yd.d)(this,function(i){switch(i.label){case 0:n=sp(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ub(n.Sh,e)];case 2:return r=i.sent(),e.Fe.forEach(function(t,e){var r=n.Nl.get(e);r&&(op(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?op(r.yl):t.Ke.size>0&&(op(r.yl),r.yl=!1))}),[4,P_(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Yv(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function S_(t,e,n){var r=sp(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=sp(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)}),r&&u_(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function I_(t,e,n){return Object(Yd.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(Yd.d)(this,function(c){switch(c.label){case 0:return(r=sp(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new Fg(Pp.J)).Ht(o,new pm(o,xp.min())),a=Yg().add(o),u=new ry(xp.min(),new Map,new qg(cp),s,a),[4,E_(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),D_(r),[3,4];case 2:return[4,zb(r.Sh,e,!1).then(function(){return x_(r,e,n)}).catch(Yv)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function T_(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n,r,i;return Object(Yd.d)(this,function(o){switch(o.label){case 0:n=sp(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Mb(n.Sh,e)];case 2:return i=o.sent(),k_(n,r,null),A_(n,r),n.pl.Oa(r,"acknowledged"),[4,P_(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Yv(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function O_(t,e,n){return Object(Yd.b)(this,void 0,void 0,function(){var r,i;return Object(Yd.d)(this,function(o){switch(o.label){case 0:r=sp(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=sp(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.yi(t,e).next(function(e){return op(null!==e),r=e.keys(),n.Ho.xi(t,e)}).next(function(){return n.Ho.Fi(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=o.sent(),k_(r,e,n),A_(r,e),r.pl.Oa(e,"rejected",n),[4,P_(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Yv(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function C_(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Yd.d)(this,function(a){switch(a.label){case 0:Uw((n=sp(t)).gl)||tp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=sp(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.pi(t)})}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=a.sent(),s=rv(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function A_(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function k_(t,e,n){var r=sp(t),i=r.Fl[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fl[r.currentUser.R()]=i}}function x_(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Ol.kc(e).forEach(function(e){t.Ol.ki(e)||N_(t,e)})}function N_(t,e){var n=t.xl.get(e);null!==n&&(Dw(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),D_(t))}function j_(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof f_?(t.Ol.sr(o.key,e),R_(t,o)):o instanceof d_?(tp("SyncEngine","Document no longer in limbo: "+o.key),t.Ol.rr(o.key,e),t.Ol.ki(o.key)||N_(t,o.key)):ip()}}function R_(t,e){var n=e.key;t.xl.get(n)||(tp("SyncEngine","New document in limbo: "+n),t.Cl.push(n),D_(t))}function D_(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new g_(e)),t.xl=t.xl.Ht(e,n),Rw(t.gl,new Zm(Km(Fm(e.path)),n,2,Ap.U))}}function P_(t,e,n){return Object(Yd.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Yd.d)(this,function(a){switch(a.label){case 0:return r=sp(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,a){s.push(r.Bl(a,e,n).then(function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=jb.cc(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(Yd.d)(this,function(l){switch(l.label){case 0:n=sp(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Gy.forEach(e,function(e){return Gy.forEach(e.rc,function(r){return n.persistence.Ii.sr(t,e.targetId,r)}).next(function(){return Gy.forEach(e.oc,function(r){return n.persistence.Ii.rr(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Yy(r=l.sent()))throw r;return tp("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.dc.get(a),c=u.Bt(u.Mt),n.dc=n.dc.Ht(a,c));return[2]}})})}(r.Sh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function L_(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n,r;return Object(Yd.d)(this,function(i){switch(i.label){case 0:return(n=sp(t)).currentUser.isEqual(e)?[3,3]:(tp("SyncEngine","User change. New user:",e.R()),[4,Lb(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new pp(dp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,P_(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function M_(t,e){var n=sp(t),r=n.Nl.get(e);if(r&&r.yl)return Yg().add(r.key);var i=Yg(),o=n.Dl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Sl.get(a[s]);i=i.ye(u.view.fl)}return i}function F_(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n,r,i;return Object(Yd.d)(this,function(o){switch(o.label){case 0:return[4,Bb((n=sp(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&j_(n,e.targetId,i.ml),i)]}})})}function U_(t){return Object(Yd.b)(this,void 0,void 0,function(){var e;return Object(Yd.d)(this,function(n){return[2,Gb((e=sp(t)).Sh).then(function(t){return P_(e,t)})]})})}function V_(t,e,n,r){return Object(Yd.b)(this,void 0,void 0,function(){var i,o;return Object(Yd.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=sp(t),r=sp(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.gi(t,e).next(function(e){return e?n.Ic.Zo(t,e):Gy.resolve(null)})})}((i=sp(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Gw(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(k_(i,e,r||null),A_(i,e),function(t,e){sp(sp(t).Ho).Ni(e)}(i.Sh,e)):ip(),s.label=4;case 4:return[4,P_(i,o)];case 5:return s.sent(),[3,7];case 6:tp("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function q_(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Yd.d)(this,function(c){switch(c.label){case 0:return W_(n=sp(t)),$_(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,H_(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,Zw(n.gl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Rw(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?a.push(e):u=u.then(function(){return x_(n,e),zb(n.Sh,e,!0)}),Dw(n.gl,e)}),[4,u]);case 4:return c.sent(),[4,H_(n,a)];case 5:return c.sent(),function(t){var e=sp(t);e.Nl.forEach(function(t,n){Dw(e.gl,n)}),e.Ol.Mc(),e.Nl=new Map,e.xl=new Fg(Pp.J)}(n),n.Ll=!1,[4,Zw(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function H_(t,e,n){return Object(Yd.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(Yd.d)(this,function(m){switch(m.label){case 0:n=sp(t),r=[],i=[],o=0,s=e,m.label=1;case 1:return o<s.length?(u=void 0,(c=n.Dl.get(a=s[o]))&&0!==c.length?[4,Hb(n.Sh,Km(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,F_(n,f)]):[3,6];case 4:(d=m.sent()).snapshot&&i.push(d.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Kb(n.Sh,a)];case 8:return p=m.sent(),[4,Hb(n.Sh,p)];case 9:return u=m.sent(),[4,b_(n,z_(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function z_(t){return Mm(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function B_(t){var e=sp(t);return sp(sp(e.Sh).persistence).Qo()}function K_(t,e,n,r){return Object(Yd.b)(this,void 0,void 0,function(){var i,o,s;return Object(Yd.d)(this,function(a){switch(a.label){case 0:return(i=sp(t)).Ll?(tp("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Gb(i.Sh)];case 3:return o=a.sent(),s=ry.$e(e,"current"===n),[4,P_(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,zb(i.Sh,e,!0)];case 6:return a.sent(),x_(i,e,r),[3,8];case 7:ip(),a.label=8;case 8:return[2]}})})}function G_(t,e,n){return Object(Yd.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(Yd.d)(this,function(f){switch(f.label){case 0:if(!(r=W_(t)).Ll)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(tp("SyncEngine","Adding an already active target "+s),[3,5]):[4,Kb(r.Sh,s)]:[3,6];case 2:return a=f.sent(),[4,Hb(r.Sh,a)];case 3:return u=f.sent(),[4,b_(r,z_(a),u.targetId,!1)];case 4:f.sent(),Rw(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Yd.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,zb(r.Sh,t,!1).then(function(){Dw(r.gl,t),x_(r,t)}).catch(Yv)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function W_(t){var e=sp(t);return e.gl.Ch.Bh=E_.bind(null,e),e.gl.Ch.Sn=M_.bind(null,e),e.gl.Ch.$h=I_.bind(null,e),e.vl.uh=s_.bind(null,e.Vl),e.vl.ql=a_.bind(null,e.Vl),e}function $_(t){var e=sp(t);return e.gl.Ch.qh=T_.bind(null,e),e.gl.Ch.Uh=O_.bind(null,e),e}var J_=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Yd.b)(this,void 0,void 0,function(){return Object(Yd.d)(this,function(e){switch(e.label){case 0:return this.Kt=Sw(t.gu.T),this.pl=this.Wl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Pb(this.persistence,new Rb,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new rw(ow.ra,this.Kt)},t.prototype.Wl=function(t){return new mw},t.prototype.terminate=function(){return Object(Yd.b)(this,void 0,void 0,function(){return Object(Yd.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}})})},t}(),Q_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Yd.c)(e,t),e.prototype.initialize=function(e){return Object(Yd.b)(this,void 0,void 0,function(){return Object(Yd.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Wb(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,$_(this.Xl.fa)];case 4:return n.sent(),[4,Gw(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return Pb(this.persistence,new Rb,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new pb(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=kb(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?Qv.Xs(this.cacheSizeBytes):Qv.ei;return new Ob(this.synchronizeTabs,e,t.clientId,n,t.fs,_w(),Ew(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new mw},e}(J_),Y_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Yd.c)(e,t),e.prototype.initialize=function(e){return Object(Yd.b)(this,void 0,void 0,function(){var n,r=this;return Object(Yd.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof pw?(this.pl.fa={nu:V_.bind(null,n),su:K_.bind(null,n),iu:G_.bind(null,n),Qo:B_.bind(null,n),eu:U_.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po(function(t){return Object(Yd.b)(r,void 0,void 0,function(){return Object(Yd.d)(this,function(e){switch(e.label){case 0:return[4,q_(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=_w();if(!pw.jn(e))throw new pp(dp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=kb(t.gu.T,t.gu.persistenceKey);return new pw(e,t.fs,n,t.clientId,t.Yl)},e}(Q_),X_=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n=this;return Object(Yd.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return S_(n.fa,t,1)},this.gl.Ch.s_=L_.bind(null,this.fa),[4,Zw(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new r_},t.prototype.Zl=function(t){var e=Sw(t.gu.T),n=new ww(t.gu);return function(t,e,n){return new Aw(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return S_(s.fa,t,0)},o=yw.jn()?new yw:new gw,new xw(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new y_(t,e,n,r,i,o);return s&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(Yd.b)(this,void 0,void 0,function(){var e;return Object(Yd.d)(this,function(n){switch(n.label){case 0:return e=sp(t),tp("RemoteStore","RemoteStore shutting down."),e.Oh.add(5),[4,jw(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),Z_=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),tE=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new Ky,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(Yd.b)(this,void 0,void 0,function(){return Object(Yd.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(Yd.b)(this,void 0,void 0,function(){return Object(Yd.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(Yd.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Yd.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new l_(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(Yd.b)(this,void 0,void 0,function(){var t,e;return Object(Yd.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(Yd.b)(this,void 0,void 0,function(){var e;return Object(Yd.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(Yd.b)(this,void 0,void 0,function(){var t,e;return Object(Yd.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new pp(dp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Dp(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),eE=function(t){this._methodName=t};function nE(t,e,n){if(!n)throw new pp(dp.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function rE(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new pp(dp.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function iE(t,e,n,r){if(!0===e&&!0===r)throw new pp(dp.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function oE(t){if(!Pp.Et(t))throw new pp(dp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function sE(t){if(Pp.Et(t))throw new pp(dp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function aE(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ip()}function uE(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new pp(dp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=aE(t);throw new pp(dp.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function cE(t,e){if(e<=0)throw new pp(dp.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var lE=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new pp(dp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new pp(dp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,iE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),hE=new Map,fE=function(){function t(t,e){this.w_="(lite)",this.E_=new lE({}),this.T_=!1,t instanceof _p?(this.I_=t,this.m_=new Ip):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new pp(dp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _p(t.options.projectId)}(t),this.m_=new Tp(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new pp(dp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new pp(dp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new lE(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Ip;switch(t.type){case"gapi":var e=t.client;return op(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Cp(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new pp(dp.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=hE.get(this))&&(tp("ComponentProvider","Removing Datastore"),hE.delete(this),t.terminate()),Promise.resolve();var t},t}(),dE=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new mE(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),pE=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),mE=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Fm(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Yd.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new dE(this.firestore,null,new Pp(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(pE);function gE(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof gp&&(t=t._),nE("collection","path",e),t instanceof fE)return sE(n=jp.ct.apply(jp,Object(Yd.g)([e],r))),new mE(t,null,n);if(!(t instanceof dE||t instanceof mE))throw new pp(dp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return sE(n=jp.ct.apply(jp,Object(Yd.g)([t.path],r)).child(jp.ct(e))),new mE(t.firestore,null,n)}function yE(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof gp&&(t=t._),1===arguments.length&&(e=up.t()),nE("doc","path",e),t instanceof fE)return oE(n=jp.ct.apply(jp,Object(Yd.g)([e],r))),new dE(t,null,new Pp(n));if(!(t instanceof dE||t instanceof mE))throw new pp(dp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return oE(n=t.D_.child(jp.ct.apply(jp,Object(Yd.g)([e],r)))),new dE(t.firestore,t instanceof mE?t.v_:null,new Pp(n))}function vE(t,e){return t instanceof gp&&(t=t._),e instanceof gp&&(e=e._),(t instanceof dE||t instanceof mE)&&(e instanceof dE||e instanceof mE)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function bE(t,e){return t instanceof gp&&(t=t._),e instanceof gp&&(e=e._),t instanceof pE&&e instanceof pE&&t.firestore===e.firestore&&Wm(t.C_,e.C_)&&t.v_===e.v_}var wE=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new pp(dp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new pp(dp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return cp(this.x_,t.x_)||cp(this.N_,t.N_)},t}(),_E=/^__.*__$/,EE=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return null!==this.zt?new Og(t,this.data,this.zt,e,this.fieldTransforms):new Tg(t,this.data,e,this.fieldTransforms)},t}(),SE=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return new Og(t,this.data,this.zt,e,this.fieldTransforms)},t}();function IE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ip()}}var TE=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.F_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.F_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return KE(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.W_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.F_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(IE(this.k_)&&_E.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),OE=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Sw(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new TE({k_:t,methodName:e,W_:n,path:Dp.at(),B_:!1,j_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function CE(t){var e=t.p_(),n=Sw(t.I_);return new OE(t.I_,!!e.ignoreUndefinedProperties,n)}function AE(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);qE("Data must be an object, but it was:",s,r);var a,u,c=UE(r,s);if(o.merge)a=new Up(s.zt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=HE(e,f[h],n);if(!s.contains(d))throw new pp(dp.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");GE(l,d)||l.push(d)}a=new Up(l),u=s.fieldTransforms.filter(function(t){return a.It(t.field)})}else a=null,u=s.fieldTransforms;return new EE(new cm(c),a,u)}var kE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yd.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(eE);function xE(t,e,n){return new TE({k_:3,W_:e.settings.W_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var NE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yd.c)(e,t),e.prototype.z_=function(t){return new mg(t.path,new ag)},e.prototype.isEqual=function(t){return t instanceof e},e}(eE),jE=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Yd.c)(e,t),e.prototype.z_=function(t){var e=xE(this,t,!0),n=this.H_.map(function(t){return FE(t,e)}),r=new ug(n);return new mg(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(eE),RE=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Yd.c)(e,t),e.prototype.z_=function(t){var e=xE(this,t,!0),n=this.H_.map(function(t){return FE(t,e)}),r=new lg(n);return new mg(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(eE),DE=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Yd.c)(e,t),e.prototype.z_=function(t){var e=new fg(t.Kt,ng(t.Kt,this.J_));return new mg(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(eE);function PE(t,e,n,r){var i=t.G_(1,e,n);qE("Data must be an object, but it was:",i,r);var o=[],s=new lm;Mp(r,function(t,r){var a=BE(e,t,n);r instanceof gp&&(r=r._);var u=i.U_(a);if(r instanceof kE)o.push(a);else{var c=FE(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new Up(o);return new SE(s.yt(),a,i.fieldTransforms)}function LE(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[HE(e,r,n)],u=[i];if(o.length%2!=0)throw new pp(dp.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(HE(e,o[c])),u.push(o[c+1]);for(var l=[],h=new lm,f=a.length-1;f>=0;--f)if(!GE(l,a[f])){var d=a[f],p=u[f];p instanceof gp&&(p=p._);var m=s.U_(d);if(p instanceof kE)l.push(d);else{var g=FE(p,m);null!=g&&(l.push(d),h.set(d,g))}}var y=new Up(l);return new SE(h.yt(),y,s.fieldTransforms)}function ME(t,e,n,r){return void 0===r&&(r=!1),FE(n,t.G_(r?4:3,e))}function FE(t,e){if(t instanceof gp&&(t=t._),VE(t))return qE("Unsupported field value:",e,t),UE(t,e);if(t instanceof eE)return function(t,e){if(!IE(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=FE(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof gp&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ng(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=kp.fromDate(t);return{timestampValue:my(e.Kt,n)}}if(t instanceof kp)return n=new kp(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:my(e.Kt,n)};if(t instanceof wE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof mp)return{bytesValue:gy(e.Kt,t.l)};if(t instanceof dE){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:by(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+aE(t))}(t,e)}function UE(t,e){var n={};return Fp(t)?e.path&&e.path.length>0&&e.zt.push(e.path):Mp(t,function(t,r){var i=FE(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function VE(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof kp||t instanceof wE||t instanceof mp||t instanceof dE||t instanceof eE)}function qE(t,e,n){if(!VE(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=aE(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function HE(t,e,n){if(e instanceof gp&&(e=e._),e instanceof tE)return e.d_;if("string"==typeof e)return BE(t,e);throw KE("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var zE=new RegExp("[~\\*/\\[\\]]");function BE(t,e,n){if(e.search(zE)>=0)throw KE("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(tE.bind.apply(tE,Object(Yd.g)([void 0],e.split("."))))).d_}catch(r){throw KE("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function KE(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new pp(dp.INVALID_ARGUMENT,(a+=". ")+t+u)}function GE(t,e){return t.some(function(t){return t.isEqual(e)})}var WE=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Yd.b)(this,void 0,void 0,function(){var e,n=this;return Object(Yd.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new pp(dp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(Yd.d)(this,function(u){switch(u.label){case 0:return n=sp(t),r=Ty(n.Kt)+"/documents",i={documents:e.map(function(t){return _y(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){op(!!e.found);var n=Ey(t,e.found.name),r=vy(e.found.updateTime),i=new cm({mapValue:{fields:e.found.fields}});return new dm(n,r,i,{})}(t,e):"missing"in e?function(t,e){op(!!e.missing),op(!!e.readTime);var n=Ey(t,e.missing),r=vy(e.readTime);return new pm(n,r)}(t,e):ip()}(n.Kt,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());op(!!e),a.push(e)}),a)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof pm||t instanceof dm?n.sf(t):ip()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.O_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.O_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Rg(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Yd.b)(this,void 0,void 0,function(){var t,e=this;return Object(Yd.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Pp.ft(n);e.mutations.push(new Dg(r,e.Gt(r)))}),[4,function(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n,r,i;return Object(Yd.d)(this,function(o){switch(o.label){case 0:return n=sp(t),r=Ty(n.Kt)+"/documents",i={writes:e.map(function(t){return ky(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof dm)e=t.version;else{if(!(t instanceof pm))throw ip();e=xp.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new pp(dp.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?yg.updateTime(e):yg.jt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(xp.min()))throw new pp(dp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yg.updateTime(e)}return yg.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),$E=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new Iw(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(Yd.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Yd.d)(this,function(r){return t=new WE(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Wp(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Lg(e)}return!1},t}(),JE=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Ep.UNAUTHENTICATED,this.clientId=up.t(),this._f=function(){},this.N=new Ky,this.credentials.S(function(t){tp("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(Yd.b)(this,void 0,void 0,function(){return Object(Yd.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new pp(dp.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new Ky;return this.fs.Tf(function(){return Object(Yd.b)(t,void 0,void 0,function(){var t,n;return Object(Yd.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=rv(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function QE(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Yd.d)(this,function(o){switch(o.label){case 0:return t.fs.Af(),tp("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.bo(function(){return Object(Yd.b)(i,void 0,void 0,function(){return Object(Yd.d)(this,function(t){switch(t.label){case 0:return[4,Lb(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.yo(function(){return t.terminate()}),t.mf=e,[2]}})})}function YE(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n,r;return Object(Yd.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,XE(t)];case 1:return n=i.sent(),tp("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.bo(function(){return function(t,e){return Object(Yd.b)(this,void 0,void 0,function(){var n,r;return Object(Yd.d)(this,function(i){switch(i.label){case 0:return(n=sp(t)).fs.Af(),tp("RemoteStore","RemoteStore received new credentials"),r=Uw(n),n.Oh.add(3),[4,jw(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Oh.delete(3),[4,Nw(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function XE(t){return Object(Yd.b)(this,void 0,void 0,function(){return Object(Yd.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(tp("FirestoreClient","Using default OfflineComponentProvider"),[4,QE(t,new J_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function ZE(t){return Object(Yd.b)(this,void 0,void 0,function(){return Object(Yd.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(tp("FirestoreClient","Using default OnlineComponentProvider"),[4,YE(t,new X_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function tS(t){return XE(t).then(function(t){return t.persistence})}function eS(t){return XE(t).then(function(t){return t.Sh})}function nS(t){return ZE(t).then(function(t){return t.gl})}function rS(t){return ZE(t).then(function(t){return t.fa})}function iS(t){return Object(Yd.b)(this,void 0,void 0,function(){var e,n;return Object(Yd.d)(this,function(r){switch(r.label){case 0:return[4,ZE(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=v_.bind(null,e.fa),n.Jh=w_.bind(null,e.fa),n)]}})})}function oS(t,e,n){var r=this;void 0===n&&(n={});var i=new Ky;return t.fs.ys(function(){return Object(Yd.b)(r,void 0,void 0,function(){var r;return Object(Yd.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Z_({next:function(o){e.ys(function(){return o_(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new pp(dp.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new pp(dp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new c_(Fm(n.path),o,{includeMetadataChanges:!0,sl:!0});return i_(t,s)},[4,iS(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}function sS(t,e,n){var r=this;void 0===n&&(n={});var i=new Ky;return t.fs.ys(function(){return Object(Yd.b)(r,void 0,void 0,function(){var r;return Object(Yd.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Z_({next:function(n){e.ys(function(){return o_(t,s)}),n.fromCache&&"server"===r.source?i.reject(new pp(dp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new c_(n,o,{includeMetadataChanges:!0,sl:!0});return i_(t,s)},[4,iS(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}var aS=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new Iw(this,"async_queue_retry"),this.vf=function(){var e=Ew();e&&tp("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Ew();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Ew();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(Yd.b)(this,void 0,void 0,function(){var t,e=this;return Object(Yd.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!Yy(t=n.sent()))throw t;return tp("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,ep("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=nv.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&ip()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Yd.b)(this,void 0,void 0,function(){var t;return Object(Yd.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Of=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),uS=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new aS,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Yd.c)(e,t),e.prototype.b_=function(){return this.Lf||lS(this),this.Lf.terminate()},e}(fE);function cS(t){return t.Lf||lS(t),t.Lf.df(),t.Lf}function lS(t){var e=t.p_(),n=function(t,e,n){return new wp(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new JE(t.m_,t.Mf,n)}function hS(t,e,n){var r=this,i=new Ky;return t.fs.enqueue(function(){return Object(Yd.b)(r,void 0,void 0,function(){var r;return Object(Yd.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,QE(t,n)];case 1:return o.sent(),[4,YE(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===dp.FAILED_PRECONDITION||t.code===dp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function fS(t){if(t.R_||t.P_)throw new pp(dp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var dS=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Qp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Hp(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(zp(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.jf(t.arrayValue,e);case 10:return this.Wf(t.mapValue,e);default:throw ip()}},t.prototype.Wf=function(t,e){var n=this,r={};return Mp(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new wE(Hp(t.latitude),Hp(t.longitude))},t.prototype.jf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=Kp(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(Gp(t));default:return null}},t.prototype.Bf=function(t){var e=qp(t);return new kp(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=jp.ct(t);op(By(n));var r=new _p(n.get(1),n.get(3)),i=new Pp(n.X(5));return r.isEqual(e)||ep("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),pS=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new dE(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new mS(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(gS("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),mS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yd.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(pS);function gS(t,e){return"string"==typeof e?BE(t,e):e instanceof gp?e._.d_:e.d_}function yS(t){if(Vm(t)&&0===t.Nt.length)throw new pp(dp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vS=function(){};function bS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var wS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(Yd.c)(e,t),e.prototype.Yf=function(t){var e=CE(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new pp(dp.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){CS(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(OS(r,t,l[c]));a={arrayValue:{values:u}}}else a=OS(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||CS(s,o),a=ME(n,"where",s,"in"===o||"not-in"===o);var h=_m.create(i,o,a);return function(t,e){if(e.xt()){var n=Hm(t);if(null!==n&&!n.isEqual(e.field))throw new pp(dp.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=qm(t);null!==r&&AS(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new pp(dp.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new pE(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Lm(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(vS),_S=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(Yd.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new pp(dp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new pp(dp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new jm(e,n);return function(t,e){if(null===qm(t)){var n=Hm(t);null!==n&&AS(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new pE(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Lm(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(vS),ES=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(Yd.c)(e,t),e.prototype.Yf=function(t){return new pE(t.firestore,t.v_,Gm(t.C_,this.nd,this.sd))},e}(vS),SS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Yd.c)(e,t),e.prototype.Yf=function(t){var e=TS(t,this.type,this.rd,this.od);return new pE(t.firestore,t.v_,function(t,e){return new Lm(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(vS),IS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Yd.c)(e,t),e.prototype.Yf=function(t){var e=TS(t,this.type,this.rd,this.od);return new pE(t.firestore,t.v_,function(t,e){return new Lm(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(vS);function TS(t,e,n,r){if(n[0]instanceof gp&&(n[0]=n[0]._),n[0]instanceof pS)return function(t,e,n,r,i){if(!r)throw new pp(dp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Bm(t);s<a.length;s++){var u=a[s];if(u.field.ht())o.push(rm(e,r.key));else{var c=r.field(u.field);if(Bp(c))throw new pp(dp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new pp(dp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new xm(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=CE(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new pp(dp.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ht()){if("string"!=typeof c)throw new pp(dp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!zm(t)&&-1!==c.indexOf("/"))throw new pp(dp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(jp.ct(c));if(!Pp.Et(l))throw new pp(dp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Pp(l);a.push(rm(e,h))}else{var f=ME(n,r,c);a.push(f)}}return new xm(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function OS(t,e,n){if(n instanceof gp&&(n=n._),"string"==typeof n){if(""===n)throw new pp(dp.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!zm(e)&&-1!==n.indexOf("/"))throw new pp(dp.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(jp.ct(n));if(!Pp.Et(r))throw new pp(dp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return rm(t,new Pp(r))}if(n instanceof dE)return rm(t,n.S_);throw new pp(dp.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+aE(n)+".")}function CS(t,e){if(!Array.isArray(t)||0===t.length)throw new pp(dp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new pp(dp.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function AS(t,e,n){if(!n.isEqual(e))throw new pp(dp.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function kS(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function xS(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var NS=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Yd.c)(e,t),e.prototype.Uf=function(t){return new mp(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new dE(this.firestore,null,e)},e}(dS),jS=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),RS=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).zf=e,a.ad=e,a.metadata=o,a}return Object(Yd.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new DS(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(gS("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(pS),DS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yd.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(RS),PS=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new jS(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new DS(n.zf,n.Hf,r.key,r,new jS(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new pp(dp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new DS(t.zf,t.Hf,e.doc.key,e.doc,new jS(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new DS(t.zf,t.Hf,e.doc.key,e.doc,new jS(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:LS(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.ld=e),this.hd},t}();function LS(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ip()}}function MS(t,e){return t instanceof RS&&e instanceof RS?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof PS&&e instanceof PS&&t.zf===e.zf&&bE(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var FS=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Yd.c)(e,t),e.prototype.Uf=function(t){return new mp(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new dE(this.firestore,null,e)},e}(dS);function US(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=uE(t,dE);var o=uE(t.firestore,uS),s=CE(o);return e instanceof gp&&(e=e._),qS(o,[("string"==typeof e||e instanceof tE?LE(s,"updateDoc",t.S_,e,n,r):PE(s,"updateDoc",t.S_,e)).O_(t.S_,yg.exists(!0))])}function VS(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof gp&&(t=t._);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||kS(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(kS(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof dE)c=uE(t.firestore,uS),l=Fm(t.S_.path),u={next:function(e){i[a]&&i[a](HS(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=uE(t,pE);c=uE(d.firestore,uS),l=d.C_;var p=new FS(c);u={next:function(t){i[a]&&i[a](new PS(c,p,d,t))},error:i[a+1],complete:i[a+2]},yS(t.C_)}return function(t,e,n,r){var i=this,o=new Z_(r),s=new c_(e,o,n);return t.fs.ys(function(){return Object(Yd.b)(i,void 0,void 0,function(){var e;return Object(Yd.d)(this,function(n){switch(n.label){case 0:return e=i_,[4,iS(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.r_(),t.fs.ys(function(){return Object(Yd.b)(i,void 0,void 0,function(){var e;return Object(Yd.d)(this,function(n){switch(n.label){case 0:return e=o_,[4,iS(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(cS(c),l,h,u)}function qS(t,e){return function(t,e){var n=this,r=new Ky;return t.fs.ys(function(){return Object(Yd.b)(n,void 0,void 0,function(){var n;return Object(Yd.d)(this,function(i){switch(i.label){case 0:return n=__,[4,rS(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(cS(t),e)}function HS(t,e,n){var r=n.docs.get(e.S_),i=new FS(t);return new RS(t,i,e.S_,r,new jS(n.hasPendingWrites,n.fromCache),e.v_)}var zS=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=CE(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=BS(t,this.zf),i=xS(r.v_,e,n),o=AE(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.O_(r.S_,yg.jt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=BS(t,this.zf);return e instanceof gp&&(e=e._),o="string"==typeof e||e instanceof tE?LE(this.wd,"WriteBatch.update",s.S_,e,n,r):PE(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.O_(s.S_,yg.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=BS(t,this.zf);return this.fd=this.fd.concat(new Rg(e.S_,yg.jt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new pp(dp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function BS(t,e){if(t instanceof gp&&(t=t._),t.firestore!==e)throw new pp(dp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var KS=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(Yd.c)(e,t),e.prototype.get=function(e){var n=this,r=BS(e,this.zf),i=new FS(this.zf);return t.prototype.get.call(this,e).then(function(t){return new RS(n.zf,i,r.S_,t.Jf,new jS(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=CE(t)}return t.prototype.get=function(t){var e=this,n=BS(t,this.zf),r=new NS(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return ip();var i=t[0];if(i instanceof pm)return new pS(e.zf,r,n.S_,null,n.v_);if(i instanceof dm)return new pS(e.zf,r,i.key,i,n.v_);throw ip()})},t.prototype.set=function(t,e,n){var r=BS(t,this.zf),i=xS(r.v_,e,n),o=AE(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=BS(t,this.zf);return e instanceof gp&&(e=e._),o="string"==typeof e||e instanceof tE?LE(this.wd,"Transaction.update",s.S_,e,n,r):PE(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=BS(t,this.zf);return this.Td.delete(e.S_),this},t}()),GS=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){fS(t=uE(t,uS));var n=cS(t),r=t.p_(),i=new X_;return hS(n,i,new Q_(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){fS(t=uE(t,uS));var e=cS(t),n=t.p_(),r=new X_;return hS(e,r,new Y_(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new pp(dp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ky;return t.Mf.Tf(function(){return Object(Yd.b)(e,void 0,void 0,function(){var e;return Object(Yd.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Yd.b)(this,void 0,void 0,function(){return Object(Yd.d)(this,function(e){switch(e.label){case 0:return $y.jn()?[4,$y.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(kb(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),WS=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof _p||(i.md=e),i}return Object(Yd.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=uE(t,fE)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&np("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(Yd.b)(e,void 0,void 0,function(){var e,n;return Object(Yd.d)(this,function(r){switch(r.label){case 0:return[4,tS(t)];case 1:return e=r.sent(),[4,nS(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=sp(t);return e.Oh.delete(0),Nw(e)}(n))]}})})})}(cS(uE(this._,uS)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(Yd.b)(e,void 0,void 0,function(){var e,n;return Object(Yd.d)(this,function(r){switch(r.label){case 0:return[4,tS(t)];case 1:return e=r.sent(),[4,nS(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(Yd.b)(this,void 0,void 0,function(){var e;return Object(Yd.d)(this,function(n){switch(n.label){case 0:return(e=sp(t)).Oh.add(0),[4,jw(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(cS(uE(this._,uS)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&iE("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Ky;return t.fs.ys(function(){return Object(Yd.b)(e,void 0,void 0,function(){var e;return Object(Yd.d)(this,function(r){switch(r.label){case 0:return e=C_,[4,rS(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(cS(uE(this._,uS)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Z_(e);return t.fs.ys(function(){return Object(Yd.b)(n,void 0,void 0,function(){var e;return Object(Yd.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){sp(t).Wh.add(e),e.next()},[4,iS(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object(Yd.b)(n,void 0,void 0,function(){var e;return Object(Yd.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){sp(t).Wh.delete(e)},[4,iS(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(cS(t=uE(t,uS)),kS(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new pp(dp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new sI(this,gE(this._,t))}catch(t){throw XS(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new YS(this,yE(this._,t))}catch(t){throw XS(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new rI(this,function(t,e){if(t=uE(t,fE),nE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new pp(dp.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new pE(t,null,function(t){return new Lm(jp.at(),t)}(e))}(this._,t))}catch(t){throw XS(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Ky;return t.fs.ys(function(){return Object(Yd.b)(n,void 0,void 0,function(){var n;return Object(Yd.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return ZE(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new $E(t.fs,n,e,r).run(),[2]}})})}),r.promise}(cS(t),function(n){return e(new KS(t,n))})}(this._,function(n){return t(new JS(e,n))})},e.prototype.batch=function(){var t=this;return cS(this._),new QS(new zS(this._,function(e){return qS(t._,e)}))},e.prototype.loadBundle=function(t){throw new pp(dp.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new pp(dp.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(gp),$S=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Yd.c)(e,t),e.prototype.Uf=function(t){return new bp(new mp(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return YS.Ad(e,this.firestore,null)},e}(dS),JS=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new $S(e),r}return Object(Yd.c)(e,t),e.prototype.get=function(t){var e=this,n=aI(t);return this._.get(n).then(function(t){return new eI(e.zf,new RS(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=aI(t);return n?(rE("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=aI(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(Yd.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=aI(t);return this._.delete(e),this},e}(gp),QS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yd.c)(e,t),e.prototype.set=function(t,e,n){var r=aI(t);return n?(rE("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=aI(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(Yd.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=aI(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(gp),YS=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new $S(e),r}return Object(Yd.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new pp(dp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new dE(n._,r,new Pp(t)))},e.Ad=function(t,n,r){return new e(n,new dE(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new sI(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new sI(this.firestore,gE(this._,t))}catch(t){throw XS(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof gp&&(t=t._),t instanceof dE&&vE(this._,t)},e.prototype.set=function(t,e){e=rE("DocumentReference.set",e);try{return function(t,e,n){t=uE(t,dE);var r=uE(t.firestore,uS),i=xS(t.v_,e,n);return qS(r,[AE(CE(r),"setDoc",t.S_,i,null!==t.v_,n).O_(t.S_,yg.jt())])}(this._,t,e)}catch(t){throw XS(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?US(this._,t):US.apply(void 0,Object(Yd.g)([this._,t,e],n))}catch(t){throw XS(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return qS(uE((t=this._).firestore,uS),[new Rg(t.S_,yg.jt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ZS(e),i=tI(e,function(e){return new eI(t.firestore,new RS(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return VS(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=uE(t,dE);var e=uE(t.firestore,uS),n=cS(e),r=new FS(e);return function(t,e){var n=this,r=new Ky;return t.fs.ys(function(){return Object(Yd.b)(n,void 0,void 0,function(){var n;return Object(Yd.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Yd.b)(this,void 0,void 0,function(){var r,i;return Object(Yd.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=sp(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof dm?n.resolve(i):i instanceof pm?n.resolve(null):n.reject(new pp(dp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=rv(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,eS(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new RS(e,r,t.S_,n,new jS(n instanceof dm&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=uE(t,dE);var e=uE(t.firestore,uS);return oS(cS(e),t.S_,{source:"server"}).then(function(n){return HS(e,t,n)})}(this._):function(t){t=uE(t,dE);var e=uE(t.firestore,uS);return oS(cS(e),t.S_).then(function(n){return HS(e,t,n)})}(this._)).then(function(t){return new eI(e.firestore,new RS(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(gp);function XS(t,e,n){return t.message=t.message.replace(e,n),t}function ZS(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!kS(r))return r}return{}}function tI(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=kS(t[0])?t[0]:kS(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var eI=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Yd.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new YS(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return MS(this._,t._)},e}(gp),nI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yd.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(eI),rI=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new $S(e),r}return Object(Yd.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,bS(this._,function(t,e,n){var r=e,i=gS("where",t);return new wS(i,r,n)}(t,n,r)))}catch(t){throw XS(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,bS(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=gS("orderBy",t);return new _S(r,n)}(t,n)))}catch(t){throw XS(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,bS(this._,function(t){return cE("limit",t),new ES("limit",t,"F")}(t)))}catch(t){throw XS(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,bS(this._,function(t){return cE("limitToLast",t),new ES("limitToLast",t,"L")}(t)))}catch(t){throw XS(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,bS(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new SS("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw XS(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,bS(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new SS("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw XS(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,bS(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new IS("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw XS(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,bS(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new IS("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw XS(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return bE(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=uE(t,pE);var e=uE(t.firestore,uS),n=cS(e),r=new FS(e);return function(t,e){var n=this,r=new Ky;return t.fs.ys(function(){return Object(Yd.b)(n,void 0,void 0,function(){var n;return Object(Yd.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Yd.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(Yd.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Bb(t,e,!0)];case 1:return a=u.sent(),r=new p_(e,a.Pc),i=r.dl(a.documents),o=r.Ei(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=rv(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,eS(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new PS(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=uE(t,pE);var e=uE(t.firestore,uS),n=cS(e),r=new FS(e);return sS(n,t.C_,{source:"server"}).then(function(n){return new PS(e,r,t,n)})}(this._):function(t){t=uE(t,pE);var e=uE(t.firestore,uS),n=cS(e),r=new FS(e);return yS(t.C_),sS(n,t.C_).then(function(n){return new PS(e,r,t,n)})}(this._)).then(function(t){return new oI(e.firestore,new PS(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ZS(e),i=tI(e,function(e){return new oI(t.firestore,new PS(t.firestore._,t.Hf,t._,e.ud))});return VS(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(gp),iI=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Yd.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new nI(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(gp),oI=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Yd.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new rI(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new nI(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new iI(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new nI(n.zf,r))})},e.prototype.isEqual=function(t){return MS(this._,t._)},e}(gp),sI=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(Yd.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new YS(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new YS(this.firestore,void 0===t?yE(this._):yE(this._,t))}catch(t){throw XS(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=uE(t.firestore,uS),r=yE(t),i=xS(t.v_,e);return qS(n,[AE(CE(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).O_(r.S_,yg.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new YS(e.firestore,t)})},e.prototype.isEqual=function(t){return vE(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(rI);function aI(t){return t instanceof gp&&(t=t._),uE(t,dE)}var uI=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(tE.bind.apply(tE,Object(Yd.g)([void 0],e))))||this}return Object(Yd.c)(e,t),e.documentId=function(){return new e(Dp.lt().ot())},e.prototype.isEqual=function(t){return t instanceof gp&&(t=t._),t instanceof tE&&this._.d_.isEqual(t.d_)},e}(gp),cI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yd.c)(e,t),e.serverTimestamp=function(){var t=new NE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new kE("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jE("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new RE("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new DE("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(gp);!function(){function t(){this.Pd={},this.yd=new Ky,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.jl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var lI,hI=n("/6Yf"),fI={Firestore:WS,GeoPoint:wE,Timestamp:kp,Blob:bp,Transaction:JS,WriteBatch:QS,DocumentReference:YS,DocumentSnapshot:eI,Query:rI,QueryDocumentSnapshot:nI,QuerySnapshot:oI,CollectionReference:sI,FieldPath:uI,FieldValue:cI,setLogLevel:function(t){Xd.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function dI(t,e){return function(t,e=Mi.b){return new jt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function pI(t,e){return dI(t,e).pipe(Object(zt.a)(t=>({payload:t,type:"query"})))}function mI(t,e){return pI(t,e).pipe(Xt(void 0),Gi(),Object(zt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function gI(t,e,n){return mI(t,n).pipe(Zt((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return yI(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return yI(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return yI(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Di(),Object(zt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function yI(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function vI(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new hI.a("firestore",function(t){return function(t,e){return new WS(t,new uS(t,e),new GS)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},fI)))})(lI=Gc.a),lI.registerVersion("@firebase/firestore","2.1.2");class bI{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=mI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(zt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Xt(void 0),Gi(),ne(([t,e])=>e.length>0||!t),Object(zt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Zt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=vI(t);return gI(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return pI(this.query,this.afs.schedulers.outsideAngular).pipe(Object(zt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(_t.a)(this.query.get(t)).pipe(Object(Qi.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new wI(this.ref.doc(t),this.afs)}}class wI{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=OI(n,e);return new bI(r,i,this.afs)}snapshotChanges(){return dI(this.ref,this.afs.schedulers.outsideAngular).pipe(Xt(void 0),Gi(),Object(zt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(zt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(_t.a)(this.ref.get(t)).pipe(Object(Qi.b)(this.afs.schedulers.insideAngular))}}class _I{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?mI(this.query,this.afs.schedulers.outsideAngular).pipe(Object(zt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ne(t=>t.length>0),this.afs.keepUnstableUntilFirst):mI(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Zt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=vI(t);return gI(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return pI(this.query,this.afs.schedulers.outsideAngular).pipe(Object(zt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(_t.a)(this.query.get(t)).pipe(Object(Qi.b)(this.afs.schedulers.insideAngular))}}const EI=new r.q("angularfire2.enableFirestorePersistence"),SI=new r.q("angularfire2.firestore.persistenceSettings"),II=new r.q("angularfire2.firestore.settings"),TI=new r.q("angularfire2.firestore.use-emulator");function OI(t,e=(t=>t)){return{query:e(t),ref:t}}let CI=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Mc.d(o),this.keepUnstableUntilFirst=Object(Mc.h)(this.schedulers);const c=Object(Mc.g)(t,o,e);!Dc.a.auth&&u&&Object(Mc.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Mc.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!V(i)){const e=()=>{try{return Object(_t.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(lI){return"undefined"!=typeof console&&console.warn(lI),Object(Et.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Et.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=OI(n,e),o=this.schedulers.ngZone.run(()=>r);return new bI(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new _I(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new wI(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Mc.c),r.Rb(Mc.b,8),r.Rb(EI,8),r.Rb(II,8),r.Rb(r.B),r.Rb(r.z),r.Rb(SI,8),r.Rb(TI,8),r.Rb(Fc,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(Mc.c),Object(r.Rb)(Mc.b,8),Object(r.Rb)(EI,8),Object(r.Rb)(II,8),Object(r.Rb)(r.B),Object(r.Rb)(r.z),Object(r.Rb)(SI,8),Object(r.Rb)(TI,8),Object(r.Rb)(Fc,8))},token:t,providedIn:"any"}),t})(),AI=(()=>{class t{constructor(t,e,n){this.afAuth=t,this.afs=e,this.router=n,this.return="",this.user$=this.afAuth.authState.pipe(Kt(t=>t?this.afs.doc("users/"+t.uid).valueChanges():Object(Et.a)(null)))}loginGoogle(){return Rc(this,void 0,void 0,function*(){const t=new Dc.a.auth.GoogleAuthProvider,e=yield this.afAuth.signInWithPopup(t);return this.updateUserData(e.user)})}logout(){return Rc(this,void 0,void 0,function*(){return yield this.afAuth.signOut(),this.router.navigate(["/"])})}updateUserData(t){return this.afs.doc("users/"+t.uid).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL},{merge:!0})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Bc),r.Rb(CI),r.Rb(Xr))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function kI(t,e){if(1&t&&(r.Nb(0,"div"),r.Nb(1,"pre"),r.nc(2),r.Xb(3,"json"),r.Mb(),r.Lb(4,"img",2),r.Mb()),2&t){const t=e.ngIf;r.Ab(2),r.pc("        ",r.Yb(3,2,t),"\n    "),r.Ab(2),r.cc("src",t.photoURL,r.gc)}}const xI=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(AI))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-login"]],decls:7,vars:3,consts:[[3,"click"],[4,"ngIf"],["alt","",3,"src"]],template:function(t,e){1&t&&(r.Nb(0,"div"),r.Nb(1,"button",0),r.Ub("click",function(){return e.authService.loginGoogle()}),r.nc(2,"Login with Google"),r.Mb(),r.Nb(3,"button",0),r.Ub("click",function(){return e.authService.logout()}),r.nc(4,"Logout"),r.Mb(),r.Mb(),r.mc(5,kI,5,4,"div",1),r.Xb(6,"async")),2&t&&(r.Ab(5),r.bc("ngIf",r.Yb(6,1,e.authService.user$)))},directives:[x],pipes:[M,F],styles:[""]}),t})()},{path:"home",component:jc}];let NI=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[hi.forRoot(xI,{useHash:!0})],hi]}),t})();const jI=["*",[["mat-toolbar-row"]]],RI=["*","mat-toolbar-row"];class DI{constructor(t){this._elementRef=t}}const PI=gu(DI);let LI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),MI=(()=>{class t extends PI{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(Ti),r.Kb(a))},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&r.Db(n,LI,!0),2&t){let t;r.ec(t=r.Vb())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&r.Cb("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.xb],ngContentSelectors:RI,decls:2,vars:0,template:function(t,e){1&t&&(r.ac(jI),r.Zb(0),r.Zb(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),FI=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[pu],pu]}),t})(),UI=(()=>{class t{constructor(){this.getUserAdditionalData=t=>{this.username=t.displayName}}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-app-bar"]],decls:12,vars:1,consts:[[1,"spacer"],["mat-icon-button",""]],template:function(t,e){1&t&&(r.Nb(0,"mat-toolbar"),r.Nb(1,"span"),r.nc(2),r.Mb(),r.Nb(3,"span"),r.nc(4,"MODA"),r.Mb(),r.Lb(5,"span",0),r.Nb(6,"button",1),r.Nb(7,"mat-icon"),r.nc(8,"settings"),r.Mb(),r.Mb(),r.Nb(9,"button",1),r.Nb(10,"mat-icon"),r.nc(11,"info"),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.Ab(2),r.oc(e.username))},directives:[MI,$u,Cc],styles:["mat-toolbar[_ngcontent-%COMP%]{background-color:#d8ce40;color:#000}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),t})();function VI(t,e){1&t&&r.Lb(0,"app-app-bar")}function qI(t,e){1&t&&r.Lb(0,"app-home")}let HI=(()=>{class t{constructor(t){this.router=t,this.title="MODA"}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Xr))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-root"]],decls:4,vars:2,consts:[[4,"ngIf"],["id","content"]],template:function(t,e){1&t&&(r.mc(0,VI,1,0,"app-app-bar",0),r.Nb(1,"div",1),r.mc(2,qI,1,0,"app-home",0),r.Lb(3,"router-outlet"),r.Mb()),2&t&&(r.bc("ngIf","/login"!=e.router.url),r.Ab(2),r.bc("ngIf","/login"!=e.router.url))},directives:[x,ei,UI,jc],styles:["#content[_ngcontent-%COMP%]{display:flex}"]}),t})(),zI=(()=>{class t{}return t.\u0275mod=r.Ib({type:t,bootstrap:[HI]}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[],imports:[[Mc.a.initializeApp(i),wt,NI,lu,FI,Ac,Ju,Hu],Mc.a,Kc]}),t})();Object(r.T)(),vt().bootstrapModule(zI).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);